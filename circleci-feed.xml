This XML file does not appear to have any style information associated with it. The document tree is shown below.
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0" xml:base="https://circleci.com/">
<channel>
<title>The CircleCI Blog Feed - CircleCI</title>
<description>Stay up to date with the latest news, updates, and hacks from CircleCI.</description>
<link>https://circleci.com/blog/</link>
<atom:link href="https://circleci.com/blog/feed.xml" rel="self" type="application/rss+xml"/>
<item>
<title>Testing React components with Cypress</title>
<link>https://circleci.com/blog/cypress-react-component-testing/</link>
<pubDate>Wed, 30 Nov 2022 09:00:00 -0800</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/cypress-react-component-testing/</guid>
<dc:creator>Waweru Mwaura</dc:creator>
<description><blockquote> <p>This tutorial covers:</p> <ol> <li>Creating and setting up a React application</li> <li>Using Cypress to test React components</li> <li>Automating component testing for React</li> </ol> </blockquote> <p>Components are reusable bits of code that, most of the time, work and function independently. If you want to be confident that components are working properly, you need to test them. Conveniently, Cypress.io has designed their testing framework to include component testing. This tutorial illustrates the differences between end-to-end (E2E) and component testing, and what to consider when using these methods. Then, you will learn how to use Cypress for component testing.</p> <h2>Prerequisites</h2> <p>To follow along easily, you will need:</p> <ol> <li><a href="https://nodejs.org/" target="_blank" rel="noreferrer noopener">Node.js</a> installed</li> <li><a href="https://circleci.com/signup">CircleCI</a> account</li> <li><a href="https://github.com/" target="_blank" rel="noreferrer noopener">GitHub</a> account and an understanding of Git</li> <li>Sound knowledge of JavaScript and React</li> <li>Understanding of how pipelines work</li> <li>A clone of the demo <a href="https://github.com/CIRCLECI-GWP/component-testing-with-cypress" target="_blank" rel="noreferrer noopener">React app</a></li> </ol> <blockquote><p> Our tutorials are platform-agnostic, but use CircleCI as an example. If you don’t have a CircleCI account, <a href="https://circleci.com/signup/"> <strong>sign up for a free one here</strong></a>. </p></blockquote> <p><strong>Note:</strong> <i>The React component has been developed and can be found in the cloned repository under <code>src/components/App.js</code>. To keep things simple, the focus of this tutorial will be on testing the already developed React component.</i></p> <p>In the next section, we will look at component testing and how it compares to end-to-end testing.</p> <h2>What is component testing?</h2> <p>A component is a distinguishable part of a software program. Forms, calls to action, and site searches are examples of web application components. Web components can be anything from a simple call to action button to a full registration form submission.</p> <p>Component testing is also known as program or module testing. The process consists of independently verifying and validating the functionality, performance, and compliance to requirements of a specific component from the main application. This testing is limited to that particular component and is made simple by the nature of the easily testable features.</p> <h2>Component testing vs end-to-end testing</h2> <p>E2E tests determine whether the flow of an application from start to finish proceeds as expected. E2E tests include testing integrations with third-party APIs and services. Critical functionality gets tested throughout the application. Cypress uses a browser to run end-to-end tests in the same way that users interact with an application. Basic end-to-end testing for an application might include user registration, confirmation email, login, profile update, and logout.</p> <p>End-to-end tests are more comprehensive, slower, and more prone to <code>flakiness</code> than component tests. Component tests are specialized, quick, and reliable. Because of the scope, end-to-end testing often requires a complex set-up phase. No complicated configurations are needed for component tests.</p> <p>End-to-end tests in Cypress can be written by developers, specialized testing engineers, or a quality assurance team. Usually, the component developers themselves write component tests. Developers can easily verify a component’s required functionality while building it. As you are writing the actual component tests later in the tutorial, you will notice that the initialization command in Cypress end-to-end tests is <code>cy.visit(url)</code>. Component tests use <code>cy.mount(&lt;MyComponent /&gt;)</code>. A well-tested app includes both end-to-end <i>and</i> component tests, with each set of tests specializing in the tasks they perform best.</p> <p><strong>Note:</strong> <i>A test is considered “flaky” when it passes and fails without any changes to the code or the test itself. This signifies either an unstable system or poorly designed/written tests. Learn more in <a href="https://circleci.com/blog/reducing-flaky-test-failures/">How to reduce flaky test failures</a>.</i></p> <p><strong>Advantages of component testing include:</strong></p> <ul> <li>Detects module flaws</li> <li>Components are tested on their own, not as part of the whole application</li> <li>Limited scope makes them quick and dependable</li> <li>Reduces development time</li> <li>Easy to set up specific scenarios</li> <li>No external system needed</li> </ul> <p>To learn more about comparing testing methods, visit <a href="https://docs.cypress.io/guides/core-concepts/testing-types" target="_blank" rel="noreferrer noopener">Cypress Testing Types</a>.</p> <p>Now that you understand Cypress component testing, the next sections will show you how to configure Cypress in an application, how to write tests, and how to run them.</p> <h2>Using Cypress for component testing</h2> <p>To test a React application using Cypress E2E tests, you would run the app on a local development server while Cypress runs in a separate terminal. Cypress visits your application using the command <code>cy.visit(url)</code> and runs assertions on the loaded page.</p> <p>The latest versions of Cypress include a built-in development server, eliminating the need for a local development server when performing component tests. The built-in server in Cypress is in charge of mounting and rendering the component in the browser. It only mounts and renders the component separate from the main application.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Testing in Cypress overview" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-illustration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-illustration.png" /></p> <p>This illustration shows that Cypress runs component tests in this order:</p> <ul> <li>Mounts the component with the <code>cy.mount()</code> command</li> <li>Renders the component</li> <li>Uses Cypress commands to test component attributes</li> </ul> <p>A failure at a specified point causes the test to fail.</p> <h2>Writing component tests</h2> <p>This section details how to configure Cypress and write tests for the cloned newsletter subscription component. Before you can write component tests, you need to install Cypress and integrate it with React.</p> <p>To install Cypress, enter:</p> <pre><code class="language-bash">npm install cypress --save-dev </code></pre> <p>This installs Cypress locally as a dev dependency for the project.</p> <p>To open the application, enter:</p> <pre><code class="language-bash">npx cypress open </code></pre> <p>This command opens the Cypress launchpad.</p> <p>Select <strong>Component Testing</strong></p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Select testing option" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-component-test-option.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-component-test-option.png" /></p> <p>Confirm the frontend framework and bundler, and click <strong>Next Step.</strong></p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Select frontend framework" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-project-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-project-setup.png" /></p> <p>The development dependencies are already installed. Go to the next step by clicking <strong>Continue</strong>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Install dev dependencies" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-dev-dependencies.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-dev-dependencies.png" /></p> <p>Cypress then generates configuration files for the testing type you selected. Click the <strong>Continue</strong> button.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Cypress generated configuration files" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-config-files.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-config-files.png" /></p> <p>Click your preferred browser to continue.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Choose a browser" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-select-browser.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-select-browser.png" /></p> <p>You want to start writing your tests from the ground up, so select <strong>Create new empty spec</strong>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Create a spec" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-create-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-create-spec.png" /></p> <p>Give the spec a name, then click the <strong>Create Spec</strong> button.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Path to spec" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-path-to-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-path-to-spec.png" /></p> <p>Now you have a specification file that includes sample code. Run the file.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Run spec" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-run-spec.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-run-spec.png" /></p> <p>Now you can start creating tests for your newsletter subscription form. The test should verify that these actions happen:</p> <ul> <li>The component is installed correctly</li> <li>There is a placeholder in the input field</li> <li>A success message is returned after a subscription</li> </ul> <p>In the spec file you just created, replace the generated code with this:</p> <pre><code class="language-JavaScript">// cypress/component/NewsLetterSubscription.cy.js file import App from "../.././src/components/App"; describe("NewsLetterSubscription.cy.js", () =&gt; { describe("NewsLetterSubscription.cy.js", () =&gt; { it("Check input field for placeholder", () =&gt; { cy.mount(&lt;App /&gt;); // mount the component cy.get("input").should( "have.attr", "placeholder", "Subscribe to our newsletter" ); // check the placeholder in the input field }); it("test newsletter subscription", () =&gt; { cy.mount(&lt;App /&gt;); // mount the component cy.get('[data-test="email-input"]').type("test@gmail.com"); // Type email cy.get('[data-test="submit-button"]').click(); // Click on submit button cy.get('[data-test="success-message"]') .should("exist") .contains("Thank you for subscribing to our newsletter"); // Check if success message is displayed }); }); }); </code></pre> <p>This test suite first mounts the component with the <code>cy.mount()</code> command. It then checks to see if the input field has a placeholder with some text using the <code>cy.get() </code>function.</p> <p>When you enter an email address and click the subscribe button, a success message should be returned.</p> <p>Go to the Cypress browser to make sure that the tests passed.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Passing tests" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-passed-tests.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-passed-tests.png" /></p> <p>Congratulations, you have a tested React component! Your next step is to integrate your tests to a <a href="https://circleci.com/blog/what-is-a-ci-cd-pipeline/">CI/CD pipeline</a>. For that, you can use CircleCI.</p> <h2>Configuring CircleCI</h2> <p>To get started with CircleCI configuration, create a <code>.circleci</code> folder at the root of the project. Inside it, create a file named <code>config.yml</code>. To make configuration a bit easier, you can use CircleCI <a href="https://circleci.com/orbs/">orbs</a>.</p> <p><strong>Note:</strong> <i>Before using the Cypress CircleCI orb in your project, from organization settings, allow the use of uncertified orbs. <code>Settings -&gt; Security -&gt; Allow uncertified orbs</code>.</i></p> <p>Enter the following content into the <code>config.yml</code> file:</p> <pre><code class="language-yaml">version: 2.1 # Use 2.1 to make use of orbs and other features orbs: # An orb is a reusable package of CircleCI configuration that you may share # across projects, enabling you to create encapsulated, parameterized commands, jobs, and # executors that can be used across multiple projects. cypress: cypress-io/cypress@1 workflows: # Workflows are a declarative way to orchestrate jobs and their run order. build: jobs: - cypress/run: # Run the cypress/run job from the cypress orb command: npx cypress run --headless --component # Run the cypress run command in headless mode </code></pre> <p>Add the project to GitHub, then log into your CircleCI account.</p> <p>Find the project in the list on the Project tab. Click <strong>Set Up Project</strong>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Select a project" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-initial-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-initial-setup.png" /></p> <p>Enter <code>main</code> as the name of the GitHub branch containing your CircleCI configuration. Click <strong>Set Up Project</strong>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Enter the branch where config lives" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-project-branch.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-project-branch.png" /></p> <p>CircleCI starts your pipeline, which will run the tests. After a few minutes, your tests should pass. Click on the green success badge to review the details.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Successful workflow" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-29-successful-pipeline.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-29-successful-pipeline.png" /></p> <p>Great! You have successfully set up tests to run whenever you change the code.</p> <h2>Conclusion</h2> <p>In this post, you learned what component testing is, how it differs from E2E testing, and what its benefits are. You learned how to use Cypress for component testing, configure Cypress in a React project, test components in Cypress tests, and how to run the tests. You finished the project by setting up CircleCI to automatically execute your component tests. I hope you enjoyed reading this as much as I enjoyed creating it. Until next time, keep learning!</p> </description>
</item>
<item>
<title>What I learned from developing a GitLab support feature for CircleCI</title>
<link>https://circleci.com/blog/developing-support-for-gitlab-teams/</link>
<pubDate>Mon, 28 Nov 2022 01:00:00 -0800</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/developing-support-for-gitlab-teams/</guid>
<dc:creator>Andrew Welton</dc:creator>
<description><p>Earlier this year, CircleCI added GitLab as the third version control system that we support, in addition to GitHub and Bitbucket. At CircleCI, it’s vital that we meet our users where they are, and many of our users are on GitLab. We were happy to make it possible for our users to build, test, and deploy via the GitLab platform.</p> <p>As a staff software engineer on the onboarding experience team, I want to tell you about what it was like to develop this experience — the challenges we encountered, how we overcame them, and what we learned that we’ll carry forward.</p> <h2>The silent launch period</h2> <p>My team chose to silently launch GitLab availability so we could gather early feedback and make improvements before releasing the experience to all users. We agreed that the minimum functionality required before releasing, even silently, meant that a user had to be able to go from not having a CircleCI account at all, to successfully creating a new project connected to a GitLab repository. The experience had to contain everything a user would need to complete their journey with no manual interventions.</p> <p>By silently letting CircleCI users discover this new functionality, we were able to capture users who were already actively interested in trying out the GitLab experience. Our theory was that these users would be motivated to go through the entire experience, even if it was a little bumpy, and we would be able to get valuable information from them.</p> <p>Because users were discovering the experience on their own and we didn’t have direct interaction with them, we had to make sure our monitoring and analytics were securely in place so we could see which parts of our system were slowing users down or preventing them from being successful.</p> <h2>Getting access to the new feature: Personal Access Tokens vs OAuth</h2> <p>We offered 2 options for users to set up projects: “personal access tokens” or via the passwordless access application, OAuth. We quickly found that users who tried to use personal access tokens often didn’t understand how to create the tokens, what permissions they needed, or what they were used for. Once we noticed that access token users were having trouble, we added more text and links to documentation, and we tried linking them directly to the GitLab tokens page.</p> <p>Ultimately, we found that personal access tokens were too cumbersome for our users, so we decide to do away with them altogether in favor of OAuth. Now we see many more GitLab users successfully making it through the sign-up process.</p> <p>Continuous delivery was critical during this phase. Any time we noticed that users were struggling to understand something, we immediately began working on a fix. Once we shipped a fix and merged it, it was live for all users within 20 minutes. This left my team feeling empowered as developers because we were able to deliver value as often as possible and we saw the experience improve in real time.</p> <h2>General availability: learning from feedback</h2> <p>The General Availability launch was all about gathering more robust feedback. With increased traffic to GitLab support, we were better able to identify trends and observe common areas where users were getting stuck or having a poor experience.</p> <p>We largely relied on our built-in analytics and monitoring capabilities to inform how users were progressing through the experience. If there was anything we could ship quickly to improve the experience, we prioritized those fixes and aimed to deliver them as soon as possible. Any common problem areas or places where users got stuck were grouped together and we would brainstorm larger initiatives to improve these areas later.</p> <p>During this period, we again saw that many users were getting stuck in the sign-up process. The way our GitLab support works is that a GitLab account can only ever be linked to one CircleCI account. We found that when users were testing the experience, they would sometimes use a temporary GitLab account before connecting their real one.</p> <p>Then, when they tried to use their real GitLab account, their permission would be denied. We didn’t do a good job of communicating that problem to users — we actually failed to show an error message at all so it looked like nothing was happening, which users found very frustrating.</p> <p>Once we realized this, we were able to quickly deliver a change to distinguish this error case specifically and provide an actual error state for users, giving them more clarity into the issue.</p> <p>After implementing these changes, we would observe the impact daily. Overall, we found that more users were successfully accessing the experience after we had shipped improvements, which was really gratifying to see.</p> <h2>Delivering value quickly</h2> <p>Throughout this experience, my team learned how crucial analytics are to a project like this and that they should be put in place with the same attention we give to the rest of the project’s design. Many of the early changes we made to the experience were around adding tracking capabilities. If we can be more diligent about planning our analytics capabilities at the start, we won’t have to play catch-up next time.</p> <p>We also learned that silently launching was a useful tool. When we’re developing, we tend to be very focused on our specific experience and it can be tough to look beyond that. By silently launching early, we had more time where the experience was live and we were able to gather real feedback on what we built. Having the space to step back and look at the whole experience gave us a chance to find rough edges and address them before more customers discovered them.</p> <p>One of the most satisfying things about working on this project is that my team had a lot of control over the experience. We were able to deliver value to our users quickly and effectively. Our testing practices and controls meant we could ship our changes with confidence. We were in a position to ship multiple changes to production daily, which helped us learn more about our own system and let us feel in control of this project from beginning to end.</p> </description>
</item>
<item>
<title>Build a CI powered RESTful API with Laravel</title>
<link>https://circleci.com/blog/build-a-ci-powered-restful-api-with-laravel/</link>
<pubDate>Mon, 28 Nov 2022 01:00:00 -0800</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/build-a-ci-powered-restful-api-with-laravel/</guid>
<dc:creator>Fikayo Adepoju</dc:creator>
<description><blockquote> <p>This tutorial covers:</p> <ol> <li>Building a RESTful API with Laravel</li> <li>Testing the API locally</li> <li>Automating API tests</li> </ol> </blockquote> <p>When it comes to building RESTful APIs, PHP’s open source Laravel framework remains a <a href="https://appmaster.io/blog/10-best-web-backend-frameworks" target="_blank" rel="noreferrer noopener">top 5 backend framework</a> for web development. Laravel also makes testing your API endpoints a breeze by providing an easy-to-use testing suite. In this post, we will build a token-based authentication API with Laravel, write tests for the endpoints, and automate the build and testing process with CircleCI.</p> <h2>Prerequisites</h2> <p>To follow along with this post, you will need a few things:</p> <ul> <li><a href="https://www.php.net/" target="_blank" rel="noreferrer noopener">PHP</a> &gt;= 7.3 installed on your system (you can confirm that your version in high enough by running the command <code>php -v</code> on your terminal)</li> <li><a href="https://getcomposer.org/" target="_blank" rel="noreferrer noopener">Composer</a> installed globally (confirm this by running the <code>composer</code> command on your terminal)</li> <li><a href="https://git-scm.com/" target="_blank" rel="noreferrer noopener">Git</a> installed on your system</li> <li>A <a href="https://github.com/" target="_blank" rel="noreferrer noopener">GitHub</a> account</li> <li>A <a href="https://circleci.com/signup/" target="_blank" rel="noreferrer noopener">CircleCI</a> account</li> </ul> <blockquote><p> Our tutorials are platform-agnostic, but use CircleCI as an example. If you don’t have a CircleCI account, <a href="https://circleci.com/signup/"> <strong>sign up for a free one here</strong></a>. </p></blockquote> <p>Once you have these up and running, you will be ready to follow along with the tutorial.</p> <h2>Scaffolding the Laravel API</h2> <p>Your first step is to scaffold a new Laravel application. To begin, issue this command:</p> <pre><code class="language-bash">composer create-project laravel/laravel my-new-laravel-api </code></pre> <p>This will create a project with the name <code>my-new-laravel-api</code> in the location where the command was run. You can give your project any name you want.</p> <h2>Setting up the database</h2> <p>For this tutorial, you will use SQLite for both the testing and main databases. In practice, you would use a more sophisticated DBMS like MySQL or MSSQL, but we will keep things in this tutorial simple. The configuration for the main database is in the <code>.env</code> file. Create a <code>.env.testing</code> file to hold your test database configuration.</p> <p>You already have the <code>.env</code> file that comes with the default project scaffolding. Create a new file named <code>.env.testing</code> and copy the contents of <code>.env.example</code> (which is also created by default), into it.</p> <p>Replace the database configuration section of both files (<code>.env</code> and <code>.env.testing</code>) with this configuration:</p> <pre><code>DB_CONNECTION=sqlite DB_HOST=null DB_PORT=null DB_DATABASE=database/database.sqlite DB_USERNAME=null DB_PASSWORD=null </code></pre> <p>You are using the same configuration for both files because both your main and testing databases use SQLite. In the previous code snippet, your connection is set to <code>sqlite</code> and your database to <code>database.sqlite</code>, which is in the <code>database</code> folder. You have not yet created this <code>database.sqlite</code> file. Go into the <code>database</code> folder at the root of your project and create it.</p> <p>The final task in setting up your database is to use one of Laravel’s helpers to point to your SQLite database file in the database configuration file in <code>config/database.php</code>. Inside the <code>config/database.php</code> file, replace the SQLite configuration in the <code>connections</code> array with this one:</p> <pre><code class="language-php">'sqlite' =&gt; [ 'driver' =&gt; 'sqlite', 'database' =&gt; database_path('database.sqlite'), 'prefix' =&gt; '', ], </code></pre> <p>This makes sure that the SQLite configuration always points to the correct database path, even if you change the environment in which the application is running.</p> <p>To confirm that all is working perfectly, migrate the database by running this command:</p> <pre><code class="language-bash">php artisan migrate </code></pre> <p>A successful migration should display something similar to the screenshot below:</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Successfull migration" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-migration.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-23-successful-migration.png" /></p> <p>Make sure that you ignore the database file by declaring it in your <code>.gitignore</code> file.</p> <h2>Setting up token-based authentication with Passport</h2> <p>Your next task is to set up an API project to use token-based authentication. You will be doing that using the <a href="https://github.com/laravel/passport" target="_blank" rel="noreferrer noopener">Laravel Passport</a> OAuth library which provides a full OAuth2 server implementation for your Laravel application. First, install the <code>laravel/passport</code> package:</p> <pre><code class="language-bash">composer require laravel/passport </code></pre> <p>Once the installation is done, run this command to run the migrations that come with <code>laravel/passport</code>:</p> <pre><code class="language-bash">php artisan migrate </code></pre> <p>This should print a screen similar to the one below on your command line:</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Migrate Passport Table" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-23-migrate-laravel-passport.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-23-migrate-laravel-passport.png" /></p> <p>Passport requires encryption keys to generate access tokens, these keys need to be generated and saved in the database. To generate these keys, run this command:</p> <pre><code class="language-bash">php artisan passport:install </code></pre> <p>After running this command successfully, you should see your client secrets generated.</p> <p>The next step is to add the <code>Laravel\Passport\HasApiTokens</code> trait to your <code>App\User</code> model. This will introduce helper methods from the <code>laravel/passport</code> package into the application to help with inspecting a user’s token and scopes. Open the <code>app/Models/User.php</code> file and replace its contents with the code below:</p> <pre><code class="language-php">&lt;?php &lt;?php namespace App\Models; use Illuminate\Contracts\Auth\MustVerifyEmail; use Illuminate\Database\Eloquent\Factories\HasFactory; use Illuminate\Foundation\Auth\User as Authenticatable; use Illuminate\Notifications\Notifiable; use Laravel\Passport\HasApiTokens; class User extends Authenticatable { use HasApiTokens, HasFactory, Notifiable; /** * The attributes that are mass assignable. * * @var array&lt;int, string&gt; */ protected $fillable = [ 'name', 'email', 'password', ]; /** * The attributes that should be hidden for serialization. * * @var array&lt;int, string&gt; */ protected $hidden = [ 'password', 'remember_token', ]; /** * The attributes that should be cast. * * @var array&lt;string, string&gt; */ protected $casts = [ 'email_verified_at' =&gt; 'datetime', ]; } </code></pre> <p>In this file, you imported the <code>Laravel\Passport\HasApiTokens</code> trait and instructed your class to use it.</p> <p>Next, you need to call the <code>Passport::routes</code> method inside the boot method of your <code>AuthServiceProvider</code> contained inside the <code>app/Providers/AuthServiceProvider.php</code> file. Open this file and replace the contents with the code below:</p> <pre><code class="language-php">&lt;?php namespace App\Providers; use Laravel\Passport\Passport; use Illuminate\Support\Facades\Gate; use Illuminate\Foundation\Support\Providers\AuthServiceProvider as ServiceProvider; class AuthServiceProvider extends ServiceProvider { protected $policies = [ 'App\Model' =&gt; 'App\Policies\ModelPolicy', ]; public function boot() { $this-&gt;registerPolicies(); Passport::routes(); } } </code></pre> <p>Finally, open <code>config/auth.php</code> configuration file and define an api authentication guard to set the driver option to passport as shown below:</p> <pre><code class="language-php">'guards' =&gt; [ 'web' =&gt; [ 'driver' =&gt; 'session', 'provider' =&gt; 'users', ], 'api' =&gt; [ 'driver' =&gt; 'passport', 'provider' =&gt; 'users', ], ], </code></pre> <p>With this, the application will now use Passport’s TokenGuard to authenticate incoming requests.</p> <h2>Creating the API endpoints</h2> <p>You are going to be building a simple user profile API. The user will be able to:</p> <ul> <li>Sign up for a new account</li> <li>Log in to their accounts using their login credentials</li> <li>Fetch their profile</li> <li>Log out of the application</li> </ul> <p>You need to create API endpoints for these four tasks. Go into the file <code>routes/api.php</code> and replace its contents with the code below:</p> <pre><code class="language-php">&lt;?php use App\Http\Controllers\AuthController; Route::group([ 'prefix' =&gt; 'auth' ], function () { Route::post('login', [AuthController::class, 'login']); Route::post('signup', [AuthController::class, 'signup']); Route::group([ 'middleware' =&gt; 'auth:api' ], function() { Route::get('logout', [AuthController::class, 'logout']); Route::get('user', [AuthController::class, 'user']); }); }); </code></pre> <p>This code creates an <code>auth</code> route group and creates four routes for the four tasks stated earlier.</p> <p>The <code>auth/logout</code> and <code>auth/user</code> routes are authenticated with the <code>auth:api</code> middleware to ensure that only authenticated access is allowed to these endpoints. You also referenced <code>AuthController</code> above which is the controller that you will be creating next. To do that, run this command to create the controller:</p> <pre><code class="language-bash">php artisan make:controller AuthController </code></pre> <p>Now place this code into the newly created controller:</p> <pre><code class="language-php">&lt;?php namespace App\Http\Controllers; use App\Models\User; use Carbon\Carbon; use Illuminate\Http\Request; use Illuminate\Support\Facades\Auth; class AuthController extends Controller { /** * Create user * * @param [string] name * @param [string] email * @param [string] password * @param [string] password_confirmation * @return [string] message */ public function signup(Request $request) { $request-&gt;validate([ 'name' =&gt; 'required|string', 'email' =&gt; 'required|string|email|unique:users', 'password' =&gt; 'required|string|confirmed' ]); $user = new User([ 'name' =&gt; $request-&gt;name, 'email' =&gt; $request-&gt;email, 'password' =&gt; bcrypt($request-&gt;password) ]); $user-&gt;save(); return response()-&gt;json([ 'message' =&gt; 'Successfully created user!' ], 201); } /** * Login user and create token * * @param [string] email * @param [string] password * @param [boolean] remember_me * @return [string] access_token * @return [string] token_type * @return [string] expires_at */ public function login(Request $request) { $request-&gt;validate([ 'email' =&gt; 'required|string|email', 'password' =&gt; 'required|string', 'remember_me' =&gt; 'boolean' ]); $credentials = request(['email', 'password']); if(!Auth::attempt($credentials)){ return response()-&gt;json([ 'message' =&gt; 'Unauthorized' ], 401); } $user = $request-&gt;user(); $tokenResult = $user-&gt;createToken('Personal Access Token'); $token = $tokenResult-&gt;token; if ($request-&gt;remember_me){ $token-&gt;expires_at = Carbon::now()-&gt;addWeeks(1); } $token-&gt;save(); return response()-&gt;json([ 'access_token' =&gt; $tokenResult-&gt;accessToken, 'token_type' =&gt; 'Bearer', 'expires_at' =&gt; Carbon::parse( $tokenResult-&gt;token-&gt;expires_at )-&gt;toDateTimeString() ]); } /** * Logout user (Revoke the token) * * @return [string] message */ public function logout(Request $request) { $request-&gt;user()-&gt;token()-&gt;revoke(); return response()-&gt;json([ 'message' =&gt; 'Successfully logged out' ]); } /** * Get the authenticated User * * @return [json] user object */ public function user(Request $request) { return response()-&gt;json($request-&gt;user()); } } </code></pre> <p>That is a lot of code. I will go through it for you, method by method.</p> <h3>The signup method</h3> <p>This method receives an email, a password, and the user’s name as parameters, it then creates a user using the Lucid model’s <code>save()</code> method on the <code>User</code> model and returns a success message along with a status of 201.</p> <h3>The login method</h3> <p>This method receives the user email and password and an optional <code>remember_me</code> parameter. It then verifies the credentials, and upon successful verification, returns the access token, token type, and the time that the token will expire.</p> <h3>The logout method</h3> <p>This method receives and revokes the access token given to the user then sends a success message upon log out.</p> <h3>The user method</h3> <p>This method receives the user’s access token and uses it to return the user’s details.</p> <p><strong>Note:</strong> <i>If you see a file <code>.rnd</code> created in your project, ignore this file by adding it to your <code>.gitignore</code> file.</i></p> <h2>Testing the API endpoints</h2> <p>It is now time to write some tests for the API endpoints. Create a test by running this command:</p> <pre><code class="language-bash">php artisan make:test UserTest </code></pre> <p>This creates the <code>UserTest</code> test file inside the <code>tests/Feature</code> folder. Delete the <code>ExampleTest.php</code> file that comes by default in the folder. Open the <code>UserTest.php</code> file just created and replace its contents with the code below:</p> <pre><code class="language-php">&lt;?php namespace Tests\Feature; use Tests\TestCase; use Illuminate\Foundation\Testing\WithFaker; use Illuminate\Foundation\Testing\RefreshDatabase; use App\Models\User; class UserTest extends TestCase { use WithFaker; private $password = "mypassword"; public function testUserCreation() { $name = $this-&gt;faker-&gt;name(); $email = $this-&gt;faker-&gt;email(); $response = $this-&gt;postJson('/api/auth/signup', [ 'name' =&gt; $name, 'email' =&gt; $email, 'password' =&gt; $this-&gt;password, 'password_confirmation' =&gt; $this-&gt;password ]); $response -&gt;assertStatus(201) -&gt;assertExactJson([ 'message' =&gt; "Successfully created user!", ]); } public function testUserLogin() { $name = $this-&gt;faker-&gt;name(); $email = $this-&gt;faker-&gt;email(); $user = new User([ 'name' =&gt; $name, 'email' =&gt; $email, 'password' =&gt; bcrypt($this-&gt;password) ]); $user-&gt;save(); $response = $this-&gt;postJson('/api/auth/login', [ 'email' =&gt; $email, 'password' =&gt; $this-&gt;password ]); $response-&gt;assertStatus(200); $this-&gt;assertAuthenticated(); } } </code></pre> <p>This file contains the test for<code>/api/auth/signup</code> and <code>/api/auth/login</code> API endpoints. These endpoints ensure that users are able to sign up and login successfully. The test generated a random email address and user’s name using the already-installed PHP <a href="https://github.com/fzaninotto/Faker" target="_blank" rel="noreferrer noopener">Faker library</a> along with a generic password to create a new user account. The test also asserts that the appropriate HTTP status codes and messages are defined within the controller.</p> <h2>Running tests locally</h2> <p>Now to take your test for a spin. You will be using PHPUnit to run your test. An installation of PHPUnit comes with the <code>phpunit</code> CLI command. You can have this command running globally with a global installation of <a href="https://phpunit.de/" target="_blank" rel="noreferrer noopener">PHPUnit</a>, or have it at project level. The default scaffolded Laravel project already has the package installed locally which enables us to run your tests.</p> <p>To run the tests, run this command at the project root:</p> <pre><code class="language-bash">php artisan test </code></pre> <p>This runs the <code>phpunit</code> command using your local installation of the package. If everything goes fine, all your tests should run successfully and you should have a screen similar to the one below.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="PHPUnit test successful" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-phpunit-test.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-23-successful-phpunit-test.png" /></p> <h2>Automating your tests with CircleCI</h2> <p>Time to introduce the power of CI/CD into your Laravel API. You will be creating a pipeline that runs tests automatically every time you push new code. You get either a successful or failed CI/CD pipeline status from CircleCI. Your pipeline will consist of these steps:</p> <ul> <li>Spinning up the required environment</li> <li>Installing dependencies with composer</li> <li>Setting up a <code>.env</code> environment file for the project</li> <li>Setting up the test database and running migrations</li> <li>Generating encryption keys for the <code>laravel/passport</code> package</li> <li>Running the tests</li> </ul> <p>To create a CI/CD pipeline, you need to write a configuration file for CircleCI. Go into the root of your project and create a folder named <code>.circleci</code>. Inside this folder, create a file named <code>config.yml</code>.</p> <p>Open the newly created configuration file and use this code for it:</p> <pre><code class="language-yaml">version: 2.1 orbs: browser-tools: circleci/browser-tools@1.1 jobs: build: docker: # Specify the version you desire here - image: cimg/php:7.4.14-browsers steps: - browser-tools/install-browser-tools - checkout - run: name: "Create Environment file and generate app key" command: | mv .env.testing .env # Download and cache dependencies - restore_cache: keys: # "composer.lock" can be used if it is committed to the repo - v1-dependencies-{{ checksum "composer.json" }} # fallback to using the latest cache if no exact match is found - v1-dependencies- - run: name: "Install Dependencies" command: composer install -n --prefer-dist - save_cache: key: v1-dependencies-{{ checksum "composer.json" }} paths: - ./vendor # prepare the database - run: name: "Generate App key" command: php artisan key:generate - run: name: "Install sqlite" command: sudo apt-get install php7.4-sqlite3 - run: name: "Create database and run migration" command: | touch database/database.sqlite php artisan migrate --env=testing - run: name: "Generate Passport encryption keys" command: php artisan passport:install # run tests with phpunit - run: name: "Run Tests" command: php artisan test </code></pre> <p>In this configuration file, you pulled the <a href="https://circleci.com/developer/images/image/cimg/php">Docker image</a> for PHP from the <a href="https://hub.docker.com/search?q=circleci&amp;type=image" target="_blank" rel="noreferrer noopener">CircleCI image registry</a>. This image contains the PHP programming language, composer, Node and browsers extensions.</p> <p>Next, it checked out your code, created a <code>.env</code> file and installed the project’s dependencies. After generating the application key with <code>php artisan key:generate</code>, it installed SQLite, ran migrations for the database and finally ran the tests with PHPUnit.</p> <p>You can now set up a repository on GitHub and push your project to it. <a href="https://circleci.com/blog/pushing-a-project-to-github/">Review Pushing a project to GitHub</a> for instructions. In the next section, you will link the project to CircleCI.</p> <h2>Connecting the API project to CircleCI</h2> <p>Now its time to hand over this configuration to CircleCI to set up your pipeline. You do that by connecting your project to CircleCI. Head over to your <a href="https://app.circleci.com/dashboard">CircleCI dashboard</a>. If you signed up with your GitHub account, all your repositories will be available on your project’s dashboard.</p> <p>Click Set Up Project next to your <code>my-new-laravel-api</code> project.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Select project" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-23-select-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-23-select-project.png" /></p> <p>On the <strong>Select your config.yml file</strong> screen, select the Fastest option and type <code>main</code> as the branch name. CircleCI will automatically locate the <code>config.yml</code> file. Click <strong>Set Up Project</strong> to start the workflow.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Select Configuration" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-23-select-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-23-select-config.png" /></p> <p>CircleCI will begin to run your pipeline configuration. If you have followed the instructions correctly, you should have a successful build indicated by the screen below.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Successfull Build" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-23-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-23-successful-build.png" /></p> <p>Perfect. You have successfully powered your Laravel API with a CI/CD pipeline that automatically runs your test using CircleCI.</p> <h2>Conclusion</h2> <p>In this article, you developed a token-based authentication API with Laravel, tested it, and automated the building and testing process using a CI/CD pipeline created for and run by CircleCI. This is just the starting point for bringing automation into the development of your Laravel APIs. There is a lot more you can do with CircleCI to create a more robust and complex pipeline that takes away a lot of the manual tasks involved in application development.</p> <p>I hope you have learned something valuable from this post. The complete source code can be found <a href="https://github.com/CIRCLECI-GWP/my-new-laravel-api" target="_blank" rel="noreferrer noopener">here on GitHub</a>. Happy Coding :)</p> </description>
</item>
<item>
<title>JavaScript immediately invoked function expressions</title>
<link>https://circleci.com/blog/ci-cd-for-js-iifes/</link>
<pubDate>Tue, 22 Nov 2022 09:00:00 -0800</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/ci-cd-for-js-iifes/</guid>
<dc:creator>Waweru Mwaura</dc:creator>
<description><blockquote> <p>This tutorial covers:</p> <ol> <li>When to use IIFEs instead of traditional functions</li> <li>Writing tests for IIFEs</li> <li>Integrating CI/CD for IIFE tests</li> </ol> </blockquote> <p>JavaScript Immediately Invoked Function Expressions (IIFEs) are functions that are executed when they are initialized. An IIFE (pronounced “iffy”) can be initialized or defined to achieve a certain purpose. In this tutorial, you will learn about use cases for IIFEs and the benefits of using them over traditional functions. You will also write tests for your functions and integrate CI/CD for these tests.</p> <h2>Prerequisites</h2> <p>To follow along easily, you’ll need to have:</p> <ul> <li>A <a href="https://github.com/" target="_blank" rel="noreferrer noopener">GitHub</a> account.</li> <li>A <a href="https://circleci.com/">CircleCI</a> account.</li> <li><a href="https://nodejs.org/en/" target="_blank" rel="noreferrer noopener">NodeJS</a> installed locally.</li> <li>Basic understanding of JavaScript, Git, and unit testing.</li> </ul> <blockquote><p> Our tutorials are platform-agnostic, but use CircleCI as an example. If you don’t have a CircleCI account, <a href="https://circleci.com/signup/"> <strong>sign up for a free one here</strong></a>. </p></blockquote> <h2>What is an IIFE?</h2> <p>An IIFE (Immediately Invoked Function Expression) is a function that runs the moment it is invoked or called in the JavaScript event loop.</p> <p>Having a function that behaves that way can be useful in certain situations.</p> <p>IIFEs prevent pollution of the global JS scope. In a traditional function, if you create a variable within the function, it is accessible in the global object. If you define a variable in an IIFE, it is accessible only directly within the function.</p> <p>For example, the library jQuery has the object <code>$</code>. If you have another module that also imports this object, you may run into some confusion and errors. An IIFE eliminates those errors. You can use an IIFE to create a scope for only jQuery and its methods.</p> <p>Another benefit of using IIFEs is performing asynchronous operations such as the <code>setTimeout()</code> method. You will have a chance to use this later in the tutorial in the section about closures.</p> <p>IIFEs can also be used to create private variables. These variables are useful in cases where you may need to prevent accidental modifications or changes to important values.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="How IIFEs work" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-22-iifes-work.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-22-iifes-work.png" /></p> <h2>Setting up the application</h2> <p>Clone the <a href="https://github.com/CIRCLECI-GWP/iife-Javascript" target="_blank" rel="noreferrer noopener">repository</a> for the tutorial. It contains the code you will be using in your preferred location. Open a terminal and run this command:</p> <pre><code class="language-bash">git clone https://github.com/CIRCLECI-GWP/iife-Javascript.git` </code></pre> <p>After cloning the repository change the directory to the project directory by running:</p> <pre><code class="language-bash">cd iife-JavaScript </code></pre> <p>You will also need to install the required dependencies by running this command:</p> <pre><code class="language-bash">npm install </code></pre> <h2>Using IIFEs in functions</h2> <p>IIFEs can be used for different purposes. One of the main uses of these functions is declaring global variables.</p> <p>This code snippet shows how IIFE can be used for global variable declaration:</p> <pre><code class="language-js">// Global variable declaration &lt;script&gt; (function ($){ let counter = 1; $("#increment").click(function () { $(this).text("Number of clicks: " + counter++); }) })(jQuery) &lt;/script&gt; </code></pre> <p>By using jQuery this way, you have access to the <code>$</code> object. Any code inside the IIFE that uses the object will only refer to jQuery. This object then gives us access to jQuery functions without cluttering the global namespace.</p> <p>It is also important to understand that IIFEs are functions themselves. The only difference is that they do not need to wait for invocation. On further investigation, you can see that in this snippet:</p> <pre><code class="language-js">(function myFunc() { // Beginning of function console.log(greeting) }) // End of function () //calls the function execution e.g. myFunc() </code></pre> <h3>Semicolons before IIFEs</h3> <p>One thing to be careful with is variables that are not closed off or that JavaScript deems to not have been closed off. You may run into errors if you omit semicolons, especially in applications using IIFEs. Here is an example:</p> <pre><code class="language-js">const greeting = "Hello world" (function () { console.log(greeting); })() </code></pre> <p>If you run this, you will get an error.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Error code" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-22-error.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-22-error.png" /></p> <p>For unterminated statements like variables, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#automatic_semicolon_insertion" target="_blank" rel="noreferrer noopener">Automatic Semicolon Insertion</a> (ASI) and bundlers like webpack will prevent these types of errors. However, they don’t work for all cases, including IIFEs. You can bypass this by either adding a semicolon at the end of the statement or at the beginning of the IIFE. This code snippet executes without errors because you closed off the variable:</p> <pre><code class="language-js">const greeting = "Hello world"; (function () { console.log(greeting); })() </code></pre> <h2>Named vs anonymous IIFEs</h2> <p>You can name your IIFEs or leave them anonymous. Be aware that naming them does not mean that they will be invoked after they are executed. Naming can be useful especially if you have several IIFEs that perform different operations close to each other. This code snippet shows an example of a named IIFE:</p> <pre><code class="language-js">const greeting = "Hello world"; (function myGreeting() { console.log(greeting); })() </code></pre> <p>This function is named IIFE, which does not give it an advantage over an unnamed IIFE. An unnamed IIFE has no function names and only the <code>function</code> keyword. Here is the structure of an anonymous IIFE:</p> <pre><code class="language-js">(function() { //Your code goes here })() </code></pre> <p>The syntax is similar to JavaScript’s anonymous functions. You can also use the arrow function variation:</p> <pre><code class="language-js">(() =&gt; { //Your code goes here })() </code></pre> <h2>Using IIFEs with closures</h2> <p>Another important use of IIFEs is <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures" target="_blank" rel="noreferrer noopener">closures</a>. Closures are the ability of a function to utilize variables or other information outside its local scope. For instance, the function from the previous snippet displayed the greeting even though its value is defined outside the function. This example shows how IIFEs work with closures:</p> <pre><code class="language-js">const friendlyFunction = (function () { let greetCount = 0; return function () { console.log(`Hello ${greetCount}x`); return greetCount++; } })(); friendlyFunction(); friendlyFunction(); friendlyFunction(); </code></pre> <p>In this code snippet, you define the IIFE and store it in a variable, <code>friendlyFunction</code>. As mentioned earlier, IIFEs are executed when they are defined. In this case though, the inner function is not executed until <code>friendlyFunction()</code> is called. If you comment out the function calls at the bottom, there will be no output on the console.</p> <p>The <code>greetCount</code> variable is private and accessible only in the IIFE. When invoking the function severally, the value of <code>greetCount</code> variable is persisted and incremented with each call. Without closure, the value would always be <code>0</code>. Closures in IIFEs, therefore, ensure that the global namespace is not polluted even if you decide to name your IIFE variables using the names of variables that exist in the global scope.</p> <h2>Integrating CircleCI</h2> <p>The previous section described some of the ways that IIFEs can be useful. That list cannot be complete without writing tests and integrating them with CI/CD. In this case, CircleCI.</p> <p>To do this you first need to write tests for your IIFE functions. You will use Jest which is a JavaScript test framework.</p> <p>Under <code>users.js</code> in the cloned repository, you have this asynchronous IIFE that gets users from a free <a href="https://jsonplaceholder.typicode.com/users" target="_blank" rel="noreferrer noopener">API</a>. Here is what you will use for this section:</p> <pre><code class="language-js">const axios = require('axios') //Asynchronous IIFEs const getUsers = (async () =&gt; { async function fetchUsers() { const users = await axios.get('https://jsonplaceholder.typicode.com/users') .then((response) =&gt; response.data) .catch((err) =&gt; console.log(err)) return users } return { array: await fetchUsers() } })() // should get users when we execute `node users.js` module.exports = getUsers </code></pre> <p>This IIFE returns an array containing 10 users. You can use the data from this array to write tests to make sure you get the correct array of users:</p> <pre><code class="language-js">const getUsers = require('./users') describe('JavaScript IIFE test', () =&gt; { test('should get the users array', async () =&gt; { const response = await getUsers expect(response).not.toBeNull(); expect(response.array).not.toBeNull(); expect(response.array.length).toBe(10); expect(response.array).toBeInstanceOf(Array); expect(response.array[0]).toBeInstanceOf(Object); }); test('should get a single user', async () =&gt; { const response = await getUsers expect(response).toBeDefined(); expect(response.array[0].name).toEqual("Leanne Graham") }) }); </code></pre> <p>This code snippet has a test suite that uses Jest to ensure that the data you receive is as expected. This code can be found in the <code>app.test.js</code> file. Run this test file locally:</p> <pre><code class="language-bash"> npm run test </code></pre> <p>If your assertions are correct, the tests should pass as shown here:</p> <pre><code class="language-js">PASS ./app.test.js JavaScript IIFE test √ should get the users array (1563 ms) √ should get a single user (10 ms) Test Suites: 1 passed, 1 total Tests: 2 passed, 2 total Snapshots: 0 total Time: 4.956 s Ran all test suites. </code></pre> <h2>Integrating CircleCI</h2> <p>CircleCI is a <a href="https://circleci.com/blog/what-is-a-ci-cd-pipeline/">CI/CD tool</a> that helps automate your workflows and run your tests.</p> <p>In the root folder of your <a href="https://github.com/CIRCLECI-GWP/iife-Javascript" target="_blank" rel="noreferrer noopener">project</a>, create a <code>.circleci</code> folder. Add a <code>config.yml</code> file inside it. In the <code>config.yml</code> file, add this:</p> <pre><code class="language-yml">version: 2.1 jobs: build: working_directory: ~/repo docker: - image: cimg/node:14.17.1 steps: - checkout - restore_cache: key: dependency-cache-{{ checksum "package-lock.json" }} - run: name: install dependencies command: npm install - save_cache: key: dependency-cache-{{ checksum "package-lock.json" }} paths: - ./node_modules - run: name: JavaScript IIFE test command: npm test - store_artifacts: path: ~/iife-JavaScript </code></pre> <p>CircleCI creates a virtual environment for pipeline execution. In this code snippet, we are installing necessary dependencies, saving the cache for faster builds, and then executing your tests.</p> <p>Save your local changes, commit and push them to GitHub. Sign in to your CircleCI account. From the Projects tab, click <strong>Set Up Project</strong> next to the name of your remote repository.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Project setup" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-22-setup.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-22-setup.png" /></p> <p>On the popup, select <strong>Fastest</strong>, then click <strong>Set Up Project</strong>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Config.yml" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-22-config.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-22-config.png" /></p> <p>CircleCI will then run the build job and it should succeed.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Successful build" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-22-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-22-build.png" /></p> <h2>Conclusion</h2> <p>In this tutorial, you have learned how JavaScript Immediately Invoked Function Expressions (IIFEs) can lead to faster workflows because of immediate invocations. You also learned about the different use cases for IIFEs and some of the problems they solve. Finally, you wrote tests and integrated CircleCI. I hope you enjoyed reading this tutorial and until the next one, keep learning!</p> </description>
</item>
<item>
<title>Configuring notifications for your CI builds with Slack and Twilio</title>
<link>https://circleci.com/blog/continuous-integration-slack-twilio/</link>
<pubDate>Fri, 18 Nov 2022 06:27:00 -0800</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/continuous-integration-slack-twilio/</guid>
<dc:creator>Olususi Oluyemi</dc:creator>
<description><blockquote> <p>This tutorial covers:</p> <ol> <li>Setting up a sample Node.js application</li> <li>Integrating CircleCI with Slack and Twilio</li> <li>Testing notifications for CircleCI builds</li> </ol> </blockquote> <p>CircleCI notification <a href="https://circleci.com/orbs/">orbs</a> were built to deliver messages to the appropriate channels when a build is successful or when it fails. This helps everyone involved in a project stay up-to-date with the status of the latest build.</p> <p>In this tutorial, you will explore and implement notifications sent to a Slack channel and also sent via SMS. To accomplish this task, you will make use of the Slack and Twilio orbs from the <a href="https://circleci.com/developer/orbs">CircleCI orb registry</a>. This would be a cumbersome feature to implement from scratch, but with orbs you can set this up with just a few lines of code.</p> <h2>Prerequisites</h2> <p>You need these items to get the most from this tutorial:</p> <ul> <li><a href="https://nodejs.org/" target="_blank" rel="noreferrer noopener">Node.js</a> installed on your computer</li> <li><a href="https://github.com/nestjs/nest-cli" target="_blank" rel="noreferrer noopener">Nest CLI</a> installed on your computer</li> <li><a href="https://github.com/join" target="_blank" rel="noreferrer noopener">GitHub account</a></li> <li><a href="https://circleci.com/signup/">CircleCI account</a></li> <li><a href="http://www.twilio.com/" target="_blank" rel="noreferrer noopener">Twilio account</a></li> <li><a href="https://slack.com/create" target="_blank" rel="noreferrer noopener">Slack workspace</a></li> </ul> <h2>Creating the Nest.js application</h2> <p>The first step is to build a Nest.js application that returns a simple message. Then, you will write a test to assert that the application returns the correct message. You will push your code to GitHub, which triggers the build on CircleCI. Once the build is successful, a custom message will be sent as an SMS to a preferred phone number and a specified Slack channel. This same process will be repeated in case the build fails.</p> <p>To begin, run this command:</p> <pre><code class="language-bash">nest new nest-slack-notifications </code></pre> <p>Go to the newly created project and run the application:</p> <pre><code class="language-bash">// change directory cd nest-build-notifications // run the application npm run start:dev </code></pre> <p>Go to <code>http://localhost:3000</code> to review the default homepage.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Homepage" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-welcome-page.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-welcome-page.png" /></p> <p>This process returns a <code>Hello World!</code> message, which will work for the usecase in this tutorial.</p> <h2>Running the test locally</h2> <p>By default, a Nest.js application comes with a built-in testing framework (<a href="https://jestjs.io/" target="_blank" rel="noreferrer noopener">Jest</a>) to provide assert functions. Also, a test script file located at <code>src/app.controller.spec.ts</code> has been provided to confirm that <code>Hello World!</code> was returned from the application. Use this command to run the test:</p> <pre><code class="language-bash">npm run test </code></pre> <p>You will see output similar to what is below.</p> <pre><code class="language-bash">&gt; nest-slack-notifications@0.0.1 test &gt; jest PASS src/app.controller.spec.ts AppController root ✓ should return "Hello World!" (6 ms) Test Suites: 1 passed, 1 total Tests: 1 passed, 1 total Snapshots: 0 total Time: 1.183 s Ran all test suites. </code></pre> <p>The test passes, which means you can continue with the tutorial.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Test passes" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-test-passes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-test-passes.png" /></p> <h2>Adding CircleCI configuration to automate the test</h2> <p>Now you can add the configuration file to set up <a href="https://circleci.com/continuous-integration/">continuous integration</a> with CircleCI. Create a folder named <code>.circleci</code> at the root of the application and create a new file named <code>config.yml</code> in it. Paste this code into the new file (<code>.circleci/config.yml</code>):</p> <pre><code class="language-yaml">version: 2.1 orbs: node: circleci/node@5.0.3 jobs: build-test-and-notify: executor: name: node/default steps: - checkout - run: sudo npm install -g npm@latest - run: name: Install dependencies command: npm install - run: npm test workflows: build-and-notify: jobs: - build-test-and-notify </code></pre> <p>In this config file, you have specified the Node.js orb version to be used from the CircleCI orbs registry and installed all the dependencies for the project. Then you set up the command to run the test for the application.</p> <h2>Setting up the project on CircleCI</h2> <p>Begin by <a href="https://circleci.com/blog/pushing-a-project-to-github/">pushing the project to GitHub</a>.</p> <p>Great work! You have successfully created the project, installed all of its dependencies, and set up the configuration to automatically run the test once you push new code to GitHub. You now need to connect the project to CircleCI. To do that, log in to CircleCI with your account details and select the organization on GitHub where your project was pushed.</p> <p>In this case, the name of the project is <code>nest-slack-notifications</code>. Locate it using the name of the project as you have defined it on GitHub and click <strong>Set Up Project</strong>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Setup project" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-setup-project.png" /></p> <p>On the <strong>Select your config.yml file</strong> screen, select the <strong>Fastest</strong> option. Type <code>main</code> as the branch name. CircleCI will automatically locate the <code>config.yml</code> file. Click <strong>Set Up Project</strong> to start the workflow.</p> <p>This immediately triggers the pipeline using the configuration in the project. And, you will get a successful build message.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Pipeline success" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-pipeline-success.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-pipeline-success.png" /></p> <p>Success! It worked as expected. Now you can start working on notifications that will indicate the status of the build process.</p> <h2>Adding Slack integration</h2> <p>In this section you will integrate Slack into CircleCI so that you can easily set up notifications after a build process.</p> <p>To carry out this integration, I have created a workspace on Slack named <code>CircleCI-Notify</code>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Slack workspace" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-workspace.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-slack-workspace.png" /></p> <h3>Adding the CircleCI app</h3> <p>Once you have a workspace in place, set up your Slack OAuth token for authentication. <a href="https://slack.com/signin" target="_blank" rel="noreferrer noopener">Sign into</a> your Slack work space using a browser. Next, <a href="https://api.slack.com/apps" target="_blank" rel="noreferrer noopener">visit your apps on the Slack API website</a>. Click <strong>Create New App</strong> from scratch. You will be prompted to add an app name and select the workspace that you have just signed in to. Please note that it is useful if you name your application using <code>CircleCI</code> or <code>CircleCi-&lt;modifier&gt;</code>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Slack App" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-slack-app.png" /></p> <p>On the next page, you can select features to add to your app. For this tutorial, select the “Permissions” area, where you will add <code>scopes</code>, which will provide the proper permissions.</p> <p>The Slack orb requires only the ability to post chat messages and upload files. You can supply these three using <code>Oauth Scope</code>. Click <strong>Add an OAuth Scope</strong> to select the scopes.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Slack App Scopes" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-app-scopes.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-slack-app-scopes.png" /></p> <p>Next, scroll through <strong>OAuth Tokens for Your Workspace</strong> and click <strong>Install to Workspace</strong>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Generate OAuth Token" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-generate-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-generate-oauth-token.png" /></p> <p>This generates a token for your workspace. Copy this newly generated token and keep it handy so that you can use it later in the tutorial.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Your OAuth Token" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-your-oauth-token.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-your-oauth-token.png" /></p> <h3>Update the CircleCI configuration</h3> <p>To complete the Slack integration, you need to update the CircleCI configuration file to include the <a href="https://circleci.com/developer/orbs/orb/circleci/slack">CircleCI orb for Slack</a>. Open <code>.circleci/config.yml</code> and update its content with this:</p> <pre><code class="language-yaml">version: 2.1 orbs: node: circleci/node@5.0.3 slack: circleci/slack@4.10.1 jobs: build-test-and-notify: executor: name: node/default steps: - checkout - run: name: Install dependencies command: npm install - run: npm test - slack/notify: event: pass template: success_tagged_deploy_1 - slack/notify: event: fail mentions: "@yemiwebby" template: basic_fail_1 workflows: build-and-notify: jobs: - build-test-and-notify </code></pre> <p>The changes you made in this file, included another orb in the pipeline for the Slack integration. A new command called <code>slack/notify</code> sends a message to the Slack channel once a build fails or is successful.</p> <p>These are all the updates you need to have custom messages sent to a Slack workspace to track the status of the build on CircleCI. Before updating the repository with the latest code, though, you need to integrate with Twilio for SMS notifications.</p> <h2>Integrating with Twilio for notifications</h2> <p>In this section, you will take notifications for the CircleCI build a step further by integrating it with Twilio. As mentioned earlier, the CircleCI orbs registry already has a Twilio orb for sending custom SMS notifications for a CircleCI job.</p> <p>To integrate with Twilio, you will need:</p> <ul> <li><code>TWILIO_FROM</code> is a Twilio phone number that you own, formatted with a <code>+</code> and country code, e.g. +16175551212 (E.164 format)</li> <li><code>TWILIO_TO</code> is a parameter that determines the destination phone number for your SMS message and uses the same format as <code>TWILIO_FROM</code></li> <li><code>TWILIO_ACCOUNT_SID</code> is your Twilio <code>Account SID</code> which you can find on your Twilio account dashboard</li> <li><code>TWILIO_AUTH_TOKEN</code> is your Twilio <code>AUTH TOKEN</code></li> <li><code>body</code> is a custom message that will be displayed instead of the default notification messages</li> </ul> <h3>Adding environment variables on CircleCI</h3> <p>Gather all the credentials mentioned in the previous section from your <a href="https://www.twilio.com/console" target="_blank" rel="noreferrer noopener">Twilio account dashboard</a>. Go back to the Project Settings page on CircleCI. Click <strong>Environment Variables</strong> on the side menu. Then click <strong>Add Variable</strong> and input your Twilio credentials.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Environment Variables" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-env-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-env-variables.png" /></p> <p>Go back to the Project Settings page when you are done.</p> <h3>Update the CircleCI configuration file</h3> <p>Now you need to update the CircleCI configuration file with the CircleCI Twilio orb details and the required commands. Open the <code>.circleci/config.yml</code> file and update its content with this:</p> <pre><code class="language-yaml">version: 2.1 orbs: node: circleci/node@5.0.3 slack: circleci/slack@4.10.1 twilio: circleci/twilio@1.0.0 jobs: build-test-and-notify: executor: name: node/default steps: - checkout - run: name: Install dependencies command: npm install - run: npm test - slack/notify: event: pass template: success_tagged_deploy_1 - slack/notify: event: fail mentions: "@yemiwebby" template: basic_fail_1 - twilio/sendsms: body: Successful message from Twilio - twilio/alert: body: Send error message workflows: build-and-notify: jobs: - build-test-and-notify </code></pre> <p>You made changes to this file by including the Twilio orb and these commands:</p> <ul> <li><code>twilio/sendsms</code> is a command used to send SMS once the build is successful</li> <li><code>twilio/alert</code> is a command triggered to send SMS only if an error occurs during the build</li> </ul> <p><strong>Note</strong>: <i>Enable your region in your Twilio account’s <a href="https://www.twilio.com/console/sms/settings/geo-permissions" target="_blank" rel="noreferrer noopener">Messaging Geo-permissions</a> settings to receive SMS as documented <a href="https://www.twilio.com/docs/api/errors/21408" target="_blank" rel="noreferrer noopener">here</a>. Also, make sure that your phone number is <a href="https://twilio.com/user/account/phone-numbers/verified" target="_blank" rel="noreferrer noopener">verified</a>, especially if you are using a trial account.</i></p> <h2>Testing for a successful build</h2> <p>Commit all the code changes and push them to GitHub. This will automatically trigger the build on the CircleCI console. Once the process is completed and built successfully, you will receive the custom messages both in the channel you chose for your Slack workspace and by SMS.</p> <h2>Testing for a failed build</h2> <p>To make the build on CircleCI fail so that you can see it work, open <code>src/app.service.ts</code> file and update the return message:</p> <pre><code class="language-ts">import { Injectable } from "@nestjs/common"; @Injectable() export class AppService { getHello(): string { return "Hello World"; } } </code></pre> <p>This changes the message so that the test will fail. Now, add all the new changes, commit them, and push them to GitHub. This will again trigger the build, but it will fail this time around. You will receive a message, as expected, both on Slack and Twilio.</p> <p>Here are the messages I set up to appear in the <code>#general</code> channel of the <code>CircleCI-Notify</code> workspace.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Slack custom message" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-slack-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-slack-custom-messages.png" /></p> <p>And here is the SMS from Twilio.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Twilio custom message" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-18-twilio-custom-messages.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-18-twilio-custom-messages.png" /></p> <h2>Conclusion</h2> <p>The best thing about what you learned in this tutorial is that implementing these notification features is so simple and seamless. These notifications can be easily integrated into any of your existing projects.</p> <p>Also, this process is not limited to Node.js applications. You can easily transfer and use the knowledge gained here to other projects regardless of the framework or programming language you are using. Check the <a href="https://circleci.com/developer/orbs">CircleCI orbs registry</a> to learn more about other available packages.</p> <p>The complete source code can be found <a href="https://github.com/CIRCLECI-GWP/nest-slack-notifications" target="_blank" rel="noreferrer noopener">here on GitHub</a>.</p> </description>
</item>
<item>
<title>Is a multicloud strategy right for your organization?</title>
<link>https://circleci.com/blog/multicloud-strategy/</link>
<pubDate>Thu, 17 Nov 2022 09:30:00 -0800</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/multicloud-strategy/</guid>
<dc:creator>Jacob Schmitt</dc:creator>
<description><p>For the last few years, many development teams have replaced traditional data centers with cloud-hosted infrastructure. Cloud adoption continues to grow, and teams are updating applications to leverage cloud-based services. But for many organizations, adopting a single cloud provider to host all their applications and data can put their business at risk. To reduce these risks, some organizations are distributing resources across multiple cloud providers in a specifically designed way.</p> <p>This article explores some of the drivers for adopting a multicloud strategy, the benefits, and the downsides. You will also get some advice about the best ways to structure environments when working across cloud providers.</p> <h2>What is a multicloud strategy?</h2> <p>A multicloud strategy goes beyond just having workloads in more than one cloud provider. A proper multicloud strategy means being specific about designing and deploying resources, including planning the approach taken when deploying services across more than one provider. This strategy could entail using purely consumer-based providers (such as AWS, Azure, and GCP), using different clouds within the same provider, or including a mix of private cloud providers. What is important is the intent and requirements when using multiple cloud providers.</p> <p>Common architectures for multicloud services include:</p> <ul> <li>Containerized applications or services deployed across providers and behind load balancers to enable an “always-on” environment.</li> <li>Services grouped by business function, distributed across cloud providers, and with redundant cold start components for each.</li> <li>Best-of-breed or technology-aligned application or service components for each cloud provider.</li> </ul> <p>These architectures require some strategic thinking to make sure the patterns are implemented consistently and align with the business goals. A multicloud strategy must also align with the architecture and design of impacted applications and services.</p> <h2>Benefits of multicloud strategy</h2> <p>There are many reasons why organizations adopt a multicloud strategy. Most organizations move to a multicloud environment to mitigate the risks of a single cloud environment. Other teams can opt for a multicloud strategy in order to leverage different providers’ strengths and technology stacks. Depending on these drivers, there are three significant benefits of adopting a multicloud strategy:</p> <ul> <li>Resilience</li> <li>Flexibility</li> <li>Compliance</li> </ul> <h3>Resilience</h3> <p>Many organizations service customers worldwide who require applications and systems to be running 24 hours a day. Having a resilient environment is critical for preventing service interruptions, including cloud vendor environment outages. Even the biggest cloud providers have outages, like <a href="https://status.cloud.google.com/incidents/6PM5mNd43NbMqjCZ5REh" target="_blank" rel="noreferrer noopener">Google</a>, <a href="https://www.zdnet.com/article/global-azure-outage-knocked-out-virtual-machines-other-vm-dependent-services/" target="_blank" rel="noreferrer noopener">Azure</a>, and <a href="https://www.techrepublic.com/article/aws-outage-our-bad-admits-amazon-albeit-vaguely/" target="_blank" rel="noreferrer noopener">AWS</a>.</p> <p>Making sure that critical services do not go down with the cloud is a significant benefit of a multicloud approach. Sometimes even having cold backup services on a different cloud provider can remedy situations so that organizations can implement long-term fixes. For example, having web application nodes spread across multiple vendor clouds can keep your service up and running — albeit with reduced resources — if a vendor experiences an outage. Even having services deployed to a secondary cloud that remains idle but that you can switch on when its needed provides a simple, quick fix until issues are resolved.</p> <h3>Flexibility</h3> <p>When first moving workloads into a cloud environment, most organizations settle on the single provider that best meets most of their criteria. However, as these workloads increase, so does reliance on that single vendor’s services. Vendors change their strategy, services, agreements, and pricing models quite frequently. Being locked into a single vendor can mean misalignment, increased cost, missing out on better offerings, or forced updates to applications and services. It is easy to move and create workloads in a cloud environment, but it can be difficult and costly to move them if the moves are unplanned.</p> <p>Adopting a multicloud strategy to architect applications and services minimizes the amount of vendor lock-in. Using the same technology stack and features like <a href="https://circleci.com/blog/benefits-of-containerization/">containerization</a> makes it easy to design and deploy the same services across cloud environments effectively. It also enables organizations to choose the best-specialized cloud services where they offer significant benefits.</p> <p>Still, it is vital to ensure that the options selected are flexible when using a multicloud strategy. For example, Azure Functions is an event-driven, <a href="https://circleci.com/blog/serverless-vs-containers/">serverless</a> computing platform your team can use to build and deploy services without needing to size and scale to meet demand. Your team can also deploy these functions into containers and host them outside of Azure, providing options for changing services if needed.</p> <h3>Compliance</h3> <p>Like avoiding vendor lock-in, many organizations have specific requirements for <a href="https://circleci.com/blog/automate-software-delivery-compliance/">IT systems compliance</a>. These compliance requirements can cover data privacy or sovereignty concerns, including disaster recovery and mitigation specifications.</p> <p>By adopting a multicloud strategy in combination with assessing services and data for compliance requirements, your organization can establish specific environments or architectures for critical components. Sensitive data sets, such as personally identifiable or financial information, may need to be stored within a hardened private cloud environment. Data security requirements allow applications hosted in public cloud environments to query them in specific ways.</p> <h2>Drawbacks of multicloud</h2> <p>While there are some key benefits of adopting a multicloud strategy, you should be aware of two potential drawbacks: increased cost and environmental complexity. These drawbacks can be overcome and offset by the benefits describe earlier in this article, but they can also become issues for organizations that do not prepare for them.</p> <h3>Complexity</h3> <p>Adopting a single cloud provider can add a significant learning curve for staff, given the breadth of services available. Adopting a second cloud provider can potentially double the number of services, other multicloud systems, and processes that IT staff must learn. Ensuring that people are knowledgeable across a multicloud environment can be challenging for organizations with resource constraints. These sorts of environments often require a dedicated platform engineering or cross-functional IT operations group to secure, manage, and optimize multiple deployment targets and technology stacks with a wide variety of integrations.</p> <h3>Cost</h3> <p>The second potential blocker to adopting a multicloud strategy is the overall cost. Even if current resources are essentially split between providers, the additional traffic and management layer between environments will add some costs. Failing to understand the cost differences between providers, especially when landing on a technology stack, can also lead to unnecessary expenses.</p> <p>Be sure to add the cost to hire or train staff to cover both environments when calculating the price of switching to multicloud. Also, be sure to consider the cost of unused resources that can occur when the environment’s complexity hampers the visibility of all resources. Multicloud adoption can drive some cost savings, but this is not usually the primary reason for adopting a multicloud strategy.</p> <h2>Should you adopt a multicloud strategy?</h2> <p>When is the right time to consider adopting a multicloud strategy? This question can be challenging to answer. Because of the added complexity and cost of adopting a multicloud strategy, there should be a significant business driver that its benefits would solve. Without this legitimate, current business need, organizations can take on plenty of complexity and cost without a significant advantage.</p> <p>Examples of these business drivers include:</p> <ul> <li>A significant risk or cost associated with non-compliance to industry or legal concerns</li> <li>A need for greater flexibility in tools, services, and technologies to increase development speed</li> <li>A desire to decreased downtime for a containerized suite of services spread across multiple vendors</li> </ul> <p>These examples still require a significant uplift and solid technical resources to ensure that your team can effectively adopt this strategy.</p> <h2>How to manage multiple cloud deployments in a CI/CD workflow</h2> <p>Adopting a multicloud strategy requires consistently deploying applications and services across several different environments. Here are some tips in setting up CI/CD workflows to get the best results out of a multicloud environment:</p> <ul> <li>Develop a deployment strategy that all teams follow with standardized pipelines as much as possible.</li> <li>Ensure deployments are as modular as possible to swap components as teams deploy them to different vendors.</li> <li>Adopt infrastructure-as-code templates that provide multicloud support, such as <a href="https://circleci.com/blog/an-intro-to-infrastructure-as-code/">Terraform</a> and <a href="https://www.ansible.com/integrations/cloud" target="_blank" rel="noreferrer noopener">Ansible</a>, to ensure minimal infrastructure reconfiguration.</li> <li>Use release management tooling to ensure the right builds reach suitable environments.</li> </ul> <h2>Summary</h2> <p>Adopting multiple cloud vendors offers several benefits but can be quite challenging and costly. This complexity and cost can quickly spiral out of control without a clearly-defined strategy. Being intentional about multicloud adoption and objectively assessing the organization’s technical maturity is key to ensuring success.</p> <p>CircleCI supports building the CI/CD pipelines that deploy applications and services to multiple clouds. <a href="https://circleci.com/signup/">Sign up for a free account</a> today and <a href="https://circleci.com/docs/2.0/about-circleci/">learn more</a> about how to prepare your pipelines for multicloud environments.</p> </description>
</item>
<item>
<title>Deploy Django apps to AWS Elastic Beanstalk</title>
<link>https://circleci.com/blog/deploy-django-apps-to-aws/</link>
<pubDate>Tue, 15 Nov 2022 04:00:00 -0800</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/deploy-django-apps-to-aws/</guid>
<dc:creator>Olususi Oluyemi</dc:creator>
<description><blockquote> <p>This tutorial covers:</p> <ol> <li>Setting up a Django application on AWS</li> <li>Using the Elastic Beanstalk command line interface</li> <li>Creating a continuous deployment pipeline</li> </ol> </blockquote> <p>Your software development team has an enormous number of tools available to them. Some older tools are being used in new ways, which has inspired the creation of more new tools to choose from. For example, JavaScript has grown from a language used to add interactivity on websites to a full-stack language for both frontend and backend needs. JavaScript has paved the way for Express, Nest.js, and many others.</p> <p>Just as dev teams can now build APIs with JavaScript, they can also build web applications powered by Python. This is supported by mature frameworks like Flask and Django. And more tooling providers are adding support for Python-based applications in their service offering.</p> <p>In this article, I will guide you through deploying a Django application to AWS Elastic Beanstalk. We will use the CircleCI <a href="https://circleci.com/developer/orbs/orb/circleci/aws-elastic-beanstalk#jobs">AWS Elastic Beanstalk</a> orb to handle authentication and deployment.</p> <p>The AWS Elastic Beanstalk helps you deploy and manage applications in the Amazon Cloud without having to learn about the infrastructure that runs those applications. Elastic Beanstalk reduces management complexity without restricting choice or control. You simply upload your application, and Elastic Beanstalk automatically handles the details of capacity provisioning, load balancing, scaling, and application health monitoring.</p> <h2>Prerequisites</h2> <p>In addition to a basic understanding of Django and Python, you will need these items to get the most from this tutorial:</p> <ul> <li><a href="https://github.com/join" target="_blank" rel="noreferrer noopener">GitHub</a> account</li> <li><a href="https://circleci.com/signup/">CircleCI</a> account</li> <li><a href="https://us-west-2.console.aws.amazon.com/elasticbeanstalk/" target="_blank" rel="noreferrer noopener">AWS</a> account</li> <li><a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3-install.html#eb-cli3-install.scripts" target="_blank" rel="noreferrer noopener">AWS Elastic Beanstalk CLI</a> installed on your computer</li> </ul> <blockquote><p> Our tutorials are platform-agnostic, but use CircleCI as an example. If you don’t have a CircleCI account, <a href="https://circleci.com/signup/"> <strong>sign up for a free one here</strong></a>. </p></blockquote> <h2>Cloning the demo project</h2> <p>Clone the sample Django project by running this command:</p> <pre><code class="language-bash">git clone https://github.com/CIRCLECI-GWP/django-exchange-api exchangeRateApi </code></pre> <p>Next, go to the root of the new folder created by the previous command. Set up the project by running these commands:</p> <pre><code class="language-bash">cd exchangeRateApi pip install -r requirements.txt python manage.py runserver </code></pre> <p>By default, your application will be served to <code>http://127.0.0.1:8000/</code>. You can review the JSON response at that endpoint.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Application on localhost" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-14-app-on-localhost.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-14-app-on-localhost.png" /></p> <h2>Reviewing the deployment strategy</h2> <p>Now that you have the application running locally, it is a good idea to review your deployment strategy. There is no need for any project code changes other than including the configuration file to set up deployment for CircleCI.</p> <p>Here is a list of the deployment strategy steps:</p> <ol> <li>Deploy the app to Elastic Beanstalk</li> <li>Create a configuration file to build the application on CircleCI</li> <li>Push the project to a repository on GitHub</li> <li>Set up the project on CircleCI</li> <li>Provide Amazon credentials and authenticate using the AWS Elastic Beanstalk orb</li> </ol> <h2>Deploying the app to Elastic Beanstalk</h2> <p>In the project directory, create a new directory named <code>.ebextensions</code>.</p> <pre><code class="language-bash">mkdir .ebextensions </code></pre> <p>In the <code>.ebextensions</code> directory, create a new file named <code>django.config</code> and add this to it:</p> <pre><code class="language-bash">option_settings: aws:elasticbeanstalk:container:python: WSGIPath: exchangeRateApi.wsgi:application </code></pre> <p>The WSGIPath starts with the directory containing your <a href="https://wsgi.readthedocs.io/en/latest/" target="_blank" rel="noreferrer noopener">wsgi.py</a> script. It will be used to start your application.</p> <p>Next, initialize your EB CLI repository using this command:</p> <pre><code class="language-bash">eb init -p python-3.8 exchangeRatesApi </code></pre> <p>If you did not provide an <strong>access-id</strong> and <strong>secret-key</strong> when installing the <code>awsebcli</code>, you will see an error similar to this:</p> <pre><code class="language-bash">ERROR: The current user does not have the correct permissions. Reason: Operation Denied. The security token included in the request is invalid. You have not yet set up your credentials or your credentials are incorrect You must provide your credentials. </code></pre> <p>Provide a valid <code>aws-access-id</code> and <code>aws-secret-key</code> to complete the set up process. If you don’t have one already, you can follow the steps in the next section.</p> <h3>Add a user with programmatic access</h3> <p>Go to the <a href="https://us-east-1.console.aws.amazon.com/iam/home#/users$new?step=details" target="_blank" rel="noreferrer noopener">AWS Add User</a> page. Select a user name and AWS access type.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Add user with Access" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-user-with-access.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-14-add-user-with-access.png" /></p> <p>Select <strong>Access key - Programmatic access</strong> for accessing your Beanstalk environment using the CLI.</p> <p>Next, select the permissions for the user.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Select permissions" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-14-select-permissions.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-14-select-permissions.png" /></p> <p>The previous screenshot shows the minimum needed to manage your application on AWS Elastic Beanstalk.</p> <p>Click <strong>Next</strong> twice to create the new user.</p> <p>You will be greeted with a success message along with your user credentials. This page is displayed just once so, make a note of the <strong>Access Key ID</strong> and the <strong>Secret access key</strong>. These will be used later on in this tutorial. You can download a CSV file that contains the credentials.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Create new user" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-14-create-new-user.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-14-create-new-user.png" /></p> <p>Use these credentials to authenticate <code>awsebcli</code> and continue with the deployment process.</p> <h3>Create a new environment</h3> <p>Create a new environment using this command:</p> <pre><code class="language-bash">eb create django-env </code></pre> <p>This creates an Elastic Beanstalk environment named <code>django-env</code>; it takes about five minutes. Once the process is completed, you can find the domain for the new environment by running this command:</p> <pre><code class="language-bash">eb status </code></pre> <p>The domain name is the value of the <code>CNAME</code> property.</p> <p>Once the application has been deployed, add the <code>CNAME</code> property to the <code>ALLOWED_HOSTS</code> setting in <code>exchangeRateApi/settings.py</code>.</p> <pre><code class="language-python">ALLOWED_HOSTS = ['127.0.0.1', 'localhost','INSERT_YOUR_CNAME_HERE'] </code></pre> <p>Next, deploy the changes. Because you are using git for version control, you will need to commit your changes before running <code>eb deploy</code>.</p> <pre><code class="language-bash">git add . git commit -m "Add EBS config" eb deploy </code></pre> <p>Now, run the <code>eb status</code> command again. This time, the health status should be <strong>GREEN</strong>. Paste the <code>CNAME</code> property in your browser to review your API.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Live app on AWS" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-14-live-app-aws.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-14-live-app-aws.png" /></p> <h2>Create CircleCI configuration</h2> <p>At the root of the project, create a new folder named <code>.circleci</code>. In this folder, create a new file named <code>config.yml</code> and add this:</p> <pre><code class="language-yaml">version: 2.1 orbs: python: circleci/python@2.0.3 eb: circleci/aws-elastic-beanstalk@2.0.1 jobs: build: description: "Setup Django application and run tests" executor: python/default steps: - checkout - python/install-packages: pkg-manager: pip - run: name: "Run tests" command: python manage.py test workflows: build-and-deploy: jobs: - build - eb/deploy: context: aws-credentials application-name: exchangeRatesApi environment-name: django-env platform-version: python-3.8 requires: - build </code></pre> <p>This configuration uses two orbs provided by CircleCI. The <code>python</code> orb gives access to a Python environment (with pip installed), which is used to test the updates before deploying them to AWS. All of this happens in the <code>build</code> job. The <code>eb</code> orb deploys the changes to the environment you created in an earlier step.</p> <p>After the workflow finishes running the <code>build</code> job, the <code>deploy</code> job from the <code>eb</code> orb deploys the changes. The <code>requires</code> key ensures that the <code>build</code> job runs first. The application name, environment name, and platform version are specified for the job. A <a href="https://circleci.com/docs/contexts">context</a> named <code>aws-credentials</code> is passed to the job. You will create this context later in the tutorial.</p> <p>Commit and push your changes to git:</p> <pre><code class="language-bash">git add . git commit -am "Add CircleCI configuration" git push origin main </code></pre> <h2>Add context for AWS credentials</h2> <p>From your CircleCI dashboard, go to the <strong>Organization Settings</strong> page. Select <strong>Contexts</strong>, then click the <strong>Create Context</strong> button. Enter a unique name for your context. Your context appears in a list with security set to <code>All members</code>. That means that anyone in your organization can access this context at runtime. As specified in the <code>.circleci/config.yml</code> configuration for this tutorial, the context name should be <code>aws-credentials</code>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Add context" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-14-add-circleci-context.png" /></p> <p>Next, select the <code>aws-credentials</code> context.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Add context variables" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-circleci-context-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-14-add-circleci-context-variables.png" /></p> <p>Click the <strong>Add Environment Variable</strong> button and enter the variable name and value. Then click the <strong>Add Variable</strong> button to save. The <code>aws-credentials</code> context requires 3 environment variables:</p> <ul> <li><code>AWS_ACCESS_KEY_ID</code></li> <li><code>AWS_SECRET_ACCESS_KEY</code></li> <li><code>AWS_DEFAULT_REGION</code></li> </ul> <p>The value of <code>AWS_DEFAULT_REGION</code> is specified in the <code>.elasticbeanstalk/config.yml</code> file in the project, under the <code>global</code> section.</p> <h2>Connecting the application to CircleCI</h2> <p>Next, you need to set up a repository on GitHub and link the project to CircleCI. Review <a href="https://circleci.com/blog/pushing-a-project-to-github/">Pushing a project to GitHub</a> for instructions.</p> <p>Log in to your CircleCI account. If you signed up with your GitHub account, all your repositories will be available on your project’s dashboard.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Add project" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-14-add-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-14-add-project.png" /></p> <p>Click <strong>Set Up Project</strong> next to your <code>django-exchange</code> project.</p> <p>You will be prompted to either write a new configuration file or use the existing one in your project. Select the existing one and enter the name of the branch where your code is housed on GitHub. Click <strong>Set Up Project.</strong></p> <p>Your first workflow will start running and complete successfully.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Run workflow successfully" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-11-14-run-workflow-successfully.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-11-14-run-workflow-successfully.png" /></p> <p>To confirm that your workflow was successful, you can open your newly deployed app in your browser using the <code>CNAME</code> property.</p> <h2>Conclusion</h2> <p>In this tutorial, I have shown you how to set up a CI/CD pipeline for a Django API using GitHub, CircleCI, and AWS Elastic Beanstalk. Using what you have learned here, you can implement best practices for automated deployment of Python projects. This creates opportunities for your team if they have felt they couldn’t use their programming language of choice for projects with automated deployments.</p> <p>The entire codebase for this tutorial is available on <a href="https://github.com/CIRCLECI-GWP/django-exchange" target="_blank" rel="noreferrer noopener">GitHub</a>.</p> </description>
</item>
<item>
<title>DevOps for enterprises</title>
<link>https://circleci.com/blog/devops-for-enterprise/</link>
<pubDate>Thu, 10 Nov 2022 09:30:00 -0800</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/devops-for-enterprise/</guid>
<dc:creator>Jacob Schmitt</dc:creator>
<description><p>Development operations (DevOps) combines <a href="https://circleci.com/blog/top-5-ci-cd-best-practices/">best practices</a>, cultural transformation, and tools to improve your organization’s software development and delivery velocity. Teams can employ DevOps regardless of an organization’s size and continuously deliver new software features, updates, and patches to enhance software quality and customer experiences.</p> <p>However, DevOps comes with some unique challenges. While organizations looking to implement DevOps may primarily focus on the tools, transforming organizational mindsets and development processes should always come first. A misplaced emphasis on adopting the right toolset can make it impossible to implement DevOps successfully, especially across a large organization. Resistance to change is another common challenge when moving to DevOps, including potential pushback from all levels of development and operations teams.</p> <p>This article describes the role of DevOps for enterprises operating at scale, describing challenges that come with implementing DevOps, and suggesting best practices for overcoming common obstacles and effectively implementing DevOps in the enterprise context.</p> <h2>What is DevOps?</h2> <p>Due to marketing messaging and different interpretations of DevOps among organizations, there is no universal definition of what DevOps is and is not. To achieve buy-in across your organization, it helps to first instill a common understanding of DevOps among all relevant stakeholders.</p> <p><a href="https://newrelic.com/blog/nerd-life/devops-name" target="_blank" rel="noreferrer noopener">Coined</a> by Belgian engineer Patrick Debois around 2007, DevOps came in response to growing dysfunction in software development and delivery teams. Concerns arose from software development and IT operations leadership about working in silos and its effect on software delivery scheduling and quality.</p> <p>The phases of a typical DevOps lifecycle include continuous planning, development, building, testing, deployment, operation, monitoring, and feedback. You can think about these phases as a single continuous motion for software development instead of as a series of independent actions followed by release. Your software traverses through these phases for security scans, security patches or releases, and quality assurance, leading to a faster, more reliable cadence of new versions and major releases during the development cycle.</p> <p>The “automate everything” mindset is <a href="https://circleci.com/blog/automation-drives-devops/">fundamental to DevOps</a>. Automation works to streamline and replace manual tasks that can be time-consuming and invite human error. Automation tooling like <a href="https://circleci.com/blog/what-is-a-ci-cd-pipeline/">continuous integration and continuous delivery (CI/CD) pipelines</a> can help your organization eliminate time-consuming manual tasks and increase development velocity.</p> <h2>Benefits of DevOps for the enterprise</h2> <p>The advent of DevOps brings both developers and system administrators to the same table during the project lifecycle, breaking down a long-standing silo in the enterprise.</p> <p>The iterative feature-based approach of DevOps enables you to lower the cost and time of moving a feature from development to production. This is especially critical when a sale might balance customer feature requirements.</p> <p>DevOps also fundamentally improves change management. Developers are now equipped with the processes and tools to respond to internal and customer-driven change requests by priority rather than during an arbitrarily scheduled development cycle. Speed is particularly of the essence for security patches and updates.</p> <p>Development cycles become weeks — or sometimes days — with DevOps. Such a rapid pace enables developers to deliver innovative feature enhancements and build up their skills without delaying product development.</p> <p>Becoming more agile and responsive to customers through DevOps helps your entire organization, especially customer success and sales, respond to implementation challenges and special requests that come with selling enterprise software.</p> <p>Increasing speed without sacrificing security is a DevOps benefit that more enterprises seek now because <a href="https://circleci.com/resources/devsecops-ebook/">resolving security issues in development</a> is less costly than fixing them in production.</p> <p>Finally, implementing DevOps can significantly improve an organization’s ability to attract and retain top engineering talent. Automation helps teams validate and push more code to production than is possible with manual processes, freeing up developers to spend more time innovating. By eliminating repetitive, monotonous tasks from developers’ workload, you can increase developer happiness and make your organization a more attractive destination for skilled engineers.</p> <h2>How to implement DevOps at scale</h2> <p>The fundamental changes that DevOps brings in delivery speed, agility, and collaboration may seem to undermine some stakeholders. There is also the common fear that automation equates to job loss, when in fact it has been shown to create more opportunities for engineers to grow and acquire cutting-edge skills. Implementing DevOps starts with <a href="https://circleci.com/resources/devops-maturity-ebook/">getting the cultural buy-in and the right people in place</a>. Once you have buy-in, these are some ways to ensure success:</p> <ul> <li>Start small</li> <li>Set goals and track the right metrics</li> <li>Focus on the essentials first</li> <li>Adopt the right tools</li> </ul> <h3>Start small</h3> <p>You cannot throw a switch and have your organization’s project portfolio move right to DevOps. It is important to start small by finding one project team that can benefit from DevOps. Prime candidates include groups known as early adopters or projects continuously made ineffective by legacy software development practices.</p> <p>Starting small enables you to integrate and iterate upon automation practices across a DevOps pipeline. A first DevOps project is the time to experiment with automation practices and learn how they can best add value to your developers’ productivity and software quality.</p> <h3>Set goals and track the right metrics</h3> <p>When looking toward implementing DevOps at scale, set performance goals and decide on the <a href="https://circleci.com/resources/meaningful-metrics/">right metrics to track across development projects</a>. Be prepared to reset expectations as DevOps tools can generate a variety of performance metrics in a level of detail teams were not privy to when using legacy development tools and processes.</p> <p>Metrics tracking options vary based on your DevOps tools and cloud services provider.</p> <p>Some <a href="https://circleci.com/blog/engineering-metrics/">standard metrics</a> DevOps teams can now capture include:</p> <ul> <li>Duration, which is the time it takes to complete an automated workflow, such as building, testing, and deploying a container image.</li> <li>Throughput, which is the average number of workflow runs per day.</li> <li>Success rate, or the ratio of passing workflow runs to the total number of runs for a given period of time.</li> <li>Mean time to recovery, which is the time it takes your teams to get your main branch back to a deploy-ready state after a failed build.</li> <li>Availability, which measures an application’s uptime and downtime over days, weeks, or months.</li> </ul> <p>Additionally, consider tracking your unit cost as part of your performance metrics by capturing your cost per customer or cost per transaction.</p> <h3>Focus on the essentials first</h3> <p>The true benefit of starting small when beginning with DevOps is the opportunity for your developers to make smaller and more frequent commits to a shared codebase. They also have the opportunity to implement <a href="https://circleci.com/blog/testing-methods-all-developers-should-know/">comprehensive tests</a> in environments mirroring production.</p> <p>Testing in a mirror of your real production environment is especially ideal when scaling DevOps. Take the time to analyze which tests are candidates for automation and which still require participation from a developer or software tester.</p> <p>Another focus should be resolving broken builds quickly. You can do this through incremental testing in your DevOps lifecycle, enabling you to remediate builds before they hit production.</p> <h3>Adopt the right tools</h3> <p>The process of enterprises adopting new technologies is challenged by entrenched legacy tools, an over-dependence on institutional knowledge, and reluctance to evolve from the way things have always been done.</p> <p>DevOps allows the full benefits of tools with the right combination of flexibility and manageability without adding unnecessary complexity or overhead to your developers’ workflows.</p> <p>With a <a href="https://circleci.com/product/">CI/CD platform like CircleCI</a>, you can trigger automated workflows from your version control system (VCS) of choice. You can also build custom workflows to suit your organization’s needs — especially handy as you learn and iterate while you scale DevOps practices across your organization. CircleCI allows you to run jobs in the cloud or behind your firewall, depending on your current and evolving security requirements.</p> <p>Your teams can share standard configuration files with CircleCI orbs, which are reusable packages of YAML configuration that condenses long sections of config into a single code snippet. Sharing configuration across pipelines allows you to achieve a consistent, repeatable process for building, testing, and deploying your code changes across all your projects, allowing you to more easily identify and respond to bottlenecks and inefficiencies.</p> <p>CircleCI <a href="https://circleci.com/integrations/">integrates seamlessly</a> with third-party tools and services such as Slack, LaunchDarkly, and Snyk, enabling you to build out the DevOps toolchain that meets your development teams’ requirements with minimal effort.</p> <p>DevOps practices are proving crucial in <a href="https://circleci.com/blog/secure-software-supply-chain/">software supply chain security</a>. CircleCI enables your developers to split credentials and secrets into multiple contexts. These can be used individually or combined in a build step. There is also the option to create and use lock files to pin dependency versions and even hashes, preventing bad actors from inserting malicious packages into your supply chain.</p> <h2>Conclusion</h2> <p>Implementing DevOps practices inside enterprises today still has challenges. In addition to logistical and organizational challenges, there are cultural, employee-driven challenges, as you shift your project delivery culture to a new way of doing things through a DevOps lifecycle.</p> <p>The key to managing these challenges — and to implementing DevOps at scale — is to start with a small DevOps project. It is your chance to experiment with new practices and tools while focusing on the essentials as your organization iterates your DevOps practices through the lessons learned from continuing DevOps projects. You will also want to spend time understanding metrics through continuing analysis and discussions with your teams.</p> <p>The necessity for DevOps is still growing due to rising costs, the need to speed up time to market, and the need to improve your software’s overall quality — all of which will delight your customers and keep your organization competitive. To learn more about how adopting DevOps practices and a fast, secure continuous integration pipeline can make your software delivery teams more agile and responsive to customer needs, start your <a href="https://circleci.com/enterprise/">free trial of CircleCI</a> today.</p> </description>
</item>
<item>
<title>Building an automated unit testing pipeline for serverless applications</title>
<link>https://circleci.com/blog/testing-pipeline-for-serverless-apps/</link>
<pubDate>Mon, 07 Nov 2022 09:00:00 -0800</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/testing-pipeline-for-serverless-apps/</guid>
<dc:creator>Vivek Maskara</dc:creator>
<description><blockquote> <p>This tutorial covers:</p> <ol> <li>Using the Jest framework to set up unit testing for a serverless application</li> <li>Running the tests locally</li> <li>Building a pipeline to run tests and deploy the app</li> </ol> </blockquote> <p>The <a href="https://www.serverless.com/framework">Serverless framework</a> is an open-source framework written in Node.js that simplifies the development and deployment of AWS Lambda functions. It frees you from worrying about how to package and deploy the application to the cloud, so you can focus on your application logic.</p> <p>Serverless applications are distributed by design, so good code coverage is vital, and should include unit testing. Unit test cases make it easier to detect bugs early during the development phase and guard against regression issues. They improve the overall design and quality of the application and allow you to refactor code with confidence.</p> <p>Because your application could depend on a number of other AWS services, it is difficult to replicate the cloud environment locally. Unit testing lets you to test your application logic in isolation. Using event-based architecture, you can mock the events to add test cases and assert the expected behaviour based on the event received.</p> <p>In this tutorial, you will learn how to build an automated unit testing pipeline using Jest testing framework for serverless applications. It builds on the learnings from the <a href="https://circleci.com/blog/deploying-a-serverless-application/">Deploying a serverless application</a> blog post.</p> <h2>Prerequisites</h2> <p>For this tutorial, you will need to set up these items:</p> <ul> <li><a href="https://circleci.com/docs/2.0/first-steps/">Create a CircleCI account</a></li> <li><a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm" target="_blank" rel="noreferrer noopener">Install Node.js and NPM</a></li> <li><a href="https://www.serverless.com/framework/docs/getting-started" target="_blank" rel="noreferrer noopener">Set up the serverless framework</a></li> <li><a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html" target="_blank" rel="noreferrer noopener">Install AWS CLI</a></li> <li><a href="https://aws.amazon.com/free" target="_blank" rel="noreferrer noopener">Create an AWS account</a></li> <li><a href="https://circleci.com/docs/2.0/openid-connect-tokens/#setting-up-aws">Set up AWS to use OpenID Connect Tokens</a></li> </ul> <blockquote><p> Our tutorials are platform-agnostic, but use CircleCI as an example. If you don’t have a CircleCI account, <a href="https://circleci.com/signup/"> <strong>sign up for a free one here</strong></a>. </p></blockquote> <h2>Creating a new serverless application</h2> <p>Create a new directory for your project. Run:</p> <pre><code class="language-bash">mkdir circleci-serverless-unit-testing cd circleci-serverless-unit-testing </code></pre> <p>Go to the <code>circleci-serverless-unit-testing</code> directory. From there, you will create a new serverless application using the <code>aws-nodejs</code> template. (Make sure that you have the serverless framework set up on your system.) Run this command:</p> <pre><code class="language-bash">serverless create --template aws-nodejs </code></pre> <p>Executing this command creates a <code>handler.js</code> file with a basic Lambda handler and a <code>serverless.yml</code> file with the config for your application.</p> <h3>Creating a Node.js Lambda function</h3> <p>Next, you need to define an AWS Lambda function using Node.js. This function generates a dummy CSV file, uploads it to AWS S3 and adds an entry to the DynamoDB table. You will write unit test cases for the Lambda handler using Jest testing framework later in the tutorial.</p> <p>Create a new <code>package.json</code> file in the root of the serverless application. You will need this to add the dependencies needed by the Lambda function. In the <code>package.json</code> file, add this code snippet:</p> <pre><code class="language-json">{ "scripts": { }, "dependencies": { "csv-stringify": "^6.0.5", "fs": "0.0.1-security", "uuid": "^8.3.2" }, "devDependencies": { } } </code></pre> <p>Next, update the existing <code>handler.js</code> file with this snippet:</p> <pre><code class="language-js">"use strict" const AWS = require('aws-sdk'); const { v4: uuidv4 } = require('uuid'); var fs = require('fs'); const { stringify } = require('csv-stringify/sync'); AWS.config.update({ region: 'us-west-2' }); var ddb = new AWS.DynamoDB(); const s3 = new AWS.S3(); const TABLE_NAME = process.env.TABLE_NAME const BUCKET_NAME = process.env.BUCKET_NAME module.exports.uploadCsvToS3Handler = async (event) =&gt; { try { const uploadedObjectKey = await generateDataAndUploadToS3() const jobId = event['jobId'] var params = { TableName: TABLE_NAME, Item: { 'jobId': { S: jobId }, 'reportFileName': { S: uploadedObjectKey } } }; // Call DynamoDB to add the item to the table await ddb.putItem(params).promise();; return { statusCode: 200, body: JSON.stringify( { "status": "success", "jobId": jobId, "objectKey": uploadedObjectKey }, null, 2 ), }; } catch (error) { throw Error(`Error in backend: ${error}`) } }; const generateDataAndUploadToS3 = async () =&gt; { var filePath = '/tmp/test_user_data.csv' const objectKey = `${uuidv4()}.csv`; await writeCsvToFileAndUpload(filePath, objectKey) return objectKey } const uploadFile = async (fileName, objectKey) =&gt; { // Read content from the file const fileContent = fs.readFileSync(fileName); // Setting up S3 upload parameters const params = { Bucket: BUCKET_NAME, Key: objectKey, Body: fileContent }; // Uploading files to the bucket s3.upload(params, function (err, data) { if (err) { throw err; } console.log(`File uploaded successfully. ${data.Location}`); }); return objectKey; }; async function writeCsvToFileAndUpload(filePath, objectKey) { var data = getCsvData(); var output = stringify(data); fs.writeFile(filePath, output, function (err) { if (err) { console.log('file write error', err) } uploadFile(filePath, objectKey); }); } function getCsvData() { return [ ['1', '2', '3', '4'], ['a', 'b', 'c', 'd'] ]; } </code></pre> <p>Here is what this snippet includes:</p> <ul> <li><code>uploadCsvToS3Handler</code> is the handler function invoked by the AWS Lambda. It calls the <code>generateDataAndUploadToS3</code> method to generate a dummy CSV file.</li> <li>The dummy CSV file is then uploaded to AWS S3 using the <code>uploadFile</code> method.</li> <li>Then the <code>generateDataAndUploadToS3</code> method returns the generated file key, which is used in the handler to insert a new item in the AWS DynamoDB table.</li> <li>The handler returns a HTTP JSON response with the <code>uploadedObjectKey</code>.</li> </ul> <p><strong>Note:</strong> <i>The handler receives the AWS S3 bucket name and the AWS DynamoDB table name from the environment variables. AWS S3 bucket names should be unique across all AWS accounts in all the AWS Regions. </i></p> <h3>Updating the serverless config</h3> <p>The Lambda handler you defined earliers uses environment variables and interacts with AWS S3 and AWS DynamoDB. You can set this up by making these changes to the <code>serverless.yml</code> file:</p> <ul> <li>Provision new cloud resources by creating a new AWS S3 bucket and a new AWS DynamoDB Table.</li> <li>Update the handler name for the Lambda function and pass bucket name and table name as environment variables.</li> <li>Update the IAM role to grant the Lambda function permissions to the S3 bucket and DynamoDB table.</li> </ul> <p><strong>Note</strong>: <i>Be sure to update the AWS S3 bucket name to something unique. Buckets cannot share the same name, and your deployment might fail if one with that name already exists on AWS.</i></p> <p>To apply these changes, update the <code>serverless.yml</code> with the this code:</p> <pre><code class="language-yml">service: circleci-serverless-unit-testing frameworkVersion: '3' provider: name: aws runtime: nodejs12.x # you can overwrite defaults here region: us-west-2 # you can add statements to the Lambda function's IAM Role here iam: role: statements: - Effect: "Allow" Action: - "s3:ListBucket" Resource: { "Fn::Join" : ["", ["arn:aws:s3:::", { "Ref" : "ServerlessDeploymentBucket" } ] ] } - Effect: "Allow" Action: - "s3:PutObject" Resource: Fn::Join: - "" - - "arn:aws:s3:::" - "Ref" : "ServerlessDeploymentBucket" - "/*" - Effect: "Allow" Action: - "s3:ListBucket" Resource: { "Fn::Join" : ["", ["arn:aws:s3:::", { "Ref" : "ServerlessDeploymentBucket" } ] ] } - Effect: "Allow" Action: - "s3:PutObject" Resource: { "Fn::Join": ["", ["arn:aws:s3:::circle-ci-unit-testing-bucket", "/*" ] ] } - Effect: "Allow" Action: - dynamodb:Query - dynamodb:Scan - dynamodb:GetItem - dynamodb:PutItem - dynamodb:UpdateItem - dynamodb:DeleteItem Resource: "arn:aws:dynamodb:us-west-2:927728891088:table/circle-ci-unit-testing-table" functions: UploadCsvToS3: handler: handler.uploadCsvToS3Handler environment: TABLE_NAME: circle-ci-unit-testing-table BUCKET_NAME: circle-ci-unit-testing-bucket # you can add CloudFormation resource templates here resources: Resources: S3Bucket: Type: AWS::S3::Bucket Properties: BucketName: circle-ci-unit-testing-bucket DynamoDB: Type: AWS::DynamoDB::Table Properties: TableName: circle-ci-unit-testing-table AttributeDefinitions: - AttributeName: jobId AttributeType: S KeySchema: - AttributeName: jobId KeyType: HASH ProvisionedThroughput: ReadCapacityUnits: 1 WriteCapacityUnits: 1 Outputs: S3Bucket: Description: "S3 Bucket Name" Value: "circle-ci-unit-testing-bucket" DynamoDB: Description: "DynamoDB Table Name" Value: "circle-ci-unit-testing-table" </code></pre> <p>The updated config will take care of provisioning the cloud resources and setting the required IAM permissions.</p> <h2>Setting up unit testing</h2> <p>For this tutorial, you will use the Jest testing framework to write unit test cases for the AWS Lambda function. Jest works well with most JavaScript projects and provides great APIs for testing. You can generate code coverage reports without adding any additional configuration. Not only does it support mocking, it provides manual mocks implementations for modules. These features make Jest a great choice for testing serverless applications.</p> <p><strong>Note:</strong> <i>If you are interested in using Mocha/Chai JS for unit testing, <a href="https://circleci.com/blog/deploying-a-serverless-application/">this tutorial</a> shows you how to set that up.</i></p> <h3>Add library dependencies for unit testing</h3> <p>Add the <code>jest</code> NPM dependency by running:</p> <pre><code class="language-bash">npm install --save-dev jest </code></pre> <h3>Creating a directory structure for unit tests</h3> <p>As a best practice, you should keep the same directory structure for your tests as the application file layout. For example, if you have <code>controllers</code>, <code>views</code> or <code>models</code> defined in your serverless application, you can add similar folders in your <code>__tests__</code> directory for test cases. Here’s a sample layout for a serverless application:</p> <pre><code class="language-txt">. ├── __tests__ │ └── controllers │ | └── myAppController.test.js │ └── models │ | └── user.test.js │ └── views └── userView.test.js ├── controllers │ └── myAppController.js ├── handler.js ├── models │ └── user.js ├── views │ └── userView.js ├── node_modules ├── package-lock.json ├── package.json └── serverless.yml </code></pre> <h2>Writing unit tests for serverless functions</h2> <p>To add unit test cases for the serverless application, create a <code>__tests__</code> directory in the root of your serverless application:</p> <pre><code class="language-bash">mkdir __tests__ </code></pre> <p>Next, add a <code>handler.test.js</code> file. This file will contain tests for the handler function defined in <code>handler.js</code>.</p> <ol> <li>Create an empty <code>handler.test.js</code> inside the <code>__tests__</code> directory.</li> <li>In the <code>handler.test.js</code> add a manual mock implementation for <code>aws-sdk</code>. Jest allows you to define partial mocks for the modules so that you don’t need to mock each and every function of the module.</li> <li>Create mock implementations for DynamoDB’s <code>putItem</code> and S3 bucket’s <code>putObject</code> functions.</li> </ol> <p>Add this code snippet to the file:</p> <pre><code class="language-js">jest.mock("aws-sdk", () =&gt; { return { config: { update() { return {}; }, }, DynamoDB: jest.fn(() =&gt; { return { putItem: jest.fn().mockImplementation(() =&gt; ({ promise: jest.fn().mockReturnValue(Promise.resolve(true)) })), }; }), S3: jest.fn(() =&gt; { return { upload: jest.fn().mockImplementation(() =&gt; ({ promise: jest.fn().mockReturnValue(Promise.resolve(true)) })), }; }), }; }); </code></pre> <p>You have defined mock implementation to resolve the <code>Promise</code> successfully. Next, add a unit test for the Lambda handler. Call the Lambda handler with a test ID and assert that the <code>status</code> in the response body is set to <code>success</code>.</p> <pre><code class="language-js">const handler = require('../handler'); describe('uploadCsvToS3Handler', () =&gt; { beforeEach(() =&gt; { jest.restoreAllMocks(); }); test('test uploadFile', async () =&gt; { const response = await handler.uploadCsvToS3Handler({ jobId: 'test-job-id', }); let body = JSON.parse(response.body); expect(body.status).toBe('success'); expect(body.jobId).toBe('test-job-id'); }); }); </code></pre> <p>You can run the <code>npm run test</code> command from the terminal to make sure that the test passes.</p> <p>Next, add another test case for the failure scenario. Because you need to provide a different mock implementation for the failure scenario, add a new file named <code>handler-fail-putItem.test.js</code> inside the <code>__tests__</code> directory. Add this code snippet to it:</p> <pre><code class="language-js">jest.mock("aws-sdk", () =&gt; { return { config: { update() { return {}; }, }, DynamoDB: jest.fn(() =&gt; { return { putItem: jest.fn().mockImplementation(() =&gt; { throw new Error(); }), }; }), S3: jest.fn(() =&gt; { return { upload: jest.fn().mockImplementation(() =&gt; ({ promise: jest.fn().mockReturnValue(Promise.resolve(false)) })), }; }), }; }); const handler = require('../handler'); describe('uploadCsvToS3Handler', () =&gt; { beforeEach(() =&gt; { jest.restoreAllMocks(); }); test('test uploadFile', async () =&gt; { expect(handler.uploadCsvToS3Handler({ jobId: 'test-job-id', })).rejects.toThrow(new Error('Error in backend')) }); }); </code></pre> <p>Notice that we are throwing an exception when the <code>putItem</code> method is called on AWS SDK’s DynamoDB module. Beause the <code>putItem</code> method throws an exception, the test will handler will also throw an exception. You assert the exception by matching the error string with the expected error.</p> <p>The application structure should look like this:</p> <pre><code class="language-txt">. ├── README.md ├── __tests__ │   ├── handler-fail-putItem.test.js │   └── handler.test.js ├── handler.js ├── jest.config.js ├── package-lock.json ├── package.json └── serverless.yml </code></pre> <h2>Running the tests locally</h2> <p>Now that you have added unit tests for your application, see how they can be executed. First, add <code>scripts</code> into the <code>package.json</code> file.</p> <pre><code class="language-json">"scripts": { "test": "jest", "coverage": "jest --coverage" } </code></pre> <p>With these scripts added, you can run all test cases using the <code>npm run test</code> command and generate code coverage reports using the <code>npm run coverage</code> command. Run these commands locally to ensure that all the test cases pass and to check if the code coverage reports are being generated as expected.</p> <p>Once you run the <code>npm run test</code> command, it will execute all test suites and display the results as shown in the image.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Jest test results" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-10-27-jest-test-results.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-10-27-jest-test-results.png" /></p> <h2>Automating serverless application deployment using CircleCI</h2> <p>Now that you were able to deploy and test locally, automate the workflow so that the code coverage reports can be generated with every deployment.</p> <h3>Adding configuration script</h3> <p>Go to the root of the project containing the configuration file for the CI pipeline. Add a <code>.circleci/config.yaml</code> script. For this tutorial, you will use OIDC tokens to authenticate with AWS instead of using a static access key and secret. An OIDC token is a shortlived token that is freshly issued for each job. To implement this add:</p> <pre><code class="language-yaml">version: 2.1 orbs: aws-cli: circleci/aws-cli@3.0.0 serverless-framework: circleci/serverless-framework@2.0 commands: aws-oidc-setup: description: Setup AWS auth using OIDC token parameters: aws-role-arn: type: string steps: - run: name: Get short-term credentials command: | STS=($(aws sts assume-role-with-web-identity --role-arn &lt;&lt; parameters.aws-role-arn &gt;&gt; --role-session-name "circleciunittesting" --web-identity-token "${CIRCLE_OIDC_TOKEN}" --duration-seconds 900 --query 'Credentials.[AccessKeyId,SecretAccessKey,SessionToken]' --output text)) echo "export AWS_ACCESS_KEY_ID=${STS[0]}" &gt;&gt; $BASH_ENV echo "export AWS_SECRET_ACCESS_KEY=${STS[1]}" &gt;&gt; $BASH_ENV echo "export AWS_SESSION_TOKEN=${STS[2]}" &gt;&gt; $BASH_ENV - run: name: Verify AWS credentials command: aws sts get-caller-identity jobs: build: executor: serverless-framework/default steps: - checkout - aws-cli/install - aws-oidc-setup: aws-role-arn: "${CIRCLE_CI_WEB_IDENTITY_ROLE}" - run: name: Test AWS connection command: aws s3 ls - run: name: Install Serverless CLI and dependencies command: | sudo npm i -g serverless npm install - run: name: Run tests with code coverage command: npm run coverage - run: name: Deploy application command: sls deploy workflows: build: jobs: - build: context: - "aws-context" </code></pre> <p>You need a <a href="https://circleci.com/docs/2.0/contexts/">context</a> defined in your CircleCI organization settings or the build will fail.</p> <p>This script uses <a href="https://circleci.com/developer/orbs/orb/circleci/aws-cli">CircleCI’s aws-cli orb</a> for installing AWS CLI. It uses the <a href="https://circleci.com/developer/orbs/orb/circleci/serverless-framework">serverless-framework</a> orb for deploying the application to AWS using Serverless framework.</p> <p>This pipeline runs all the unit test cases and generates the code coverage report before deploying the application to AWS. Commit the changes and push them to the GitHub repository.</p> <h3>Creating a CircleCI project for the application</h3> <p>Next, set up the repository as a CircleCI project using the <a href="https://app.circleci.com/">CircleCI console</a>. On the Circle CI console, click <strong>Projects</strong> and search for the GitHub repo name. Click the <strong>Set Up Project</strong> button for your project.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Circle CI set up project" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-10-27-setup-project.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-10-27-setup-project.png" /></p> <p>The codebase already contains a <code>config.yaml</code> file, which will be detected by CircleCI. Click <strong>Let’s go</strong> to continue.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Circle CI project configuration" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-10-27-configure-project-with-circleci.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-10-27-configure-project-with-circleci.png" /></p> <p>Clicking the <strong>Set up project</strong> button triggers the pipeline. The pipeline will fail this time because you have not set the environment variables yet. You can set them up next.</p> <h3>Setting up environment variables</h3> <p>On the project page, click <strong>Project settings</strong> and go to the <strong>Environment variables</strong> tab. On the next form, click <strong>Add environment variable</strong>. Add these environment variables:</p> <ul> <li>Set <code>CIRCLE_CI_WEB_IDENTITY_ROLE</code> to the role ARB obtained from the IAM role page in the AWS console. Make sure you followed the steps to <a href="https://circleci.com/docs/2.0/openid-connect-tokens/#setting-up-aws">Set up AWS to use OpenID Connect Tokens</a> and created a IAM role as described in the guide.</li> </ul> <p>Once you add the environment variables, it should show the key values on the dashboard.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Circle CI set up environment variables" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-10-27-set-environment-variables.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-10-27-set-environment-variables.png" /></p> <h3>Create CircleCI Context</h3> <p>Because the OpenID Connect token is only available to jobs that use at least one context, make sure that each of the jobs that needs an OIDC token uses a context (the context may have no environment variables).</p> <p>Go to <strong>Organization Settings</strong>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Organization Settings" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-10-27-organization-settings.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-10-27-organization-settings.png" /></p> <p>Create a context to use in the CircleCI workflow. Call it <code>aws-context</code>.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Create context" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-10-27-create-context.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-10-27-create-context.png" /></p> <p>Now that the context has been created and the environment variables have been configured, trigger the pipeline again. This time the build should succeed.</p> <p><img src="https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;w=2000&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data" alt="Circle CI pipeline builds successfully" class="zoomable" srcset="https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=449 449w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=898 898w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1347 1347w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=720 720w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1440 1440w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2160 2160w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=779 779w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1558 1558w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2337 2337w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=750 750w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=1500 1500w, https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;w=2250 2250w" sizes="(min-width: 1200px) 750px, (min-width: 992px) 779px, (min-width: 768px) 720px, (min-width: 480px) 720px, (min-width: 0px) 449px" data-full-size-src="https://production-cci-com.imgix.net/blog/media/2022-10-27-circle-ci-successful-build.png?ixlib=rb-3.2.1&amp;auto=format&amp;fit=max&amp;q=60&amp;ch=DPR%2CWidth%2CViewport-Width%2CSave-Data&amp;fm=jpg" data-original-src="/blog/media/2022-10-27-circle-ci-successful-build.png" /></p> <h2>Conclusion</h2> <p>In this tutorial, you saw how to build an automated unit testing pipeline for serverless applications. The serverless framework simplifies the process of deploying an application to the cloud.To deploy with confidence, it is critial to have extensive code coverage that include unit tests. Using the Jest framework, you can easily add expressive unit tests for your application that include mocking, spying, and stubbing. Also in this tutorial, you used OIDC short-lived tokens to deploy to AWS instead of using static access key and secret. You can check out the full <a href="https://github.com/CIRCLECI-GWP/circleci-serverless-unit-testing.git" target="_blank" rel="noreferrer noopener">source code</a> used in this tutorial on GitHub.</p> </description>
</item>
<item>
<title>CircleCI remains secure; be vigilant and aware of phishing attempts for your credentials</title>
<link>https://circleci.com/blog/circleci-security-update/</link>
<pubDate>Wed, 02 Nov 2022 05:00:00 -0700</pubDate>
<guid isPermaLink="true">https://circleci.com/blog/circleci-security-update/</guid>
<dc:creator>Rob Zuber</dc:creator>
<description><p>We’ve recently seen an increasing number of phishing attempts where unauthorized actors impersonate CircleCI to gain access to our users’ code repositories on GitHub. None of CircleCI’s systems have been compromised, and our customers’ data and information remain safe. The privacy and security of our customers’ data is paramount for CircleCI, and we want to remind you to stay vigilant and aware of attempts to gain access to code repositories.</p> <p>Social engineering threats, like phishing scams, rely on sophisticated social engineering attacks or manipulation — not inherent vulnerabilities — to gain unauthorized access to systems and networks. To reiterate from our <a href="https://discuss.circleci.com/t/circleci-security-alert-warning-phishing-attempt-for-login-credentials/45408">Discuss post</a>, all authorized emails from CircleCI will only include links to circleci.com or its sub-domains, and we will never ask for users to log in to review updates to our Terms of Service.</p> <p>We will continue to take steps to alert our community as we see future phishing attempts impersonating CircleCI. As these attempts arise, we alert our customers via in-app messaging, banner alerts, emails, our community forum, and our social media accounts. If you ever have questions about the validity of a message appearing to be from CircleCI, please do not hesitate to forward it to us for verification at <a href="mailto:security@circleci.com">security@circleci.com</a>.</p> <p>Thank you for your support and continued vigilance.</p> </description>
</item>
</channel>
</rss>
