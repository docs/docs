Skip to content
Search or jump to…
Pull requests
Issues
Codespaces
Marketplace
Explore
 
@zakwarlord7 
Your account has been flagged.
Because of that, your profile is hidden from the public. If you believe this is a mistake, contact support to have your account status reviewed.
zakwarlord7
/
GitHub-doc
Public
forked from github/docs
Cannot fork because you own this repository and are not a member of any organizations.
Code
Pull requests
50
Actions
Projects
Security
2
Insights
Settings
Merge branch 'github:main' into main
 main
@zakwarlord7
zakwarlord7 committed 9 minutes ago 
2 parents 68fa8c3 + 47c9337 commit ab4e79558438d89a5259dcafd04595355c3de3b6
Show file tree Hide file tree
Showing 171 changed files with 4,456 additions and 350 deletions.
  2  
.github/workflows/azure-prod-build-deploy.yml
@@ -143,7 +143,7 @@ jobs:
          az webapp deployment slot swap --slot canary --target-slot production -n ghdocs-prod -g docs-prod	          az webapp deployment slot swap --slot canary --target-slot production -n ghdocs-prod -g docs-prod
      - name: Send Slack notification if workflow failed	      - name: Send Slack notification if workflow failed
        uses: someimportantcompany/github-actions-slack-message@f8d28715e7b8a4717047d23f48c39827cacad340	        uses: someimportantcompany/github-actions-slack-message@1d367080235edfa53df415bd8e0bbab480f29bad
        if: ${{ failure() }}	        if: ${{ failure() }}
        with:	        with:
          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}	          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}
  2  
.github/workflows/confirm-internal-staff-work-in-docs.yml
@@ -74,7 +74,7 @@ jobs:
      - name: Send Slack notification if a GitHub employee who isn't on the docs team opens an issue in public	      - name: Send Slack notification if a GitHub employee who isn't on the docs team opens an issue in public
        if: ${{ steps.membership_check.outputs.did_warn && github.repository == 'github/docs' }}	        if: ${{ steps.membership_check.outputs.did_warn && github.repository == 'github/docs' }}
        uses: someimportantcompany/github-actions-slack-message@f8d28715e7b8a4717047d23f48c39827cacad340	        uses: someimportantcompany/github-actions-slack-message@1d367080235edfa53df415bd8e0bbab480f29bad
        with:	        with:
          channel: ${{ secrets.DOCS_OPEN_SOURCE_SLACK_CHANNEL_ID }}	          channel: ${{ secrets.DOCS_OPEN_SOURCE_SLACK_CHANNEL_ID }}
          bot-token: ${{ secrets.SLACK_DOCS_BOT_TOKEN }}	          bot-token: ${{ secrets.SLACK_DOCS_BOT_TOKEN }}
  2  
.github/workflows/enterprise-dates.yml
@@ -86,7 +86,7 @@ jobs:
          number: ${{ steps.create-pull-request.outputs.pull-request-number }}	          number: ${{ steps.create-pull-request.outputs.pull-request-number }}


      - name: Send Slack notification if workflow fails	      - name: Send Slack notification if workflow fails
        uses: someimportantcompany/github-actions-slack-message@f8d28715e7b8a4717047d23f48c39827cacad340	        uses: someimportantcompany/github-actions-slack-message@1d367080235edfa53df415bd8e0bbab480f29bad
        if: ${{ failure() && env.FREEZE != 'true' }}	        if: ${{ failure() && env.FREEZE != 'true' }}
        with:	        with:
          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}	          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}
  85  
.github/workflows/openapi-decorate.yml
@@ -6,6 +6,12 @@ name: Sync OpenAPI schema


on:	on:
  workflow_dispatch:	  workflow_dispatch:
    inputs:
      SOURCE_BRANCH:
        description: 'Branch to pull the dereferenced OpenAPI source files from in the github/rest-api-descriptions repo.'
        type: string
        required: true
        default: 'main'
  schedule:	  schedule:
    - cron: '20 16 * * *' # Run every day at 16:20 UTC / 8:20 PST	    - cron: '20 16 * * *' # Run every day at 16:20 UTC / 8:20 PST


@@ -28,11 +34,6 @@ jobs:
          echo 'The repo is currently frozen! Exiting this workflow.'	          echo 'The repo is currently frozen! Exiting this workflow.'
          exit 1 # prevents further steps from running	          exit 1 # prevents further steps from running
      - name: Label pull requests with 'github-openapi-bot'	
        uses: andymckay/labeler@e6c4322d0397f3240f0e7e30a33b5c5df2d39e90	
        with:	
          add-labels: 'github-openapi-bot'	

      - name: Checkout repository code	      - name: Checkout repository code
        uses: actions/checkout@93ea575cb5d8a053eaa0ac8fa3b40d7e05a33cc8	        uses: actions/checkout@93ea575cb5d8a053eaa0ac8fa3b40d7e05a33cc8


@@ -44,6 +45,9 @@ jobs:
          # will be checked out	          # will be checked out
          repository: github/rest-api-description	          repository: github/rest-api-description
          path: rest-api-description	          path: rest-api-description
          ref: ${{ github.event.inputs.SOURCE_BRANCH }}

      - uses: ./.github/actions/node-npm-setup


      - name: Copy dereferenced OpenAPI files	      - name: Copy dereferenced OpenAPI files
        id: rest-api-description	        id: rest-api-description
@@ -55,34 +59,53 @@ jobs:
          echo "OPENAPI_COMMIT_SHA=$OPENAPI_COMMIT_SHA" >> $GITHUB_OUTPUT	          echo "OPENAPI_COMMIT_SHA=$OPENAPI_COMMIT_SHA" >> $GITHUB_OUTPUT
          echo "Copied files from github/rest-api-description repo. Commit SHA: $OPENAPI_COMMIT_SHA"	          echo "Copied files from github/rest-api-description repo. Commit SHA: $OPENAPI_COMMIT_SHA"
      - uses: ./.github/actions/node-npm-setup	

      - name: Decorate the dereferenced OpenAPI schemas	      - name: Decorate the dereferenced OpenAPI schemas
        run: script/rest/update-files.js --decorate-only --open-source	        run: |
          script/rest/update-files.js --decorate-only --open-source
          git status
          echo "Deleting the cloned github/rest-api-description repo..."
          rm -rf rest-api-description
        # This action performs the diff and if no files have been change	
        # the action exits silently.	
      - name: Create pull request	      - name: Create pull request
        id: create-pull-request	
        uses: peter-evans/create-pull-request@2b011faafdcbc9ceb11414d64d0573f37c774b04	
        env:	        env:
          # Disable pre-commit hooks; they don't play nicely here	          # Needed for gh
          HUSKY: '0'	          GITHUB_TOKEN: ${{ secrets.DOCUBOT_REPO_PAT }}
        run: |
          # If nothing to commit, exit now. It's fine. No orphans.
          changes=$(git diff --name-only | wc -l)
          if [[ $changes -eq 0 ]]; then
            echo "There are no changes to commit after running lib/rest/update-files.js. Exiting..."
            exit 0
          fi
          git config --global user.name "docubot"
          git config --global user.email "67483024+docubot@users.noreply.github.com"
          branchname=openapi-update-${{ steps.rest-api-description.outputs.OPENAPI_COMMIT_SHA }}
          branchCheckout=$(git checkout -b $branchname)
          if [[! $? -eq 0 ]]; then
            echo "Branch $branchname already exists in `github/docs-internal`. Exiting..."
            exit 0
          fi
          git add .
          git commit -m "Add decorated OpenAPI schema files"
          git push origin $branchname
          echo "Creating pull request..."
          gh pr create \
            --title "Update OpenAPI Description" \
            --body '👋 humans. This PR updates the OpenAPI description with the latest changes. (Synced from github/rest-api-description@${{ steps.rest-api-description.outputs.OPENAPI_COMMIT_SHA }})
            If CI does not pass or other problems arise, contact #docs-engineering on slack.' \
            --repo github/docs-internal \
            --label github-openapi-bot
      - name: Send Slack notification if workflow fails
        uses: someimportantcompany/github-actions-slack-message@1d367080235edfa53df415bd8e0bbab480f29bad
        if: ${{ failure() && env.FREEZE != 'true' }}
        with:	        with:
          # Need to use a token with repo and workflow scopes for this step.	          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}
          # Token should be a PAT because actions performed with GITHUB_TOKEN	          bot-token: ${{ secrets.SLACK_DOCS_BOT_TOKEN }}
          # don't trigger other workflows and this action force pushes updates	          color: failure
          # from the default branch.	          text: The last Sync OpenAPI schema run for ${{github.repository}} failed. See https://github.com/${{github.repository}}/actions/workflows/sync-openapi.yml
          token: ${{ secrets.OCTOMERGER_PAT_WITH_REPO_AND_WORKFLOW_SCOPE }}	
          add-paths: |	
            - lib/rest/static/apps	
            - lib/rest/static/decorated	
            - lib/webhooks/static/decorated	
            - lib/redirects/static/client-side-rest-api-redirects.json	
          commit-message: 'Add decorated OpenAPI schema files'	
          title: Update OpenAPI Description	
          body: |	
            '👋 humans. This PR updates the OpenAPI description with the latest changes. (Synced from github/rest-api-description@${{ steps.rest-api-description.outputs.OPENAPI_COMMIT_SHA }})	
            If CI does not pass or other problems arise, contact #docs-engineering on slack.'	
          branch: openapi-update-${{ steps.rest-api-description.outputs.OPENAPI_COMMIT_SHA }}	
  2  
.github/workflows/repo-sync-stalls.yml
@@ -52,7 +52,7 @@ jobs:
              }	              }
            })	            })
      - name: Send Slack notification if workflow fails	      - name: Send Slack notification if workflow fails
        uses: someimportantcompany/github-actions-slack-message@f8d28715e7b8a4717047d23f48c39827cacad340	        uses: someimportantcompany/github-actions-slack-message@1d367080235edfa53df415bd8e0bbab480f29bad
        if: ${{ failure() }}	        if: ${{ failure() }}
        with:	        with:
          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}	          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}
  2  
.github/workflows/repo-sync.yml
@@ -256,7 +256,7 @@ jobs:
          gh pr merge $PR_NUMBER --admin --merge	          gh pr merge $PR_NUMBER --admin --merge
      - name: Send Slack notification if workflow fails	      - name: Send Slack notification if workflow fails
        uses: someimportantcompany/github-actions-slack-message@f8d28715e7b8a4717047d23f48c39827cacad340	        uses: someimportantcompany/github-actions-slack-message@1d367080235edfa53df415bd8e0bbab480f29bad
        if: failure()	        if: failure()
        with:	        with:
          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}	          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}
  2  
.github/workflows/sync-search-elasticsearch.yml
@@ -185,7 +185,7 @@ jobs:
        run: .github/actions-scripts/purge-fastly-edge-cache.js	        run: .github/actions-scripts/purge-fastly-edge-cache.js


      - name: Send Slack notification if workflow fails	      - name: Send Slack notification if workflow fails
        uses: someimportantcompany/github-actions-slack-message@f8d28715e7b8a4717047d23f48c39827cacad340	        uses: someimportantcompany/github-actions-slack-message@1d367080235edfa53df415bd8e0bbab480f29bad
        if: failure()	        if: failure()
        with:	        with:
          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}	          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}
  2  
.github/workflows/translation-health-report.yml
@@ -123,7 +123,7 @@ jobs:
      # Emit a notification for the first responder to triage if the workflow failed.	      # Emit a notification for the first responder to triage if the workflow failed.
      - name: Send Slack notification if workflow failed	      - name: Send Slack notification if workflow failed
        uses: someimportantcompany/github-actions-slack-message@f8d28715e7b8a4717047d23f48c39827cacad340	        uses: someimportantcompany/github-actions-slack-message@1d367080235edfa53df415bd8e0bbab480f29bad
        if: failure()	        if: failure()
        with:	        with:
          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}	          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}
  2  
.github/workflows/update-graphql-files.yml
@@ -81,7 +81,7 @@ jobs:
          github-token: ${{ secrets.DOCUBOT_REPO_PAT }}	          github-token: ${{ secrets.DOCUBOT_REPO_PAT }}
          number: ${{ steps.create-pull-request.outputs.pull-request-number }}	          number: ${{ steps.create-pull-request.outputs.pull-request-number }}
      - name: Send Slack notification if workflow fails	      - name: Send Slack notification if workflow fails
        uses: someimportantcompany/github-actions-slack-message@f8d28715e7b8a4717047d23f48c39827cacad340	        uses: someimportantcompany/github-actions-slack-message@1d367080235edfa53df415bd8e0bbab480f29bad
        if: ${{ failure() && env.FREEZE != 'true' }}	        if: ${{ failure() && env.FREEZE != 'true' }}
        with:	        with:
          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}	          channel: ${{ secrets.DOCS_ALERTS_SLACK_CHANNEL_ID }}
 BIN +61.2 KB 
assets/images/help/business-accounts/add-user-to-org.png
Unable to render rich display

 BIN +45.3 KB 
assets/images/help/business-accounts/enterprise-add-or-remove-from-org.png
Unable to render rich display

 BIN +24.8 KB 
assets/images/help/business-accounts/enterprise-failed-invitations.png
Unable to render rich display

 BIN +57.2 KB 
assets/images/help/business-accounts/enterprise-invitation-retry-or-cancel.png
Unable to render rich display

 BIN +30.6 KB 
assets/images/help/business-accounts/retry-invitation-pop-up-enterprise.png
Unable to render rich display

 BIN +72.9 KB 
assets/images/help/codespaces/copy-local-address.png
Unable to render rich display

 BIN +67 KB 
assets/images/help/codespaces/postman-screenshot-key-token.png
Unable to render rich display

 BIN +59.4 KB 
assets/images/help/codespaces/postman-screenshot-url.png
Unable to render rich display

 BIN +80.3 KB 
assets/images/help/codespaces/preview-in-editor-vscode.png
Unable to render rich display

 BIN +167 KB 
assets/images/help/dependabot/dependabot-improve-security-advisory.png
Unable to render rich display

 BIN +49.1 KB 
assets/images/help/enterprises/enterprise-invitations-bulk-select.png
Unable to render rich display

 BIN +52.5 KB 
assets/images/help/enterprises/enterprise-invitations-multiple-selection.png
Unable to render rich display

 BIN +36.7 KB 
assets/images/help/organizations/organization-failed-invitations.png
Unable to render rich display

 BIN +73.8 KB 
assets/images/help/organizations/organization-invitations-bulk-select.png
Unable to render rich display

 BIN +71.5 KB 
assets/images/help/organizations/organization-invitations-multiple-selection.png
Unable to render rich display

 BIN +33.9 KB 
assets/images/help/organizations/retry-invitation-pop-up.png
Unable to render rich display

 BIN +70 KB 
assets/images/help/organizations/retry-or-cancel-invitation.png
Unable to render rich display

 BIN +9.56 KB 
assets/images/help/projects-v2/copy-include-drafts.png
Unable to render rich display

 BIN +14 KB 
assets/images/help/projects-v2/copy-name.png
Unable to render rich display

 BIN +13.9 KB 
assets/images/help/projects-v2/copy-owner.png
Unable to render rich display

 BIN +13.7 KB 
assets/images/help/projects-v2/copy-submit.png
Unable to render rich display

 BIN +11.3 KB 
assets/images/help/projects-v2/make-a-copy.png
Unable to render rich display

 BIN +13.2 KB 
assets/images/help/projects-v2/workflow-autoadd-filter.png
Unable to render rich display

 BIN +13.6 KB 
assets/images/help/projects-v2/workflow-autoadd-repo.png
Unable to render rich display

 BIN +12 KB 
assets/images/help/projects-v2/workflow-autoadd.png
Unable to render rich display

 BIN +8.09 KB 
assets/images/help/projects-v2/workflow-save-and-turn-on.png
Unable to render rich display

 BIN +6.07 KB 
assets/images/help/projects-v2/workflow-start-editing.png
Unable to render rich display

 BIN -112 KB (49%) 
.../repository/secret-scanning-dismiss-alert-web-ui-link-partner-documentation.png
Unable to render rich display

 BIN -28 KB (68%) 
assets/images/help/repository/secret-scanning-dismissal-comment.png
Unable to render rich display

 BIN +68.9 KB 
assets/images/help/repository/secret-scanning-validity-check.png
Unable to render rich display

  21  
components/parameter-table/ParameterRow.tsx
@@ -60,11 +60,22 @@ export function ParameterRow({
            )}	            )}
          >	          >
            <div>	            <div>
              <code className={`text-bold f5`}>{rowParams.name}</code>	              {rowParams.name ? (
              <span className="color-fg-muted pl-2 f5">{rowParams.type}</span>	                <>
              {rowParams.isRequired ? (	                  <code className={`text-bold f5`}>{rowParams.name}</code>
                <span className="color-fg-attention f5 pl-3">{t('required')}</span>	                  <span className="color-fg-muted pl-2 f5">{rowParams.type}</span>
              ) : null}	                  {rowParams.isRequired ? (
                    <span className="color-fg-attention f5 pl-3">{t('required')}</span>
                  ) : null}
                </>
              ) : (
                <>
                  <span className="color-fg-muted pl-1 f5">{rowParams.type}</span>
                  {rowParams.isRequired ? (
                    <span className="color-fg-attention f5 pl-3">{t('required')}</span>
                  ) : null}
                </>
              )}
            </div>	            </div>


            <div className={cx('pl-1 f5', `${rowParams.description ? 'pt-2' : 'pt-0'}`)}>	            <div className={cx('pl-1 f5', `${rowParams.description ? 'pt-2' : 'pt-0'}`)}>
  2  
content/README.md
@@ -227,7 +227,7 @@ defaultPlatform: linux


### `defaultTool`	### `defaultTool`


- Purpose: Override the initial tool selection for a page, where the tool refers to the application the reader is using to work with GitHub (such as GitHub.com's web UI, the GitHub CLI, or GitHub Desktop) or the GitHub APIs (such as cURL or the GitHub CLI). For more information about the tool selector, see [Markup reference for GitHub Docs](../contributing/content-markup-reference.md#tool-tags). If this frontmatter is omitted, then the tool-specific content matching the GitHub web UI is shown by default. If a user has indicated a tool preference (by clicking on a tool tab), then the user's preference will be applied instead of the default value.	- Purpose: Override the initial tool selection for a page, where the tool refers to the application the reader is using to work with GitHub (such as GitHub.com's web UI, the GitHub CLI, or GitHub Desktop) or the GitHub APIs. For more information about the tool selector, see [Markup reference for GitHub Docs](../contributing/content-markup-reference.md#tool-tags). If this frontmatter is omitted, then the tool-specific content matching the GitHub web UI is shown by default. If a user has indicated a tool preference (by clicking on a tool tab), then the user's preference will be applied instead of the default value.
- Type: `String`, one of: `webui`, `cli`, `desktop`, `curl`, `codespaces`, `vscode`, `importer_cli`, `graphql`, `powershell`, `bash`, `javascript`.	- Type: `String`, one of: `webui`, `cli`, `desktop`, `curl`, `codespaces`, `vscode`, `importer_cli`, `graphql`, `powershell`, `bash`, `javascript`.
- Optional.	- Optional.


  2  
content/admin/configuration/configuring-your-enterprise/site-admin-dashboard.md
@@ -64,7 +64,7 @@ Specifically, you can download CSV reports that list


You can also access these reports programmatically via standard HTTP authentication with a site admin account. You must use a {% data variables.product.pat_v1 %} with the `site_admin` scope. For more information, see "[Creating a {% data variables.product.pat_generic %}](/github/authenticating-to-github/creating-a-personal-access-token)."	You can also access these reports programmatically via standard HTTP authentication with a site admin account. You must use a {% data variables.product.pat_v1 %} with the `site_admin` scope. For more information, see "[Creating a {% data variables.product.pat_generic %}](/github/authenticating-to-github/creating-a-personal-access-token)."


For example, here is how you would download the "all users" report using cURL:	For example, here is how you would download the "all users" report in a `curl` command:


```shell	```shell
curl -L -u USERNAME:TOKEN http(s)://HOSTNAME/stafftools/reports/all_users.csv	curl -L -u USERNAME:TOKEN http(s)://HOSTNAME/stafftools/reports/all_users.csv
  14  
...gement/using-enterprise-managed-users-for-iam/about-enterprise-managed-users.md
@@ -81,19 +81,23 @@ To discover how a member was added to an organization, you can filter the member
{% data variables.enterprise.prodname_managed_users_caps %} can only contribute to private and internal repositories within their enterprise and private repositories owned by their user account. {% data variables.enterprise.prodname_managed_users_caps %} have read-only access to the wider {% data variables.product.prodname_dotcom %} community. These visibility and access restrictions for users and content apply to all requests, including API requests.	{% data variables.enterprise.prodname_managed_users_caps %} can only contribute to private and internal repositories within their enterprise and private repositories owned by their user account. {% data variables.enterprise.prodname_managed_users_caps %} have read-only access to the wider {% data variables.product.prodname_dotcom %} community. These visibility and access restrictions for users and content apply to all requests, including API requests.


* {% data variables.enterprise.prodname_managed_users_caps %} cannot be invited to organizations or repositories outside of the enterprise, nor can the {% data variables.enterprise.prodname_managed_users %} be invited to other enterprises.	* {% data variables.enterprise.prodname_managed_users_caps %} cannot be invited to organizations or repositories outside of the enterprise, nor can the {% data variables.enterprise.prodname_managed_users %} be invited to other enterprises.
* Outside collaborators are not supported by {% data variables.product.prodname_emus %}.	
* {% data variables.enterprise.prodname_managed_users_caps %} cannot create issues or pull requests in, comment or add reactions to, nor star, watch, or fork repositories outside of the enterprise.	
* {% data variables.enterprise.prodname_managed_users_caps %} can view all public repositories on {% data variables.product.prodname_dotcom_the_website %}, but cannot push code to repositories outside of the enterprise.	
* {% data variables.enterprise.prodname_managed_users_caps %} and the content they create is only visible to other members of the enterprise.	* {% data variables.enterprise.prodname_managed_users_caps %} and the content they create is only visible to other members of the enterprise.
* {% data variables.enterprise.prodname_managed_users_caps %} cannot follow users outside of the enterprise.	* Other {% data variables.product.prodname_dotcom %} users cannot see, mention, or invite a {% data variables.enterprise.prodname_managed_user %} to collaborate.
* {% data variables.enterprise.prodname_managed_users_caps %} can view all public repositories on {% data variables.product.prodname_dotcom_the_website %}, but cannot interact with repositories outside of the enterprise in any of the following ways:
  - Push code to the repository
  - Create issues or pull requests within the repository
  - Create or comment on discussions within the repository
  - Comment on issues or pull requests, or add reactions to comments
  - Star, watch, or fork the repository
* {% data variables.enterprise.prodname_managed_users_caps %} cannot create gists or comment on gists.	* {% data variables.enterprise.prodname_managed_users_caps %} cannot create gists or comment on gists.
* {% data variables.enterprise.prodname_managed_users_caps %} cannot follow users outside of the enterprise.
* {% data variables.enterprise.prodname_managed_users_caps %} cannot create starter workflows for {% data variables.product.prodname_actions %}.	* {% data variables.enterprise.prodname_managed_users_caps %} cannot create starter workflows for {% data variables.product.prodname_actions %}.
* {% data variables.enterprise.prodname_managed_users_caps %} cannot install {% data variables.product.prodname_github_apps %} on their user accounts.	* {% data variables.enterprise.prodname_managed_users_caps %} cannot install {% data variables.product.prodname_github_apps %} on their user accounts.
* Other {% data variables.product.prodname_dotcom %} users cannot see, mention, or invite a {% data variables.enterprise.prodname_managed_user %} to collaborate.	
* You can choose whether {% data variables.enterprise.prodname_managed_users %} are able to create repositories owned by their user accounts. For more information, see "[Enforcing repository management policies in your enterprise](/admin/policies/enforcing-policies-for-your-enterprise/enforcing-repository-management-policies-in-your-enterprise#enforcing-a-policy-for-repository-creation)."	* You can choose whether {% data variables.enterprise.prodname_managed_users %} are able to create repositories owned by their user accounts. For more information, see "[Enforcing repository management policies in your enterprise](/admin/policies/enforcing-policies-for-your-enterprise/enforcing-repository-management-policies-in-your-enterprise#enforcing-a-policy-for-repository-creation)."
* If you allow {% data variables.enterprise.prodname_managed_users %} to create repositories owned by their user accounts, they can only own private repositories and can only invite other enterprise members to collaborate on their user-owned repositories.	* If you allow {% data variables.enterprise.prodname_managed_users %} to create repositories owned by their user accounts, they can only own private repositories and can only invite other enterprise members to collaborate on their user-owned repositories.
* {% data reusables.enterprise-accounts.emu-forks %}	* {% data reusables.enterprise-accounts.emu-forks %}
* Only private and internal repositories can be created in organizations owned by an {% data variables.enterprise.prodname_emu_enterprise %}, depending on organization and enterprise repository visibility settings.	* Only private and internal repositories can be created in organizations owned by an {% data variables.enterprise.prodname_emu_enterprise %}, depending on organization and enterprise repository visibility settings.
* Outside collaborators are not supported by {% data variables.product.prodname_emus %}.
* {% data variables.enterprise.prodname_managed_users_caps %} are limited in their use of {% data variables.product.prodname_pages %}. For more information, see "[About {% data variables.product.prodname_pages %}](/pages/getting-started-with-github-pages/about-github-pages#limitations-for-enterprise-managed-users)."	* {% data variables.enterprise.prodname_managed_users_caps %} are limited in their use of {% data variables.product.prodname_pages %}. For more information, see "[About {% data variables.product.prodname_pages %}](/pages/getting-started-with-github-pages/about-github-pages#limitations-for-enterprise-managed-users)."


## Getting started with {% data variables.product.prodname_emus %}	## Getting started with {% data variables.product.prodname_emus %}
  4  
...-managed-users-for-iam/about-support-for-your-idps-conditional-access-policy.md
@@ -37,7 +37,9 @@ If you're unable to use a service account, another option for unblocking actions


### {% data variables.product.prodname_github_apps %} and {% data variables.product.prodname_oauth_apps %} 	### {% data variables.product.prodname_github_apps %} and {% data variables.product.prodname_oauth_apps %} 


When {% data variables.product.prodname_github_apps %} and {% data variables.product.prodname_oauth_apps %} make requests on a member's behalf, {% data variables.product.prodname_dotcom %} will send the IP address of the app's server to your IdP for validation. If the IP address of the app's server is not validated by your IdP's CAP, the request will fail.	When {% data variables.product.prodname_github_apps %} and {% data variables.product.prodname_oauth_apps %} sign a user in and make requests on that user's behalf, also known as a [`user-to-server` request](/get-started/quickstart/github-glossary#user-to-server-request), {% data variables.product.prodname_dotcom %} will send the IP address of the app's server to your IdP for validation. If the IP address of the app's server is not validated by your IdP's CAP, the request will fail. 

When {% data variables.product.prodname_github_apps %} call {% data variables.product.prodname_dotcom %} APIs acting either as the app itself or as an installation, these calls are not performed on behalf of a user - this is also known as a [`server-to-server` request](/get-started/quickstart/github-glossary#server-to-server-request). Since your IdP's CAP executes and applies policies to user accounts, these application requests cannot be validated against CAP and are always allowed through. For more information on {% data variables.product.prodname_github_apps %} authenticating as themselves, see "[Authenticating with GitHub Apps](/developers/apps/building-github-apps/authenticating-with-github-apps#authenticating-as-a-github-app)".


You can contact the owners of the apps you want to use, ask for their IP ranges, and configure your IdP's CAP to allow access from those IP ranges. If you're unable to contact the owners, you can review your IdP sign-in logs to review the IP addresses seen in the requests, then allow-list those addresses. 	You can contact the owners of the apps you want to use, ask for their IP ranges, and configure your IdP's CAP to allow access from those IP ranges. If you're unable to contact the owners, you can review your IdP sign-in logs to review the IP addresses seen in the requests, then allow-list those addresses. 


  8  
...ccess-management/using-saml-for-enterprise-iam/about-saml-for-enterprise-iam.md
@@ -28,7 +28,7 @@ redirect_from:


{% ifversion ghec %}	{% ifversion ghec %}


If your enterprise members manage their own user accounts on {% data variables.location.product_location %}, you can configure SAML authentication as an additional access restriction for your enterprise or organization. {% data reusables.saml.dotcom-saml-explanation %} 	If your enterprise members manage their own user accounts on {% data variables.location.product_location %}, you can configure SAML authentication as an additional access restriction for your enterprise or organization. {% data reusables.saml.dotcom-saml-explanation %}


{% data reusables.saml.saml-accounts %}	{% data reusables.saml.saml-accounts %}


@@ -38,9 +38,9 @@ Alternatively, you can provision and manage the accounts of your enterprise memb


{% data reusables.enterprise-accounts.about-recovery-codes %} For more information, see "[Managing recovery codes for your enterprise](/admin/identity-and-access-management/managing-recovery-codes-for-your-enterprise)."	{% data reusables.enterprise-accounts.about-recovery-codes %} For more information, see "[Managing recovery codes for your enterprise](/admin/identity-and-access-management/managing-recovery-codes-for-your-enterprise)."


After you enable SAML SSO, depending on the IdP you use, you may be able to enable additional identity and access management features. 	After you enable SAML SSO, depending on the IdP you use, you may be able to enable additional identity and access management features.


If you use Azure AD as your IdP, you can use team synchronization to manage team membership within each organization. {% data reusables.identity-and-permissions.about-team-sync %}	If you use Azure AD as your IdP, you can use team synchronization to manage team membership within each organization. {% data reusables.identity-and-permissions.about-team-sync %} For more information, see "[Managing team synchronization for organizations in your enterprise](/admin/identity-and-access-management/managing-iam-for-your-enterprise/managing-team-synchronization-for-organizations-in-your-enterprise)."




{% note %}	{% note %}
@@ -97,7 +97,7 @@ For more information about the configuration of SAML SSO on {% data variables.pr


We test and officially support the following IdPs. For SAML SSO, we offer limited support for all identity providers that implement the SAML 2.0 standard. For more information, see the [SAML Wiki](https://wiki.oasis-open.org/security) on the OASIS website.	We test and officially support the following IdPs. For SAML SSO, we offer limited support for all identity providers that implement the SAML 2.0 standard. For more information, see the [SAML Wiki](https://wiki.oasis-open.org/security) on the OASIS website.


IdP | SAML | Team synchronization | 	IdP | SAML | Team synchronization |
--- | :--: | :-------: |	--- | :--: | :-------: |
Active Directory Federation Services (AD FS) | {% octicon "check-circle-fill" aria-label= "The check icon" %} | |	Active Directory Federation Services (AD FS) | {% octicon "check-circle-fill" aria-label= "The check icon" %} | |
Azure Active Directory (Azure AD) | {% octicon "check-circle-fill" aria-label="The check icon" %} | {% octicon "check-circle-fill" aria-label="The check icon" %} |	Azure Active Directory (Azure AD) | {% octicon "check-circle-fill" aria-label="The check icon" %} | {% octicon "check-circle-fill" aria-label="The check icon" %} |
  9  
...prise-iam/managing-team-synchronization-for-organizations-in-your-enterprise.md
@@ -36,11 +36,10 @@ You can also configure and manage team synchronization for an individual organiz


## Prerequisites	## Prerequisites


You or your Azure AD administrator must be a Global administrator or a Privileged Role administrator in Azure AD.	- You must use an Azure AD commercial tenant, not Gov Cloud.

- You or your Azure AD administrator must be a Global administrator or a Privileged Role administrator in Azure AD.
You must enforce SAML single sign-on for organizations in your enterprise account with your supported IdP. For more information, see "[Configuring SAML single sign-on for your enterprise](/admin/authentication/managing-identity-and-access-for-your-enterprise/configuring-saml-single-sign-on-for-your-enterprise)."	- You must enforce SAML single sign-on for organizations in your enterprise account with your supported IdP. For more information, see "[Configuring SAML single sign-on for your enterprise](/admin/authentication/managing-identity-and-access-for-your-enterprise/configuring-saml-single-sign-on-for-your-enterprise)."

- You must authenticate to your enterprise account using SAML SSO and the supported IdP. For more information, see "[Authenticating with SAML single sign-on](/articles/authenticating-with-saml-single-sign-on)."
You must authenticate to your enterprise account using SAML SSO and the supported IdP. For more information, see "[Authenticating with SAML single sign-on](/articles/authenticating-with-saml-single-sign-on)."	


## Managing team synchronization for Azure AD	## Managing team synchronization for Azure AD


  4  
content/admin/index.md
@@ -80,9 +80,9 @@ featuredLinks:
    - '{% ifversion ghec %}/admin/user-management/managing-users-in-your-enterprise/roles-in-an-enterprise{% endif %}'	    - '{% ifversion ghec %}/admin/user-management/managing-users-in-your-enterprise/roles-in-an-enterprise{% endif %}'
    - '{% ifversion ghec %}/admin/user-management/managing-organizations-in-your-enterprise/adding-organizations-to-your-enterprise{% endif %}'	    - '{% ifversion ghec %}/admin/user-management/managing-organizations-in-your-enterprise/adding-organizations-to-your-enterprise{% endif %}'
  guideCards:	  guideCards:
    - '{% ifversion ghes %}/admin/github-actions/getting-started-with-github-actions-for-github-enterprise-server{% endif %}'	    - '{% ifversion ghes %}/admin/github-actions/getting-started-with-github-actions-for-your-enterprise/getting-started-with-github-actions-for-github-enterprise-server{% endif %}'
    - '{% ifversion ghes %}/admin/packages/getting-started-with-github-packages-for-your-enterprise{% endif %}'	    - '{% ifversion ghes %}/admin/packages/getting-started-with-github-packages-for-your-enterprise{% endif %}'
    - '{% ifversion ghes %}/admin/configuration/configuring-advanced-security-features{% endif %}'	    - '{% ifversion ghes %}/admin/code-security/managing-github-advanced-security-for-your-enterprise{% endif %}'
    - '{% ifversion ghae %}/admin/configuration/configuring-your-enterprise/initializing-github-ae{% endif %}'	    - '{% ifversion ghae %}/admin/configuration/configuring-your-enterprise/initializing-github-ae{% endif %}'
    - '{% ifversion ghae %}/admin/user-management/managing-users-in-your-enterprise/customizing-user-messages-for-your-enterprise{% endif %}'	    - '{% ifversion ghae %}/admin/user-management/managing-users-in-your-enterprise/customizing-user-messages-for-your-enterprise{% endif %}'
    - '{% ifversion ghae %}/admin/github-actions/getting-started-with-github-actions-for-your-enterprise/getting-started-with-github-actions-for-github-ae{% endif %}'	    - '{% ifversion ghae %}/admin/github-actions/getting-started-with-github-actions-for-your-enterprise/getting-started-with-github-actions-for-github-ae{% endif %}'
  3  
...eviewing-audit-logs-for-your-enterprise/audit-log-events-for-your-enterprise.md
@@ -1184,8 +1184,9 @@ Before you'll see `git` category actions, you must enable Git events in the audi
| Action | Description	| Action | Description
|--------|-------------	|--------|-------------
| `repository_invitation.accept` | An invitation to join a repository was accepted.	| `repository_invitation.accept` | An invitation to join a repository was accepted.
| `repository_invitation.cancel` | An invitation to join a repository was canceled.
| `repository_invitation.create` | An invitation to join a repository was sent.	| `repository_invitation.create` | An invitation to join a repository was sent.
| `repository_invitation.reject` | An invitation to join a repository was canceled.	| `repository_invitation.reject` | An invitation to join a repository was declined.


## `repository_projects_change` category actions	## `repository_projects_change` category actions


  6  
...g-audit-logs-for-your-enterprise/streaming-the-audit-log-for-your-enterprise.md
@@ -38,6 +38,12 @@ The benefits of streaming audit data include:


Enterprise owners can set up{% ifversion pause-audit-log-stream %}, pause,{% endif %} or delete a stream at any time. The stream exports the audit and Git events data for all of the organizations in your enterprise.	Enterprise owners can set up{% ifversion pause-audit-log-stream %}, pause,{% endif %} or delete a stream at any time. The stream exports the audit and Git events data for all of the organizations in your enterprise.


{% note %}

**Note:** All audit logs are streamed in JSON format.

{% endnote %}

## Setting up audit log streaming	## Setting up audit log streaming


You set up the audit log stream on {% data variables.product.product_name %} by following the instructions for your provider.	You set up the audit log stream on {% data variables.product.product_name %} by following the instructions for your provider.
  3  
content/admin/user-management/managing-users-in-your-enterprise/index.md
@@ -21,6 +21,8 @@ children:
  - /roles-in-an-enterprise	  - /roles-in-an-enterprise
  - /best-practices-for-user-security	  - /best-practices-for-user-security
  - /inviting-people-to-manage-your-enterprise	  - /inviting-people-to-manage-your-enterprise
  - /managing-invitations-to-organizations-within-your-enterprise
  - /managing-organization-members-in-your-enterprise
  - /promoting-or-demoting-a-site-administrator	  - /promoting-or-demoting-a-site-administrator
  - /managing-support-entitlements-for-your-enterprise	  - /managing-support-entitlements-for-your-enterprise
  - /viewing-people-in-your-enterprise	  - /viewing-people-in-your-enterprise
@@ -37,4 +39,3 @@ children:
  - /rebuilding-contributions-data	  - /rebuilding-contributions-data
shortTitle: Manage users	shortTitle: Manage users
---	---

  6  
...min/user-management/managing-users-in-your-enterprise/managing-dormant-users.md
@@ -23,9 +23,11 @@ topics:
{% data reusables.enterprise-accounts.dormant-user-activity %}	{% data reusables.enterprise-accounts.dormant-user-activity %}


{% ifversion ghec %}	{% ifversion ghec %}
When assessing user dormancy, we only consider organizations, repositories, or sign-on events that are associated with the enterprise. For example, a user who has recently commented on an issue in a public repository outside of the enterprise may be considered dormant, while a user who has commented on an issue in a public repository within the enterprise will not be considered dormant. 	When assessing user dormancy, we only consider organizations, repositories, or sign-on events that are associated with the enterprise. For example, a user who has recently commented on an issue in a public repository outside of the enterprise may be considered dormant, while a user who has commented on an issue in a public repository within the enterprise will not be considered dormant.


Only sign-on events through an SSO domain associated with your enterprise are considered user activity associated with the enterprise.	Only sign-on events through an SSO domain associated with your enterprise are considered user activity associated with the enterprise.

The report includes both enterprise members and outside collaborators.
{% endif %}	{% endif %}


{% ifversion ghes or ghae %}	{% ifversion ghes or ghae %}
@@ -65,7 +67,7 @@ Only sign-on events through an SSO domain associated with your enterprise are co


{% data reusables.enterprise-accounts.access-enterprise %}	{% data reusables.enterprise-accounts.access-enterprise %}
{% data reusables.enterprise-accounts.enterprise-accounts-compliance-tab %}	{% data reusables.enterprise-accounts.enterprise-accounts-compliance-tab %}
1. To download your Dormant Users (beta) report as a CSV file, under "Other", click {% octicon "download" aria-label="The Download icon" %} **Download**.	1. To download your Dormant Users report as a CSV file, under "Other", click {% octicon "download" aria-label="The Download icon" %} **Download**.
  ![Download button under "Other" on the Compliance page](/assets/images/help/business-accounts/dormant-users-download-button.png)	  ![Download button under "Other" on the Compliance page](/assets/images/help/business-accounts/dormant-users-download-button.png)


{% endif %}	{% endif %}
 39  
...your-enterprise/managing-invitations-to-organizations-within-your-enterprise.md
@@ -0,0 +1,39 @@
---
title: Managing invitations to organizations within your enterprise
intro: 'You can retry or cancel invitations to organizations within your enterprise, either one by one or multiple at a time.'
versions:
  feature: enterprise-manage-organization-members
type: how_to
topics:
  - Administrator
  - Enterprise
  - Organizations
shortTitle: Manage organization invitations
permissions: Enterprise owners can manage invitations to organizations within their enterprise.
---

## Retrying or canceling expired invitations

Invitations expire after 7 days. You can retry or cancel expired invitations, either one by one or multiple at a time. Failed invitations to outside collaborators can also be found in this view.

{% data reusables.enterprise-accounts.access-enterprise %}
{% data reusables.enterprise-accounts.people-tab %}
1. Under "{% octicon "person" aria-label="The People icon" %} People", click **Failed invitations**.

   ![Screenshot of the Failed invitations tab](/assets/images/help/business-accounts/enterprise-failed-invitations.png)

1. To retry or cancel a single invitation, click {% octicon "kebab-horizontal" aria-label="The horizontal kebab icon" %} to the right of the invitation, and select **Retry invitation** or **Cancel invitation**.

   ![Screenshot of the failed invitations page with the dropdown to retry or cancel the invitation emphasized](/assets/images/help/business-accounts/enterprise-invitation-retry-or-cancel.png)

2. To confirm, click **Yes, retry** or **Yes, remove** in the pop-up.

   ![Screenshot of the retry invitation pop-up](/assets/images/help/business-accounts/retry-invitation-pop-up-enterprise.png)

3. Optionally, to retry or cancel multiple invitations at the same time, select the checkboxes next to the invitations. Click the dropdown at the top of the list and select **Retry invitations** or **Cancel invitations**.

   ![Screenshot of the dropdown to edit multiple invitations](/assets/images/help/enterprises/enterprise-invitations-multiple-selection.png)

4. Optionally, to retry or cancel all invitations on the page, check the box at the top of the list, and click **Retry invitations** or **Cancel invitations**.

   ![Screenshot of the dropdown to bulk edit all invitations on the page](/assets/images/help/enterprises/enterprise-invitations-bulk-select.png)
 44  
...ng-users-in-your-enterprise/managing-organization-members-in-your-enterprise.md
@@ -0,0 +1,44 @@
---
title: Managing organization members in your enterprise
intro: 'You can add or remove members from an organization in bulk.'
permissions: Enterprise owners can add or remove organization members in bulk.
versions:
  feature: enterprise-manage-organization-members
type: how_to
topics:
  - Enterprise
  - Organizations
shortTitle: Managing organization members
---

Enterprise members that are added to an organization via the bulk method will not receive an email inviting them to the organization. They are added immediately as a member to the selected organizations.

Members can also be added or removed from an organization at the organization level. For more information, see {% ifversion ghec %}"[Inviting users to join your organization](/organizations/managing-membership-in-your-organization/inviting-users-to-join-your-organization)"{% else %}"[Adding people to your organization](/organizations/managing-membership-in-your-organization/adding-people-to-your-organization)"{% endif %} and "[Removing a member from your organization](/organizations/managing-membership-in-your-organization/removing-a-member-from-your-organization)."

{% data reusables.enterprise-accounts.access-enterprise %}
{% data reusables.enterprise-accounts.people-tab %}
1. To add or remove a user from an organization, select the checkbox next to the user's name, and use the dropdown to select **Add to organizations** or **Remove from organizations**.

   {% note %}

   **Note:**
   - Users will be added as organization members. If the user is already an organization member or organization admin, the privileges will not be modified.
   - Organization admins cannot be removed from the organization via the bulk method.

   {% endnote %}

   ![Screenshot of the dropdown to add or remove a user from organizations](/assets/images/help/business-accounts/enterprise-add-or-remove-from-org.png)

2. In the popup, select the organizations you want to add or remove the user from.

    {% note %}

    **Note:** Only organizations that you're an owner of can be selected.

    {% endnote %}

3. To confirm, click **Add user** or **Remove user**.

   ![Screenshot of the "Add user" button in the "Add users to organizations" modal](/assets/images/help/business-accounts/add-user-to-org.png)

4. Optionally, to add or remove multiple users at the same time, select multiple checkboxes. Use the dropdown to select **Add to organizations** or **Remove from organizations**.
  3  
content/billing/index.md
@@ -22,7 +22,7 @@ featuredLinks:
    - '{% ifversion ghec %}/billing/managing-billing-for-your-github-account/viewing-the-subscription-and-usage-for-your-enterprise-account{% endif %}'	    - '{% ifversion ghec %}/billing/managing-billing-for-your-github-account/viewing-the-subscription-and-usage-for-your-enterprise-account{% endif %}'
    - '{% ifversion fpt or ghec %}/billing/managing-billing-for-your-github-account/downgrading-your-github-subscription{% endif %}'	    - '{% ifversion fpt or ghec %}/billing/managing-billing-for-your-github-account/downgrading-your-github-subscription{% endif %}'
    - '{% ifversion fpt or ghec %}/billing/managing-billing-for-github-actions/about-billing-for-github-actions{% endif %}'	    - '{% ifversion fpt or ghec %}/billing/managing-billing-for-github-actions/about-billing-for-github-actions{% endif %}'
    - '{% ifversion fpt or ghec %}/billing/managing-billing-for-github-codespaces/about-billing-for-codespaces{% endif %}'	    - '{% ifversion fpt or ghec %}/billing/managing-billing-for-github-codespaces/about-billing-for-github-codespaces{% endif %}'
    - '{% ifversion ghes %}/billing/managing-billing-for-github-advanced-security/about-billing-for-github-advanced-security{% endif %}'	    - '{% ifversion ghes %}/billing/managing-billing-for-github-advanced-security/about-billing-for-github-advanced-security{% endif %}'
    - '{% ifversion ghes %}/billing/managing-billing-for-github-advanced-security/viewing-your-github-advanced-security-usage{% endif %}'	    - '{% ifversion ghes %}/billing/managing-billing-for-github-advanced-security/viewing-your-github-advanced-security-usage{% endif %}'
    - '{% ifversion ghes %}/billing/managing-your-license-for-github-enterprise/uploading-a-new-license-to-github-enterprise-server{% endif %}'	    - '{% ifversion ghes %}/billing/managing-your-license-for-github-enterprise/uploading-a-new-license-to-github-enterprise-server{% endif %}'
@@ -55,4 +55,3 @@ children:
  - /managing-billing-for-git-large-file-storage	  - /managing-billing-for-git-large-file-storage
  - /setting-up-paid-organizations-for-procurement-companies	  - /setting-up-paid-organizations-for-procurement-companies
---	---

  2  
...ing-your-code-for-vulnerabilities-and-errors/about-code-scanning-with-codeql.md
@@ -75,7 +75,7 @@ These queries must belong to a published {% data variables.product.prodname_code
- {% data variables.product.prodname_ql %} packs do not include transitive dependencies, so queries in the pack can depend only on the standard libraries (that is, the libraries referenced by an `import LANGUAGE` statement in your query), or libraries in the same {% data variables.product.prodname_ql %} pack as the query.	- {% data variables.product.prodname_ql %} packs do not include transitive dependencies, so queries in the pack can depend only on the standard libraries (that is, the libraries referenced by an `import LANGUAGE` statement in your query), or libraries in the same {% data variables.product.prodname_ql %} pack as the query.
- {% data variables.product.prodname_codeql %} query packs (beta) can be downloaded from multiple GitHub container registries. For more information, see "[Customizing {% data variables.product.prodname_code_scanning %}](/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/customizing-code-scanning#downloading-codeql-packs-from-github-enterprise-server)."	- {% data variables.product.prodname_codeql %} query packs (beta) can be downloaded from multiple GitHub container registries. For more information, see "[Customizing {% data variables.product.prodname_code_scanning %}](/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/customizing-code-scanning#downloading-codeql-packs-from-github-enterprise-server)."


For more information, see "[About {% data variables.product.prodname_codeql %} packs](https://codeql.github.com/docs/codeql-cli/about-codeql-packs/)" in the {% data variables.product.prodname_codeql %} documentation.	For more information, see "[About {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/codeql-cli-reference/about-codeql-packs)."


{% data reusables.code-scanning.beta-codeql-packs-cli %}	{% data reusables.code-scanning.beta-codeql-packs-cli %}


  17  
...-scanning-your-code-for-vulnerabilities-and-errors/customizing-code-scanning.md
@@ -328,6 +328,21 @@ In the example below, `scope` is the organization or personal account that publi
    packs: scope/pack1,scope/pack2@1.2.3,scope/pack3@~3.2.1,scope/pack4@4.5.6:path/to/queries	    packs: scope/pack1,scope/pack2@1.2.3,scope/pack3@~3.2.1,scope/pack4@4.5.6:path/to/queries
```	```


{% ifversion query-pack-compatibility %}
{% note %}

**Note:** If you specify a particular version of a query pack to use,
beware that the version you specify may eventually become too old to
be used efficiently by the default
{% data variables.product.prodname_codeql %} engine used by the
{% data variables.product.prodname_codeql %} action.
To ensure optimal performance, if you need to specify exact query pack versions, you should consider reviewing periodically whether the pinned version of the query pack needs to be moved forward.

For more information about pack compatibility, see "[About {% data variables.product.prodname_codeql %} pack compatibility](/code-security/code-scanning/using-the-codeql-cli/publishing-and-using-codeql-packs#about-codeql-pack-compatibility)."

{% endnote %}
{% endif %}

### Downloading {% data variables.product.prodname_codeql %} packs from {% data variables.product.prodname_ghe_server %}	### Downloading {% data variables.product.prodname_codeql %} packs from {% data variables.product.prodname_ghe_server %}


If your workflow uses packs that are published on a {% data variables.product.prodname_ghe_server %} installation, you need to tell your workflow where to find them. You can do this by using the `registries` input of the {% data reusables.actions.action-codeql-action-init %} action. This input accepts a list of `url`, `packages`, and `token` properties as shown below.	If your workflow uses packs that are published on a {% data variables.product.prodname_ghe_server %} installation, you need to tell your workflow where to find them. You can do this by using the `registries` input of the {% data reusables.actions.action-codeql-action-init %} action. This input accepts a list of `url`, `packages`, and `token` properties as shown below.
@@ -510,7 +525,7 @@ To find the id of a query, you can click the alert in the list of alerts in the


You can find another example illustrating the use of these filters in the "[Example configuration files](#example-configuration-files)" section.	You can find another example illustrating the use of these filters in the "[Example configuration files](#example-configuration-files)" section.


For more information about using `exclude` and `include` filters in your custom configuration file, see "[Creating {% data variables.product.prodname_codeql %} query suites](https://codeql.github.com/docs/codeql-cli/creating-codeql-query-suites/#filtering-the-queries-in-a-query-suite)." For information on the query metadata you can filter on, see "[Metadata for CodeQL queries](https://codeql.github.com/docs/writing-codeql-queries/metadata-for-codeql-queries/)."	For more information about using `exclude` and `include` filters in your custom configuration file, see "[Creating {% data variables.product.prodname_codeql %} query suites](/code-security/code-scanning/using-the-codeql-cli/creating-codeql-query-suites#filtering-the-queries-in-a-query-suite)." For information on the query metadata you can filter on, see "[Metadata for CodeQL queries](https://codeql.github.com/docs/writing-codeql-queries/metadata-for-codeql-queries/)."


{% endif %}	{% endif %}


  2  
...your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow.md
@@ -316,7 +316,7 @@ You will see this error if {% data variables.product.prodname_codeql %} is unabl
- There is a typo in the workflow.	- There is a typo in the workflow.
- A resource the workflow refers to by path was renamed, deleted, or moved to a new location.	- A resource the workflow refers to by path was renamed, deleted, or moved to a new location.


After verifying the location of the resource, you can update the workflow to specify the correct location.	After verifying the location of the resource, you can update the workflow to specify the correct location. {% ifversion ghes < 3.6 or ghae < 3.6 %}If you run additional queries in Go analysis, you may have been affected by the relocation of the source files. For more information, see [Relocation announcement: `github/codeql-go` moving into `github/codeql`](https://github.com/github/codeql-go/issues/741) in the github/codeql-go repository.{% endif %}


## Warning: "git checkout HEAD^2 is no longer necessary"	## Warning: "git checkout HEAD^2 is no longer necessary"


 349  
content/code-security/code-scanning/codeql-cli-reference/about-codeql-packs.md
Large diffs are not rendered by default.

 116  
...ent/code-security/code-scanning/codeql-cli-reference/about-codeql-workspaces.md
@@ -0,0 +1,116 @@
---
title: About CodeQL workspaces
intro: '{% data variables.product.prodname_codeql %} workspaces allow you to develop and maintain a group of {% data variables.product.prodname_codeql %} packs that depend on each other.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  feature: codeql-packs
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About {% data variables.product.prodname_codeql %} workspaces

{% ifversion ghes %}
{% note %}

**Note:** If you have manually updated your {% data variables.product.prodname_codeql_cli %} version to a newer version than what is covered in this article, please see “[About {% data variables.product.prodname_codeql %} workspaces](/enterprise-cloud@latest/code-security/code-scanning/codeql-cli-reference/about-codeql-workspaces)”, the Enterprise Cloud version, for the most up-to-date documentation.

{% endnote %}
{% endif %}

You use a {% data variables.product.prodname_codeql %} workspace when you want to group multiple {% data variables.product.prodname_codeql %} packs together. A typical use case for a {% data variables.product.prodname_codeql %} workspace is to develop a set of {% data variables.product.prodname_codeql %} library and query packs that are mutually dependent. For more information on {% data variables.product.prodname_codeql %} packs, see “[About {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/codeql-cli-reference/about-codeql-packs).”

The main benefit of a {% data variables.product.prodname_codeql %} workspace is that it makes it easier for you to develop and maintain multiple {% data variables.product.prodname_codeql %} packs. When you use a {% data variables.product.prodname_codeql %} workspace, all the {% data variables.product.prodname_codeql %} packs in the workspace are available as *source dependencies* for each other when you run a {% data variables.product.prodname_codeql %} command that resolves queries. This makes it easier to develop, maintain, and publish multiple, related {% data variables.product.prodname_codeql %} packs.

In most cases, you should store the {% data variables.product.prodname_codeql %} workspace and the {% data variables.product.prodname_codeql %} packs contained in it in one git repository. This makes it easier to share your {% data variables.product.prodname_codeql %} development environment.

## The `codeql-workspace.yml` file

A {% data variables.product.prodname_codeql %} workspace is defined by a `codeql-workspace.yml` yaml file. This file contains a `provide` block, and optionally `ignore` and `registries` blocks.

* The `provide` block contains a list of glob patterns that define the {% data variables.product.prodname_codeql %} packs that are available in the workspace.

* The `ignore` block contains a list of glob patterns that define {% data variables.product.prodname_codeql %} packs that are not available in the workspace.

* The `registries` block contains a list of GHES URLs and package patterns that control which container registry is used for publishing {% data variables.product.prodname_codeql %} packs. For more information, see “[Publishing and using {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/using-the-codeql-cli/publishing-and-using-codeql-packs#working-with-codeql-packs-on-ghes)."

Each entry in the `provide` or `ignore` section must map to the location of a `qlpack.yml` file. All glob patterns are defined relative to the directory that contains the workspace file. For a list of patterns accepted in this file, see “[@actions/glob](https://github.com/actions/toolkit/tree/main/packages/glob#patterns) .”

For example, the following `codeql-workspace.yml` file defines a workspace that contains all the {% data variables.product.prodname_codeql %} packs recursively found in the `codeql-packs` directory, except for the packs in the `experimental` directory. The `registries` block specifies that `codeql/\*` packs should be downloaded from [https://ghcr.io/v2/](https://ghcr.io/v2/), which is {% data variables.product.prodname_dotcom %}’s default container registry. All other packs should be downloaded from and published to the regsitry at `GHE_HOSTNAME`.

```yaml
provide:
  - "*/codeql-packs/**/qlpack.yml"
ignore:
  - "*/codeql-packs/**/experimental/**/qlpack.yml"
registries:
 - packages: 'codeql/*'
   url: https://ghcr.io/v2/
 - packages: '*'
   url: https://containers.GHE_HOSTNAME/v2/
```

To verify that your `codeql-workspace.yml` file includes the {% data variables.product.prodname_codeql %} packs that you expect, run the `codeql pack ls` command in the same directory as your workspace. The result of the command is a list of all {% data variables.product.prodname_codeql %} packs in the workspace.

## Source dependencies

Source dependencies are {% data variables.product.prodname_codeql %} packs that are resolved from the local file system outside of the {% data variables.product.prodname_codeql %} package cache. These dependencies can be in the same {% data variables.product.prodname_codeql %} workspace, or specified as a path option using the `--additional-packs` argument. When you compile and run queries locally, source dependencies override any dependencies found in the {% data variables.product.prodname_codeql %} package cache as well as version constraints defined in the `qlpack.yml`. All references to {% data variables.product.prodname_codeql %} packs in the same workspace are resolved as source dependencies.

This is particularly useful in the following situations:

* One of the dependencies of the query pack you are running is not yet published. Resolving from source is the only way to reference that pack.

* You are making changes to multiple packs at the same time and want to test them together. Resolving from source ensures that you are using the version of the pack with your changes in it.

## {% data variables.product.prodname_codeql %} workspaces and query resolution

All {% data variables.product.prodname_codeql %} packs in a workspace are available as source dependencies for each other when you run any {% data variables.product.prodname_codeql %} command that resolves queries or packs. For example, when you run `codeql pack install` in a pack directory in a workspace, any dependency that can be found in the workspace will be used instead of downloading that dependency to the package cache and adding it to the `codeql-pack.lock.yml` file. For more information, see “[Creating and working with {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/using-the-codeql-cli/creating-and-working-with-codeql-packs#adding-and-installing-dependencies).”

Similarly, when you publish a {% data variables.product.prodname_codeql %} query pack to the {% data variables.product.prodname_dotcom %} container registry using  `codeql pack publish` the command will always use the dependencies from the workspace instead of using dependencies found in the local package cache.

This ensures that any local changes you make to a query library in a dependency are automatically reflected in any query packs you publish from that workspace.

### Example

Consider the following `codeql-workspace.yml` file:

```yaml
provide:
  - "**/qlpack.yml"
```

And the following {% data variables.product.prodname_codeql %} library pack `qlpack.yml` file in the workspace:

```yaml
name: my-company/my-library
library: true
version: 1.0.0
```

And the following {% data variables.product.prodname_codeql %} query pack `qlpack.yml` file in the workspace:

```yaml
name: my-company/my-queries
version: 1.0.0
dependencies:
  my-company/my-library: "*"
  codeql/cpp-all: ~0.2.0
```

Notice that the `dependencies` block for the {% data variables.product.prodname_codeql %} query pack, `my-company/my-queries`, specifies  `"*"` as the version of the library pack. Since the library pack is already defined as a source dependency in `codeql-workspace.yml`, the library pack’s content is always resolved from inside the workspace. Any version constraint you define will be ignored in this case. We recommend that you use `"*"` for source dependencies to make it clear that the version is inherited from the workspace.

When you execute `codeql pack install` from the query pack directory, an appropriate version of `codeql/cpp-all` is downloaded to the local package cache. Also, a `codeql-pack.lock.yml` file is created that contains the resolved version of `codeql/cpp-all`. The lock file won’t contain an entry for `my-company/my-library` since it is resolved from source dependencies. The `codeql-pack.lock.yml` file will look something like this:

```yaml
dependencies:
  codeql/cpp-all:
    version: 0.2.2
```

When you execute `codeql pack publish` from the query pack directory, the `codeql/cpp-all` dependency from the package cache and the `my-company/my-library` from the workspace are bundled with `my-company/my-queries` and published to the {% data variables.product.prodname_dotcom %} container registry.
 78  
content/code-security/code-scanning/codeql-cli-reference/exit-codes.md
@@ -0,0 +1,78 @@
---
title: Exit codes
intro: 'Exit codes signify the status of a command after the {% data variables.product.prodname_codeql_cli %} runs it.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About exit codes

The {% data variables.product.prodname_codeql_cli %} reports the status of each command it runs as an exit code.
This exit code provides information for subsequent commands or for other tools that rely on the {% data variables.product.prodname_codeql_cli %}.

## 0

Success, normal termination.

## 1

The command successfully determined that the answer to your question is “no”.

This exit code is only used by a few commands, such as [codeql test run](https://codeql.github.com/docs/codeql-cli/manual/test-run/), [codeql database check](https://codeql.github.com/docs/codeql-cli/manual/dataset-check/), [codeql query format](https://codeql.github.com/docs/codeql-cli/manual/query-format/),and [codeql resolve extractor](https://codeql.github.com/docs/codeql-cli/manual/resolve-extractor/).
For more details, see the documentation for those commands.

## 2

Something went wrong.

The CLI writes a human-readable error message to stderr.
This includes cases where an extractor fails with an internal error, because the `codeql` driver can’t distinguish between internal and user-facing errors in extractor behavior.

## 3

The launcher was unable to find the {% data variables.product.prodname_codeql %} installation directory.

In this case, the launcher can’t start the Java code for the {% data variables.product.prodname_codeql_cli %} at all. This should only happen when something is severely wrong with the {% data variables.product.prodname_codeql %} installation.

## 32

The extractor didn’t find any code to analyze when running [codeql database create](https://codeql.github.com/docs/codeql-cli/manual/database-create/) or [codeql database finalize](https://codeql.github.com/docs/codeql-cli/manual/database-finalize/).

## 33

One or more query evaluations timed out.

It’s possible that some queries that were evaluated in parallel didn’t time out. The results for those queries are produced as usual.

## 98

Evaluation was explicitly canceled.

## 99

The {% data variables.product.prodname_codeql_cli %} ran out of memory.

This doesn’t necessarily mean that all the machine’s physical RAM has been used.
If you don’t use the `--ram` option to set a limit explicitly, the JVM decides on a default limit at startup.

## 100

A fatal internal error occurred.

This should be considered a bug. The CLI usually writes an abbreviated error description to stderr.
If you can reproduce the bug, it’s helpful to use `--logdir` and send the log files to {% data variables.product.prodname_dotcom %} in a bug report.

## Other

In the case of really severe problems within the JVM that runs `codeql`, it might return a nonzero exit code of its own choosing.
This should only happen if something is severely wrong with the {% data variables.product.prodname_codeql %} installation, or if there is a memory issue with the host system running the {% data variables.product.prodname_codeql %} process. For example, Unix systems may return Exit Code 137 to indicate that the kernel has killed a process that {% data variables.product.prodname_codeql %} has started. One way to troubleshoot this is to modify your `–ram=` flag for the `codeql database analyze` step and re-run your workflow.
 20  
content/code-security/code-scanning/codeql-cli-reference/index.md
@@ -0,0 +1,20 @@
---
title: CodeQL CLI reference
intro: 'You can learn how to use {% data variables.product.prodname_codeql %} workspaces and {% data variables.product.prodname_codeql %} packs and how to understand the output of {% data variables.product.prodname_codeql %} commands.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
children:
  - /about-codeql-packs
  - /about-codeql-workspaces
  - /query-reference-files
  - /sarif-output
  - /exit-codes
---

 63  
content/code-security/code-scanning/codeql-cli-reference/query-reference-files.md
@@ -0,0 +1,63 @@
---
title: Query reference files
intro: 'You can use query reference files to define the location of a query you want to run in tests.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About query reference files

A query reference file is text file that defines the location of one query to test.

You use a query reference file when you want to tell the `test run` subcommand
to run a query that’s not part of a test directory.
There are two ways to specify queries that you want to run as tests:

1. Use a query reference file to specify the location of a query to test.
This is useful when you create tests for alert and path queries that
are intended to identify problems in real codebases. You might create
several directories of test code, each focusing on different
aspects of the query. Then you would add a query reference file to
each directory of test code, to specify the query to test.
2. Add the query directly to a directory of tests.
These is typically useful when you’re writing queries explicitly to test the behavior
of QL libraries. Often these queries contain just a few calls to library predicates,
wrapping them in a `select` statement so their output can be tested.

## Defining a query reference file

Each query reference file, `.qlref`, contains a single line that defines
where to find one query. The location must be defined relative
to the root of the {% data variables.product.prodname_codeql %} pack that contains the query.
Usually, this is either the {% data variables.product.prodname_codeql %} pack that contains the `.qlref`, a {% data variables.product.prodname_codeql %} pack specified in the `dependencies` block for the test pack, or a transitive dependency of the {% data variables.product.prodname_codeql %} pack.

You should use forward slashes in the path on all operating
systems to ensure compatibility between systems.

### Example

A query reference file to test a JavaScript alert query:
[DeadAngularJSEventListener.qlref](https://github.com/github/codeql/blob/main/javascript/ql/test/query-tests/AngularJS/DeadAngularJSEventListener/DeadAngularJSEventListener.qlref)

The `qlpack.yml` file, https://github.com/github/codeql/blob/main/javascript/ql/test/qlpack.yml,
for the CodeQL pack at `javascript/ql/test` defines `codeql/javascript-queries` as
a dependency. So the query reference file defines the location of the query relative
to the `codeql/javascript-queries` {% data variables.product.prodname_codeql %} pack:

```
AngularJS/DeadAngularJSEventListener.ql
```

{% ifversion codeql-packs %}
For another example, see [Testing custom queries](/code-security/code-scanning/using-the-codeql-cli/testing-custom-queries).
{% endif %}
 188  
content/code-security/code-scanning/codeql-cli-reference/sarif-output.md
@@ -0,0 +1,188 @@
---
title: CodeQL CLI SARIF output
intro: 'You can output SARIF from the {% data variables.product.prodname_codeql_cli %} and share static analysis results with other systems.'
product: '{% data reusables.gated-features.codeql %}'
allowTitleToDifferFromFilename: true
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About SARIF output

SARIF is designed to represent the output of a broad range of static analysis tools, and there are many features in the SARIF specification that are
considered “optional”. This document details the output produced when using the format type `sarifv2.1.0`, which corresponds to the SARIF v2.1.0.csd1 specification. For more information on selecting a file format for your analysis results, see the [database analyze](https://codeql.github.com/docs/codeql-cli/manual/database-analyze/) command in the {% data variables.product.prodname_codeql %} documentation.

## SARIF specification and schema

This article is intended to be read alongside the detailed SARIF specification. For more information on the specification and the SARIF schema, see the [SARIF specification documentation](https://github.com/oasis-tcs/sarif-spec/blob/main/Schemata/sarif-schema-2.1.0.json).

## Change notes

### Changes between versions

| CodeQL version | Format type | Changes |
|----------------|-------------|---------|
| 2.0.0 | `sarifv2.1.0` | First version of this format. |

### Future changes to the output

The output produced for a given specific format type (for example, `sarifv2.1.0`) may change in future {% data variables.product.prodname_codeql %} releases. We will endeavor to maintain backwards compatibility with consumers of the generated SARIF by ensuring that:

* No field which is marked as “Always” being generated will be removed.

* The circumstances under which “Optional” fields are generated may change. Consumers of the {% data variables.product.prodname_codeql %} SARIF output should be robust to the presence or absence of these fields.

New output fields may be added in future releases under the same format type–these are not considered to break backwards compatibility, and consumers should be robust to the presence of newly added fields.

New format argument types may be added in future versions of {% data variables.product.prodname_codeql %}—for example, to support new versions of SARIF. These have no guarantee of backwards compatibility, unless explicitly documented.

## Generated SARIF objects

This details each SARIF component that may be generated, along with any specific circumstances. We omit any properties that are never generated.

### `sarifLog` object

| JSON property name| When is this generated?| Notes|
|-------------------|------------------------|---------|
| `$schema`| Always| Provides a link to the [SARIF schema](https://github.com/oasis-tcs/sarif-spec/blob/main/Schemata/sarif-schema-2.1.0.json).|
| `version`| Always| The version of the SARIF used to generate the output.|
| `runs`| Always| An array containing a single run object, for one language.|
### `run` object

| JSON property name| When is this generated?| Notes|
|-------------------|------------------------|---------|
| `tool`| Always| –|
| `originalUriBaseIds`| Always| A dictionary of `uriBaseIds` to artifactLocations representing the original locations on the analysis machine. At a minimum, this will contain the `%SRCROOT%` `uriBaseId`, which represents the root location on the analysis machine of the source code for the analyzed project. Each `artifactLocation` will contain the `uri` and `description` properties.|
| `artifacts`| Always| An array containing at least one artifact object for every file referenced in a result.|
| `results`| Always| –|
| `newLineSequences`| Always| –|
| `columnKind`| Always| –|
| `properties`| Always| The properties dictionary will contain the `semmle.formatSpecifier`, which identifies the format specifier passed to the {% data variables.product.prodname_codeql_cli %}.|

### `tool` object

| JSON property name| When is this generated?| Notes|
|-------------------|------------------------|---------|
| `driver`| Always| –|

### `toolComponent` object

| JSON property name| When is this generated?| Notes|
|-----------------------|---------------------|-----|
| `name`| Always| Set to “{% data variables.product.prodname_codeql %} command-line toolchain” for output from the {% data variables.product.prodname_codeql_cli %} tools. Note, if the output was generated using a different tool a different `name` is reported, and the format may not be as described here.|
| `organization`| Always| Set to “GitHub”.|
| `version`| Always| Set to the {% data variables.product.prodname_codeql %} release version e.g. “2.0.0”.|
| `rules`| Always| An array of `reportingDescriptor` objects that represent rules. This array will contain, at a minimum, all the rules that were run during this analysis, but may contain rules which were available but not run. For more detail about enabling queries, see `defaultConfiguration`.|

### `reportingDescriptor` object (for rule)

`reportingDescriptor` objects may be used in multiple places in the SARIF specification. When a `reportingDescriptor` is included in the rules array of a `toolComponent` object it has the following properties.

| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `id`| Always| Will contain the `@id` property specified in the query that defines the rule, which is usually of the format `language/rule-name` (for example `cpp/unsafe-format-string`). If your organization defines the `@opaqueid` property in the query it will be used instead.|
| `name`| Always| Will contain the `@id` property specified in the query. See the `id` property above for an example.|
| `shortDescription`| Always| Will contain the `@name` property specified in the query that defines the rule.|
| `fullDescription`| Always| Will contain the `@description` property specified in the query that defines the rule.|
| `defaultConfiguration`| Always| A `reportingConfiguration` object, with the enabled property set to true or false, and a level property set according to the `@severity` property specified in the query that defines the rule. Omitted if the `@severity` property was not specified.|

### `artifact` object

| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `location`| Always| An `artifactLocation` object.|
| `index`| Always| The index of the `artifact` object.|
| `contents`| Optionally| If results are generated using the `--sarif-add-file-contents` flag, and the source code is available at the time the SARIF file is generated, then the `contents` property is populated with an `artifactContent` object, with the `text` property set.|

### `artifactLocation` object

| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `uri`| Always| –|
| `index`| Always| –|
| `uriBaseId`| Optionally| If the file is relative to some known abstract location, such as the root source location on the analysis machine, this will be set.|

### `result` object

The composition of the results is dependent on the options provided to CodeQL. By default, the results are grouped by unique message format string and primary location. Thus, two results that occur at the same location with the same underlying message, will appear as a single result in the output. This behavior can be disabled by using the flag `--ungroup-results`, in which case no results are grouped.

| JSON property name    | When is this generated?| Notes|
|-----------------------|--------------------|------|
| `ruleId`| Always| See the description of the `id` property in `reportingDescriptor` object (for rule) .|
| `ruleIndex`| Always| –|
| `message`| Always| A message describing the problem(s) occurring at this location. This message may be a SARIF “Message with placeholder”, containing links that refer to locations in the `relatedLocations` property.|
| `locations`| Always| An array containing a single `location` object.|
| `partialFingerprints`| Always| A dictionary from named fingerprint types to the fingerprint. This will contain, at a minimum, a value for the `primaryLocationLineHash`, which provides a fingerprint based on the context of the primary location.|
| `codeFlows`| Optionally| This array may be populated with one or more `codeFlow` objects if the query that defines the rule for this result is of `@kind path-problem`.|
| `relatedLocations`| Optionally| This array will be populated if the query that defines the rule for this result has a message with placeholder options. Each unique location is included once.|
| `suppressions`| Optionally| If the result is suppressed, then this will contain a single `suppression` object, with the `@kind` property set to `IN_SOURCE`. If this result is not suppressed, but there is at least one result that has a suppression, then this will be set to an empty array, otherwise it will not be set.|

### `location` object

| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `physicalLocation`| Always| –|
| `id`| Optionally| `location` objects that appear in the `relatedLocations` array of a `result` object may contain the `id` property.|
| `message`| Optionally| `location` objects may contain the `message` property if:</br></br>- They appear in the `relatedLocations` array of a `result` object may contain the `message` property.</br></br>- They appear in the `threadFlowLocation.location` property.|

### `physicalLocation` object

| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `artifactLocation`| Always| –|
| `region`| Optionally| If the given `physicalLocation` exists in a text file, such as a source code file, then the `region` property may be present.|
| `contextRegion`| Optionally| May be present if this location has an associated `snippet`.|

### `region` object

There are two types of `region` object produced by {% data variables.product.prodname_codeql %}:

* Line/column offset regions

* Character offset and length regions

Any region produced by {% data variables.product.prodname_codeql %} may be specified in either format, and consumers should robustly handle either type.

For line/column offset regions, the following properties will be set:

| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `startLine`| Always| –|
| `startColumn`| Optionally| Not included if equal to the default value of 1.|
| `endLine`| Optionally| Not included if identical to `startLine`.|
| `endColumn`| Always| –|
| `snippet`| Optionally| –|

For character offset and length regions, the following properties will be set:

| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `charOffset`| Optionally| Provided if `startLine`, `startColumn`, `endLine`, and `endColumn` are not populated.|
| `charLength`| Optionally| Provided if `startLine`, `startColumn`, `endLine`, and `endColumn` are not populated.|
| `snippet`| Optionally| –|

### `codeFlow` object
| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `threadFlows`| Always| –|

### `threadFlow` object

| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `locations`| Always| –|

### `threadFlowLocation` object

| JSON property name| When is this generated?| Notes|
|-----------------------|--------------------|------|
| `location`| Always| –|
  2  
content/code-security/code-scanning/index.md
@@ -19,6 +19,8 @@ topics:
children:	children:
  - /automatically-scanning-your-code-for-vulnerabilities-and-errors	  - /automatically-scanning-your-code-for-vulnerabilities-and-errors
  - /integrating-with-code-scanning	  - /integrating-with-code-scanning
  - /using-the-codeql-cli
  - /codeql-cli-reference
  - /using-codeql-code-scanning-with-your-existing-ci-system	  - /using-codeql-code-scanning-with-your-existing-ci-system
---	---


  26  
...anning-with-your-existing-ci-system/configuring-codeql-cli-in-your-ci-system.md
@@ -52,7 +52,7 @@ You can display the command-line help for any command using the <nobr>`--help`</
1. Check out the code that you want to analyze:	1. Check out the code that you want to analyze:
    - For a branch, check out the head of the branch that you want to analyze.	    - For a branch, check out the head of the branch that you want to analyze.
    - For a pull request, check out either the head commit of the pull request, or check out a {% data variables.product.prodname_dotcom %}-generated merge commit of the pull request.	    - For a pull request, check out either the head commit of the pull request, or check out a {% data variables.product.prodname_dotcom %}-generated merge commit of the pull request.
2. Set up the environment for the codebase, making sure that any dependencies are available. For more information, see [Creating databases for non-compiled languages](https://codeql.github.com/docs/codeql-cli/creating-codeql-databases/#creating-databases-for-non-compiled-languages) and [Creating databases for compiled languages](https://codeql.github.com/docs/codeql-cli/creating-codeql-databases/#creating-databases-for-compiled-languages) in the documentation for the {% data variables.product.prodname_codeql_cli %}.	2. Set up the environment for the codebase, making sure that any dependencies are available. For more information, see "[Creating databases for non-compiled languages](/code-security/code-scanning/using-the-codeql-cli/creating-codeql-databases#creating-databases-for-non-compiled-languages)" and "[Creating databases for compiled languages](/code-security/code-scanning/using-the-codeql-cli/creating-codeql-databases#creating-databases-for-compiled-languages)."
3. Find the build command, if any, for the codebase. Typically this is available in a configuration file in the CI system.	3. Find the build command, if any, for the codebase. Typically this is available in a configuration file in the CI system.
4. Run `codeql database create` from the checkout root of your repository and build the codebase.	4. Run `codeql database create` from the checkout root of your repository and build the codebase.


@@ -81,7 +81,7 @@ You can display the command-line help for any command using the <nobr>`--help`</
| <nobr>`--source-root`</nobr> | | Optional. Use if you run the CLI outside the checkout root of the repository. By default, the `database create` command assumes that the current directory is the root directory for the source files, use this option to specify a different location. |	| <nobr>`--source-root`</nobr> | | Optional. Use if you run the CLI outside the checkout root of the repository. By default, the `database create` command assumes that the current directory is the root directory for the source files, use this option to specify a different location. |
| <nobr>`--codescanning-config`</nobr> | | Optional (Advanced). Use if you have a configuration file that specifies how to create the {% data variables.product.prodname_codeql %} databases and what queries to run in later steps. For more information, see "[Customizing {% data variables.product.prodname_code_scanning %}](/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/customizing-code-scanning#using-a-custom-configuration-file)" and "[database create](https://codeql.github.com/docs/codeql-cli/manual/database-create/#cmdoption-codeql-database-create-codescanning-config)." |	| <nobr>`--codescanning-config`</nobr> | | Optional (Advanced). Use if you have a configuration file that specifies how to create the {% data variables.product.prodname_codeql %} databases and what queries to run in later steps. For more information, see "[Customizing {% data variables.product.prodname_code_scanning %}](/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/customizing-code-scanning#using-a-custom-configuration-file)" and "[database create](https://codeql.github.com/docs/codeql-cli/manual/database-create/#cmdoption-codeql-database-create-codescanning-config)." |


For more information, see [Creating {% data variables.product.prodname_codeql %} databases](https://codeql.github.com/docs/codeql-cli/creating-codeql-databases/) in the documentation for the {% data variables.product.prodname_codeql_cli %}.	For more information, see "[Creating {% data variables.product.prodname_codeql %} databases](/code-security/code-scanning/using-the-codeql-cli/creating-codeql-databases/)."


### Single language example	### Single language example


@@ -155,17 +155,17 @@ codeql database analyze &lt;database&gt; --format=&lt;format&gt; \
| Option | Required | Usage |	| Option | Required | Usage |
|--------|:--------:|-----|	|--------|:--------:|-----|
| `<database>` | {% octicon "check-circle-fill" aria-label="Required" %} | Specify the path for the directory that contains the {% data variables.product.prodname_codeql %} database to analyze. |	| `<database>` | {% octicon "check-circle-fill" aria-label="Required" %} | Specify the path for the directory that contains the {% data variables.product.prodname_codeql %} database to analyze. |
| `<packs,queries>` | | Specify {% data variables.product.prodname_codeql %} packs or queries to run. To run the standard queries used for {% data variables.product.prodname_code_scanning %}, omit this parameter. To see the other query suites included in the {% data variables.product.prodname_codeql_cli %} bundle, look in `/<extraction-root>/qlpacks/codeql/<language>-queries/codeql-suites`. For information about creating your own query suite, see [Creating CodeQL query suites](https://codeql.github.com/docs/codeql-cli/creating-codeql-query-suites/) in the documentation for the {% data variables.product.prodname_codeql_cli %}.	| `<packs,queries>` | | Specify {% data variables.product.prodname_codeql %} packs or queries to run. To run the standard queries used for {% data variables.product.prodname_code_scanning %}, omit this parameter. To see the other query suites included in the {% data variables.product.prodname_codeql_cli %} bundle, look in `/<extraction-root>/qlpacks/codeql/<language>-queries/codeql-suites`. For information about creating your own query suite, see [Creating CodeQL query suites](/code-security/code-scanning/using-the-codeql-cli/creating-codeql-query-suites/) in the documentation for the {% data variables.product.prodname_codeql_cli %}.
| <nobr>`--format`</nobr> | {% octicon "check-circle-fill" aria-label="Required" %} | Specify the format for the results file generated by the command. For upload to {% data variables.product.company_short %} this should be: {% ifversion fpt or ghae or ghec %}`sarif-latest`{% else %}`sarifv2.1.0`{% endif %}. For more information, see "[SARIF support for {% data variables.product.prodname_code_scanning %}](/code-security/secure-coding/sarif-support-for-code-scanning)."	| <nobr>`--format`</nobr> | {% octicon "check-circle-fill" aria-label="Required" %} | Specify the format for the results file generated by the command. For upload to {% data variables.product.company_short %} this should be: {% ifversion fpt or ghae or ghec %}`sarif-latest`{% else %}`sarifv2.1.0`{% endif %}. For more information, see "[SARIF support for {% data variables.product.prodname_code_scanning %}](/code-security/secure-coding/sarif-support-for-code-scanning)."
| <nobr>`--output`</nobr> | {% octicon "check-circle-fill" aria-label="Required" %} | Specify where to save the SARIF results file.	| <nobr>`--output`</nobr> | {% octicon "check-circle-fill" aria-label="Required" %} | Specify where to save the SARIF results file.
| <nobr>`--sarif-category`<nobr> | {% octicon "question" aria-label="Required with multiple results sets" %} | Optional for single database analysis. Required to define the language when you analyze multiple databases for a single commit in a repository. Specify a category to include in the SARIF results file for this analysis. A category is used to distinguish multiple analyses for the same tool and commit, but performed on different languages or different parts of the code.|{% ifversion fpt or ghes > 3.3 or ghae or ghec %}	| <nobr>`--sarif-category`<nobr> | {% octicon "question" aria-label="Required with multiple results sets" %} | Optional for single database analysis. Required to define the language when you analyze multiple databases for a single commit in a repository. Specify a category to include in the SARIF results file for this analysis. A category is used to distinguish multiple analyses for the same tool and commit, but performed on different languages or different parts of the code.|{% ifversion fpt or ghes > 3.3 or ghae or ghec %}
| <nobr>`--sarif-add-query-help`</nobr> | | Optional. Use if you want to include any available markdown-rendered query help for custom queries used in your analysis. Any query help for custom queries included in the SARIF output will be displayed in the code scanning UI if the relevant query generates an alert. For more information, see [Analyzing databases with the {% data variables.product.prodname_codeql_cli %}](https://codeql.github.com/docs/codeql-cli/analyzing-databases-with-the-codeql-cli/#including-query-help-for-custom-codeql-queries-in-sarif-files) in the documentation for the {% data variables.product.prodname_codeql_cli %}.{% endif %}{% ifversion codeql-packs %}	| <nobr>`--sarif-add-query-help`</nobr> | | Optional. Use if you want to include any available markdown-rendered query help for custom queries used in your analysis. Any query help for custom queries included in the SARIF output will be displayed in the code scanning UI if the relevant query generates an alert. For more information, see "[Analyzing databases with the {% data variables.product.prodname_codeql_cli %}](/code-security/code-scanning/using-the-codeql-cli/analyzing-databases-with-the-codeql-cli/#including-query-help-for-custom-codeql-queries-in-sarif-files)."{% endif %}{% ifversion codeql-packs %}
| `<packs>` | | Optional. Use if you want to include CodeQL query packs in your analysis. For more information, see "[Downloading and using {% data variables.product.prodname_codeql %} packs](#downloading-and-using-codeql-query-packs)."	| `<packs>` | | Optional. Use if you want to include CodeQL query packs in your analysis. For more information, see "[Downloading and using {% data variables.product.prodname_codeql %} packs](#downloading-and-using-codeql-query-packs)."
| <nobr>`--download`</nobr> | | Optional. Use if some of your CodeQL query packs are not yet on disk and need to be downloaded before running queries.{% endif %}	| <nobr>`--download`</nobr> | | Optional. Use if some of your CodeQL query packs are not yet on disk and need to be downloaded before running queries.{% endif %}
| <nobr>`--threads`</nobr> | | Optional. Use if you want to use more than one thread to run queries. The default value is `1`. You can specify more threads to speed up query execution. To set the number of threads to the number of logical processors, specify `0`.	| <nobr>`--threads`</nobr> | | Optional. Use if you want to use more than one thread to run queries. The default value is `1`. You can specify more threads to speed up query execution. To set the number of threads to the number of logical processors, specify `0`.
| <nobr>`--verbose`</nobr> | | Optional. Use to get more detailed information about the analysis process and diagnostic data from the database creation process.	| <nobr>`--verbose`</nobr> | | Optional. Use to get more detailed information about the analysis process and diagnostic data from the database creation process.


For more information, see [Analyzing databases with the {% data variables.product.prodname_codeql_cli %}](https://codeql.github.com/docs/codeql-cli/analyzing-databases-with-the-codeql-cli/) in the documentation for the {% data variables.product.prodname_codeql_cli %}.	For more information, see [Analyzing databases with the {% data variables.product.prodname_codeql_cli %}](/code-security/code-scanning/using-the-codeql-cli/analyzing-databases-with-the-codeql-cli/)."


### Basic example	### Basic example


@@ -238,6 +238,16 @@ Before you can use a {% data variables.product.prodname_codeql %} pack to analyz
| <nobr>`<scope/name@version:path>`</nobr> | {% octicon "check-circle-fill" aria-label="Required" %} | Specify the scope and name of one or more CodeQL query packs to download using a comma-separated list. Optionally, include the version to download and unzip. By default the latest version of this pack is downloaded. Optionally, include a path to a query, directory, or query suite to run. If no path is included, then run the default queries of this pack. |	| <nobr>`<scope/name@version:path>`</nobr> | {% octicon "check-circle-fill" aria-label="Required" %} | Specify the scope and name of one or more CodeQL query packs to download using a comma-separated list. Optionally, include the version to download and unzip. By default the latest version of this pack is downloaded. Optionally, include a path to a query, directory, or query suite to run. If no path is included, then run the default queries of this pack. |
| <nobr>`--github-auth-stdin`</nobr> | | Optional. Pass the {% data variables.product.prodname_github_app %} or {% data variables.product.pat_generic %} created for authentication with {% data variables.product.company_short %}'s REST API to the CLI via standard input. This is not needed if the command has access to a `GITHUB_TOKEN` environment variable set with this token.	| <nobr>`--github-auth-stdin`</nobr> | | Optional. Pass the {% data variables.product.prodname_github_app %} or {% data variables.product.pat_generic %} created for authentication with {% data variables.product.company_short %}'s REST API to the CLI via standard input. This is not needed if the command has access to a `GITHUB_TOKEN` environment variable set with this token.


{% ifversion query-pack-compatibility %}
{% note %}

**Note:** If you specify a particular version of a query pack to use, be aware that the version you specify may eventually become too old for the latest version of {% data variables.product.prodname_codeql %} to make efficient use of. To ensure optimal performance, if you need to specify exact query pack versions, you should reevaluate which versions you pin to whenever you upgrade the {% data variables.product.prodname_codeql %} CLI you're using.

For more information about pack compatibility, see "[About {% data variables.product.prodname_codeql %} pack compatibility](/code-security/code-scanning/using-the-codeql-cli/publishing-and-using-codeql-packs#about-codeql-pack-compatibility)."

{% endnote %}
{% endif %}

### Basic example	### Basic example


This example runs the `codeql database analyze` command with the `--download` option to:	This example runs the `codeql database analyze` command with the `--download` option to:
@@ -342,6 +352,6 @@ If you use the {% data variables.product.prodname_codeql_cli %} to run {% data v


## Further reading	## Further reading


- [Creating CodeQL databases](https://codeql.github.com/docs/codeql-cli/creating-codeql-databases/)	- [Creating CodeQL databases](/code-security/code-scanning/using-the-codeql-cli/creating-codeql-databases/)
- [Analyzing databases with the CodeQL CLI](https://codeql.github.com/docs/codeql-cli/analyzing-databases-with-the-codeql-cli/)	- [Analyzing databases with the CodeQL CLI](/code-security/code-scanning/using-the-codeql-cli/analyzing-databases-with-the-codeql-cli/){% ifversion codeql-packs %}
- [Publishing and using CodeQL packs](https://codeql.github.com/docs/codeql-cli/publishing-and-using-codeql-packs/)	- [Publishing and using CodeQL packs](/code-security/code-scanning/using-the-codeql-cli/publishing-and-using-codeql-packs){% endif %}
  6  
...canning-with-your-existing-ci-system/running-codeql-runner-in-your-ci-system.md
@@ -48,13 +48,13 @@ The {% data variables.code-scanning.codeql_runner %} is a command-line tool that


**Note:**	**Note:**
{% ifversion fpt or ghec %}	{% ifversion fpt or ghec %}
* The {% data variables.code-scanning.codeql_runner %} uses the {% data variables.product.prodname_codeql %} CLI to analyze code and therefore has the same license conditions. It's free to use on public repositories that are maintained on {% data variables.product.prodname_dotcom_the_website %}, and available to use on private repositories that are owned by customers with an {% data variables.product.prodname_advanced_security %} license. For information, see "[{% data variables.product.product_name %} {% data variables.product.prodname_codeql %} Terms and Conditions](https://securitylab.github.com/tools/codeql/license)" and "[{% data variables.product.prodname_codeql %} CLI](https://codeql.github.com/docs/codeql-cli/)."	* The {% data variables.code-scanning.codeql_runner %} uses the {% data variables.product.prodname_codeql %} CLI to analyze code and therefore has the same license conditions. It's free to use on public repositories that are maintained on {% data variables.product.prodname_dotcom_the_website %}, and available to use on private repositories that are owned by customers with an {% data variables.product.prodname_advanced_security %} license. For information, see "[{% data variables.product.product_name %} {% data variables.product.prodname_codeql %} Terms and Conditions](https://securitylab.github.com/tools/codeql/license)" and "[{% data variables.product.prodname_codeql %} CLI](/code-security/code-scanning/using-the-codeql-cli/)."
{% else %}	{% else %}
* The {% data variables.code-scanning.codeql_runner %} is available to customers with an {% data variables.product.prodname_advanced_security %} license.	* The {% data variables.code-scanning.codeql_runner %} is available to customers with an {% data variables.product.prodname_advanced_security %} license.
{% endif %}	{% endif %}
{% ifversion ghae %}	{% ifversion ghae %}
* The {% data variables.code-scanning.codeql_runner %} shouldn't be confused with the {% data variables.product.prodname_codeql %} CLI. The {% data variables.product.prodname_codeql %} CLI is a command-line interface that lets you create {% data variables.product.prodname_codeql %} databases for security research and run {% data variables.product.prodname_codeql %} queries.	* The {% data variables.code-scanning.codeql_runner %} shouldn't be confused with the {% data variables.product.prodname_codeql %} CLI. The {% data variables.product.prodname_codeql %} CLI is a command-line interface that lets you create {% data variables.product.prodname_codeql %} databases for security research and run {% data variables.product.prodname_codeql %} queries.
For more information, see "[{% data variables.product.prodname_codeql_cli %}](https://codeql.github.com/docs/codeql-cli/)."	For more information, see "[{% data variables.product.prodname_codeql_cli %}](/code-security/code-scanning/using-the-codeql-cli/)."
{% endif %}	{% endif %}
{% endnote %}	{% endnote %}


@@ -89,7 +89,7 @@ chmod +x codeql-runner-linux
In addition to this, each CI server also needs:	In addition to this, each CI server also needs:


- A {% data variables.product.prodname_github_app %} or {% data variables.product.pat_generic %} for the {% data variables.code-scanning.codeql_runner %} to use. You must use an access token with the `repo` scope, or a {% data variables.product.prodname_github_app %} with the `security_events` write permission, and `metadata` and `contents` read permissions. For information, see "[Building {% data variables.product.prodname_github_apps %}](/developers/apps/building-github-apps)" and "[Creating a {% data variables.product.pat_generic %}](/github/authenticating-to-github/creating-a-personal-access-token)."	- A {% data variables.product.prodname_github_app %} or {% data variables.product.pat_generic %} for the {% data variables.code-scanning.codeql_runner %} to use. You must use an access token with the `repo` scope, or a {% data variables.product.prodname_github_app %} with the `security_events` write permission, and `metadata` and `contents` read permissions. For information, see "[Building {% data variables.product.prodname_github_apps %}](/developers/apps/building-github-apps)" and "[Creating a {% data variables.product.pat_generic %}](/github/authenticating-to-github/creating-a-personal-access-token)."
- Access to the {% data variables.product.prodname_codeql %} bundle associated with this release of the {% data variables.code-scanning.codeql_runner %}. This package contains queries and libraries needed for {% data variables.product.prodname_codeql %} analysis, plus the {% data variables.product.prodname_codeql %} CLI, which is used internally by the runner. For information, see "[{% data variables.product.prodname_codeql %} CLI](https://codeql.github.com/docs/codeql-cli/)."	- Access to the {% data variables.product.prodname_codeql %} bundle associated with this release of the {% data variables.code-scanning.codeql_runner %}. This package contains queries and libraries needed for {% data variables.product.prodname_codeql %} analysis, plus the {% data variables.product.prodname_codeql %} CLI, which is used internally by the runner. For information, see "[{% data variables.product.prodname_codeql %} CLI](/code-security/code-scanning/using-the-codeql-cli/)."


The options for providing access to the {% data variables.product.prodname_codeql %} bundle are:	The options for providing access to the {% data variables.product.prodname_codeql %} bundle are:


 64  
content/code-security/code-scanning/using-the-codeql-cli/about-the-codeql-cli.md
@@ -0,0 +1,64 @@
---
title: About the CodeQL CLI
shortTitle: About the CodeQL CLI
intro: 'You can use the {% data variables.product.prodname_codeql_cli %} to run CodeQL processes locally on software projects.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About the {% data variables.product.prodname_codeql_cli %}

Software developers and security researchers can secure their code
using the {% data variables.product.prodname_codeql_cli %}.

The {% data variables.product.prodname_codeql_cli %} is a command-line tool used to run {% data variables.product.prodname_codeql %} processes locally on
open source software projects. You can use the {% data variables.product.prodname_codeql_cli %} to:

- Run {% data variables.product.prodname_codeql %} analyses using queries provided by {% data variables.product.prodname_dotcom %} engineers and the open
source community
- Create {% data variables.product.prodname_codeql %} databases to use in the {% data variables.product.prodname_codeql %} for Visual Studio Code
- Develop and test custom {% data variables.product.prodname_codeql %} queries to use in your own analyses

For information about using the {% data variables.product.prodname_codeql_cli %}, see
“[Getting started with the {% data variables.product.prodname_codeql_cli %}](/code-security/code-scanning/using-the-codeql-cli/getting-started-with-the-codeql-cli).”

## About the {% data variables.product.prodname_dotcom %} {% data variables.product.prodname_codeql %} license

**License notice:** If you don’t have a {% data variables.product.prodname_enterprise %} license then, by installing this product, you are agreeing to the [{% data variables.product.prodname_dotcom %} {% data variables.product.prodname_codeql %} Terms and Conditions](https://securitylab.github.com/tools/codeql/license).

{% data variables.product.prodname_dotcom %} {% data variables.product.prodname_codeql %} is licensed on a per-user basis. Under the license restrictions, you can use {% data variables.product.prodname_codeql %} to perform the following tasks:

- To perform academic research.
- To demonstrate the software.
- To test {% data variables.product.prodname_codeql %} queries that are released under an OSI-approved License to confirm that new versions of those queries continue to find the right vulnerabilities.

Where “OSI-approved License” means an Open Source Initiative (OSI)-approved open source software license.

If you are working with an Open Source Codebase (that is, a codebase that is released under an OSI-approved License) you can also use {% data variables.product.prodname_codeql %} for the following tasks:

- To perform analysis of the Open Source Codebase.
- If the Open Source Codebase is hosted and maintained on {% data variables.product.prodname_dotcom_the_website %}, to generate CodeQL databases for or during automated analysis, continuous integration, or continuous delivery.

{% data variables.product.prodname_codeql %} can’t be used for automated analysis, continuous integration or continuous delivery, whether as part of normal software engineering processes or otherwise, except in the express cases set forth herein. For these uses, contact the [sales team](https://enterprise.github.com/contact).

## {% data variables.product.prodname_codeql_cli %} commands

The {% data variables.product.prodname_codeql_cli %} includes commands to create and analyze {% data variables.product.prodname_codeql %} databases from the
command line. To run a command, use:

```
codeql [command] [subcommand]
```

To view the reference documentation for a command, add the `--help` flag, or visit the
"[{% data variables.product.prodname_codeql_cli %} manual](https://codeql.github.com/docs/codeql-cli/manual/)."
 422  
...y/code-scanning/using-the-codeql-cli/analyzing-databases-with-the-codeql-cli.md
Large diffs are not rendered by default.

 116  
...ty/code-scanning/using-the-codeql-cli/creating-and-working-with-codeql-packs.md
@@ -0,0 +1,116 @@
---
title: Creating and working with CodeQL packs
intro: 'You can use {% data variables.product.prodname_codeql %} packs to create, share, depend on, and run {% data variables.product.prodname_codeql %} queries and libraries.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  feature: codeql-packs
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

{% data reusables.codeql-cli.beta-note-package-management %}

## About {% data variables.product.prodname_codeql %} packs and the {% data variables.product.prodname_codeql_cli %}

{% ifversion ghes %}
{% note %}

**Note:** If you have manually updated your {% data variables.product.prodname_codeql_cli %} version to a newer version than what is covered in this article, please see “[Creating and working with {% data variables.product.prodname_codeql %} packs](/enterprise-cloud@latest/code-security/code-scanning/using-the-codeql-cli/creating-and-working-with-codeql-packs)”, the Enterprise Cloud version, for the most up-to-date documentation.

{% endnote %}
{% endif %}

With {% data variables.product.prodname_codeql %} packs and the package management commands in the {% data variables.product.prodname_codeql_cli %}, you can publish your custom queries and integrate them into your codebase analysis.

There are two types of {% data variables.product.prodname_codeql %} packs: query packs and library packs.

  - Query packs are designed to be run. When a query pack is published, the bundle includes all the transitive dependencies and {% ifversion query-pack-compatibility %}pre-compiled representations of each query, in addition to the query sources{% else %}a compilation cache{% endif %}. This ensures consistent and efficient execution of the queries in the pack.

  - Library packs are designed to be used by query packs (or other library packs) and do not contain queries themselves. The libraries are not compiled {% ifversion query-pack-compatibility %}separately{% else %}and there is no compilation cache included when the pack is published{% endif %}.

You can use the `pack` command in the {% data variables.product.prodname_codeql_cli %} to create {% data variables.product.prodname_codeql %} packs, add dependencies to packs, and install or update dependencies. You can also publish and download {% data variables.product.prodname_codeql %} packs using the `pack` command. For more information, see “[Publishing and using {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/using-the-codeql-cli/publishing-and-using-codeql-packs).”

{% ifversion query-pack-compatibility %}
For more information about compatibility between published query packs and different {% data variables.product.prodname_codeql %} releases, see “[About {% data variables.product.prodname_codeql %} pack compatibility](/code-security/code-scanning/using-the-codeql-cli/publishing-and-using-codeql-packs#about-codeql-pack-compatibility).”
{% endif %}


## Creating a {% data variables.product.prodname_codeql %} pack

You can create a {% data variables.product.prodname_codeql %} pack by running the following command from the checkout root of your project:

```
codeql pack init <scope>/<pack>
```

You must specify:


* `<scope>`: the name of the {% data variables.product.prodname_dotcom %} organization or user account that you will publish to.


* `<pack>`: the name for the pack that you are creating.

The `codeql pack init` command creates the directory structure and configuration files for a {% data variables.product.prodname_codeql %} pack. By default, the command creates a query pack. If you want to create a library pack, you must edit the `qlpack.yml` file to explicitly declare the file as a library pack by including the `library:true` property.

## Modifying an existing legacy QL pack to create a {% data variables.product.prodname_codeql %} pack

If you already have a `qlpack.yml` file, you can edit it manually to convert it into a {% data variables.product.prodname_codeql %} pack.


1. Edit the `name` property so that it matches the format `<scope>/<name>`, where `<scope>` is the name of the {% data variables.product.prodname_dotcom %} organization or user account that you will publish to.


2. In the `qlpack.yml` file, include a `version` property with a semver identifier, as well as an optional `dependencies` block.


3. Migrate the list of dependencies in `libraryPathDependencies` to the `dependencies` block. Specify the version range for each dependency. If the range is unimportant, or you are unsure of compatibility, you can specify `"\*"`, which indicates that any version is acceptable and will default to the latest version when you run `codeql pack install`.

For more information about the properties, see “[About {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/codeql-cli-reference/about-codeql-packs#about-codeql-packs).”

## Adding and installing dependencies to a {% data variables.product.prodname_codeql %} pack

You can add dependencies on {% data variables.product.prodname_codeql %} packs using the command `codeql pack add`. You must specify the scope, name, and (optionally) a compatible version range.

```
codeql pack add <scope>/<name>@x.x.x <scope>/<other-name>
```

If you don’t specify a version range, the latest version will be added. Otherwise, the latest version that satisfies the requested range will be added.

This command updates the `qlpack.yml` file with the requested dependencies and downloads them into the package cache. Please note that this command will reformat the file and remove all comments.

You can also manually edit the `qlpack.yml` file to include dependencies and install the dependencies with the command:

```
codeql pack install
```

This command downloads all dependencies to the shared cache on the local disk.

{% note %}

**Notes:** 

- Running the `codeql pack add` and `codeql pack install` commands will generate or update the `codeql-pack.lock.yml` file. This file should be checked-in to version control. The `codeql-pack.lock.yml` file contains the precise version numbers used by the pack. For more information, see “[About codeql-pack.lock.yml files](/code-security/code-scanning/codeql-cli-reference/about-codeql-packs#about-codeql-pack-lock).”

- By default `codeql pack install` will install dependencies from the {% data variables.product.prodname_container_registry %} on {% data variables.product.prodname_dotcom_the_website %}. You can install dependencies from a {% data variables.product.prodname_ghe_server %} {% data variables.product.prodname_container_registry %} by creating a `qlconfig.yml` file. For more information, see “[Publishing and using {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/using-the-codeql-cli/publishing-and-using-codeql-packs).”

{% endnote %}

{% ifversion query-pack-compatibility %}
## Customizing a downloaded {% data variables.product.prodname_codeql %} pack

The recommended way to experiment with changes to a pack is to clone the repository containing its source code.

If no source respository is available and you need to base modifications on a pack downloaded from the {% data variables.product.prodname_container_registry %}, be aware that these packs are not intended to be modified or customized after downloading, and their format may change in the future without much notice.  We recommend taking the following steps after downloading a pack if you need to modify the content:

- Change the pack _name_ in `qlpack.yml` so you avoid confusion with results from the unmodified pack.

- Remove all files named `*.qlx` anywhere in the unpacked directory structure. These files contain precompiled versions of the queries, and in some situations {% data variables.product.prodname_codeql %} will use them in preference to the QL source you have modified.

{% endif %}
 378  
...t/code-security/code-scanning/using-the-codeql-cli/creating-codeql-databases.md
Large diffs are not rendered by default.

 405  
...ode-security/code-scanning/using-the-codeql-cli/creating-codeql-query-suites.md
Large diffs are not rendered by default.

 154  
content/code-security/code-scanning/using-the-codeql-cli/extractor-options.md
@@ -0,0 +1,154 @@
---
title: Extractor options
intro: 'You can use the {% data variables.product.prodname_codeql_cli %} to run {% data variables.product.prodname_codeql %} processes locally on software projects.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About extractors

The {% data variables.product.prodname_codeql_cli %}uses special programs, called extractors, to extract information from the source code of a software system into a database that can be queried. You can customize the behavior of extractors by setting extractor configuration options through the {% data variables.product.prodname_codeql_cli %}.

## About extractor options

Each extractor defines its own set of configuration options. To find out which options are available for a particular extractor, you can run `codeql resolve languages` or `codeql resolve extractor` with the `--format=betterjson` option. The `betterjson` output format provides the root paths of extractors and additional information. The output of `codeql resolve extractor --format=betterjson` will often be formatted like the following example:

```json
{
    "extractor_root" : "/home/user/codeql/java",
    "extractor_options" : {
        "option1" : {
            "title" : "Java extractor option 1",
            "description" : "An example string option for the Java extractor.",
            "type" : "string",
            "pattern" : "[a-z]+"
        },
        "group1" : {
            "title" : "Java extractor group 1",
            "description" : "An example option group for the Java extractor.",
            "type" : "object",
            "properties" : {
                "option2" : {
                    "title" : "Java extractor option 2",
                    "description" : "An example array option for the Java extractor",
                    "type" : "array",
                    "pattern" : "[1-9][0-9]*"
                }
            }
        }
    }
}
```

The extractor option names and descriptions are listed under `extractor_options`. Each option may contain the following fields:

- `title` (required): The title of the option
- `description` (required): The description of the option
- `type` (required): The type of the option, which can be
  - `string`: indicating that the option can have a single string value
  - `array`: indicating that the option can have a sequence of string values
  - `object`: indicating that it is not an option itself, but a grouping that may contain other options and option groups
- `pattern` (optional): The regular expression patterns that all values of the option should match. Note that the extractor may impose additional constraints on option values that are not or cannot be expressed in this regular expression pattern. Such constraints, if they exist, would be explained under the description field.
- `properties` (optional): A map from extractor option names in the option group to the corresponding extractor option descriptions. This field can only be present for option groups. For example, options of `object` type.

In the example above, the extractor declares two options:

- `option1` is a `string` option with value matching `[a-z]+`
- `group1.option2` is an `array` option with values matching `[1-9][0-9]\*`

## Setting extractor options with the {% data variables.product.prodname_codeql_cli %}

The {% data variables.product.prodname_codeql_cli %} supports setting extractor options in subcommands that directly or indirectly invoke extractors. These commands are:

- `codeql database create`
- `codeql database start-tracing`
- `codeql database trace-command`
- `codeql database index-files`

When running these subcommands, you can set extractor options with the `--extractor-option` CLI option. For example:

- `codeql database create --extractor-option java.option1=abc ...`
- `codeql database start-tracing --extractor-option java.group1.option2=102 ...`

`--extractor-option` requires exactly one argument of the form `extractor_option_name=extractor_option_value`.  `extractor_option_name` is the name of the extractor (in this example, `java`) followed by a period and then the name of the extractor option (in this example, either `option1` or `group1.option2`).  `extractor_option_value` is the value being assigned to the extractor option. The value must match the regular expression pattern of the extractor option (if it exists), and it must not contain newline characters.

Using `--extractor-option` to assign an extractor option that does not exist is an error.

The {% data variables.product.prodname_codeql_cli %} accepts multiple `--extractor-option` options in the same invocation. If you set a `string` extractor option multiple times, the last option value overwrites all previous ones. If you set an array extractor option multiple times, all option values are concatenated in order.

You can also specify extractor option names without the extractor name. For example:

- `codeql database create --extractor-option option1=abc ...`
- `codeql database start-tracing --extractor-option group1.option2=102 ...`

If you do not specify an extractor name, the extractor option settings will apply to all extractors that declare an option with the given name. In the above example, the first command would set the extractor option `option1` to `abc` for the `java` extractor and every extractor that has an option of `option1`, for example the `cpp` extractor, if the `option1` extractor option exists for that extractor.

## Setting extractor options from files

You can also set extractor options through a file. The {% data variables.product.prodname_codeql_cli %} subcommands that accept `--extractor-option` also accept `--extractor-options-file`, which has a required argument of the path to a YAML file (with extension `.yaml` or `.yml`) or a JSON file (with extension `.json`). For example:

- `codeql database create --extractor-options-file options.yml ...`
- `codeql database start-tracing --extractor-options-file options.json ...`

Each option file contains a tree structure of nested maps. At the root is an extractor map key, and beneath it are map keys that correspond to extractor names. Starting at the third level, there are extractor options and option groups.

In JSON:

```json
{
     "extractor" : {
        "java": {
            "option1" : "abc",
            "group1" : {
                "option2" : [ 102 ]
            }
        }
    }
}
```

In YAML:

```yaml
extractor:
    java:
        option1: "abc"
        group1:
            option2: [ 102 ]
```

The value for a `string` extractor option must be a string or a number (which will be converted to a string before further processing).

The value for an `array` extractor option must be an array of strings or numbers.

The value for an option group (of type `object`) must be a map, which may contain nested extractor options and option groups.

Each extractor option value must match the regular expression pattern of the extractor option (if it exists), and it must not contain newline characters.

Assigning an extractor option that does not exist is an error. You can make the {% data variables.product.prodname_codeql_cli %} ignore unknown extractor options by using a special `__allow_unknown_properties` Boolean field. For example, the following option file asks the {% data variables.product.prodname_codeql_cli %} to ignore all unknown extractor options and option groups under `group1`:

```yaml
extractor:
    java:
        option1: "abc"
        group1:
            __allow_unknown_properties: true
            option2: [ 102 ]
```

You can specify `--extractor-options-file` multiple times. The extractor option assignments are processed in the following order:

1. All extractor option files specified by `--extractor-options-file` are processed in the order they appear on the command line, then
2. All extractor option assignments specified by `--extractor-option` are processed in the order they appear on the command line

The same rules govern what happens when the same extractor option is set multiple times, regardless of whether the assignments are done using `--extractor-option`, using `--extractor-options-file`, or some combination of the two. If you set a `string` extractor option multiple times, the last option value overwrites all previous values. If you set an `array` extractor option multiple times, all option values are concatenated in order.
 213  
...urity/code-scanning/using-the-codeql-cli/getting-started-with-the-codeql-cli.md
@@ -0,0 +1,213 @@
---
title: Getting started with the CodeQL CLI
shortTitle: Getting started
intro: 'To get started with the {% data variables.product.prodname_codeql_cli %}, you need to set up the CLI so that it can access the tools and libraries required to create and analyze databases.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## Getting started with the {% data variables.product.prodname_codeql_cli %}

To run {% data variables.product.prodname_codeql %} commands, you need to set up the CLI so that it can access
the tools, queries, and libraries required to create and analyze databases.

## Setting up the {% data variables.product.prodname_codeql_cli %}

The {% data variables.product.prodname_codeql_cli %} can be set up to support many different use cases and directory
structures. To get started quickly, we recommend adopting a relatively simple
setup, as outlined in the steps below.

If you use Linux, Windows, or macOS version 10.14 (“Mojave”) or earlier, simply
follow the steps below. For macOS version 10.15 (“Catalina”) or newer, steps 1
and 4 are slightly different—for further details, see the sections labeled
**Information for macOS “Catalina” (or newer) users**. If you are using macOS
on Apple Silicon (e.g. Apple M1), ensure that the [Xcode command-line developer
tools](https://developer.apple.com/downloads/index.action) and [Rosetta 2](https://support.apple.com/en-us/HT211861) are installed.

{% note %}

**Note:** The {% data variables.product.prodname_codeql_cli %} is currently not compatible with non-glibc Linux distributions such as (muslc-based) Alpine Linux.

{% endnote %}

For information about installing the {% data variables.product.prodname_codeql_cli %} in a CI system to create results to display in {% data variables.product.prodname_dotcom %} as code scanning alerts, see [Installing {% data variables.product.prodname_codeql_cli %} in your CI system](/code-security/code-scanning/using-codeql-code-scanning-with-your-existing-ci-system/installing-codeql-cli-in-your-ci-system).

### 1. Download the {% data variables.product.prodname_codeql_cli %} zip package

The {% data variables.product.prodname_codeql_cli %} download package is a zip archive containing tools, scripts, and
various {% data variables.product.prodname_codeql %}-specific files. If you don’t have a {% data variables.product.prodname_enterprise %} license then, by
downloading this archive, you are agreeing to the [{% data variables.product.prodname_dotcom %} {% data variables.product.prodname_codeql %} Terms and
Conditions](https://securitylab.github.com/tools/codeql/license).

{% note %}

**Important:** There are several versions of the CLI available to download, depending on your use case:

- If you want to use the most up to date {% data variables.product.prodname_codeql %} tools and features, download the version tagged `latest`.
- If you want to generate code scanning data to upload to {% data variables.product.prodname_enterprise %} server, then download the version that is compatible with the {% data variables.product.prodname_codeql_cli %} used in your CI system. For more information, see “[Installing {% data variables.product.prodname_codeql_cli %} in your CI system](/enterprise-server/code-security/code-scanning/using-codeql-code-scanning-with-your-existing-ci-system/installing-codeql-cli-in-your-ci-system#downloading-the-codeql-cli).”

{% endnote %}

If you use Linux, Windows, or macOS version 10.14 (“Mojave”) or earlier, simply
[download the zip archive](https://github.com/github/codeql-cli-binaries/releases)
for the version you require.

If you want the CLI for a specific platform, download the appropriate `codeql-PLATFORM.zip` file.
Alternatively, you can download `codeql.zip`, which contains the CLI for all supported platforms.

#### Information for macOS “Catalina” (or newer) users

If you use macOS version 10.15 (“Catalina”), version 11 (“Big Sur”), or the upcoming version 12 (“Monterey”), you need to ensure that your web browser does not automatically extract zip files. If you use Safari, complete the following steps before downloading the {% data variables.product.prodname_codeql_cli %} zip archive:

1. Open Safari.
2. From the Safari menu, select **Preferences…**.
3. Click the **General** Tab.
4. Ensure the check-box labeled **Open “safe” files after downloading** is unchecked.

### 2. Extract the zip archive

For Linux, Windows, and macOS users (version 10.14 “Mojave”, and earlier)
simply extract the zip archive.

#### Information for macOS “Catalina” (or newer) users

macOS “Catalina”, “Big Sur”, or “Monterey” users should run the following commands in the Terminal, where `${extraction-root}` is the path to the directory where you will extract the {% data variables.product.prodname_codeql_cli %} zip archive:

1. `mv ~/Downloads/codeql\*.zip ${extraction-root}`
2. `cd ${extraction-root}`
3. `/usr/bin/xattr -c codeql\*.zip`
4. `unzip codeql\*.zip`

### 3. Launch `codeql`

Once extracted, you can run {% data variables.product.prodname_codeql %} processes by running the `codeql` executable in a couple of ways:

- By executing `<extraction-root>/codeql/codeql`, where `<extraction-root>` is the folder where you extracted the {% data variables.product.prodname_codeql_cli %}
package.
- By adding `<extraction-root>/codeql` to your `PATH`, so that you
can run the executable as just `codeql`.

At this point, you can execute {% data variables.product.prodname_codeql %} commands. For a full list of the {% data variables.product.prodname_codeql_cli %} commands, see the “[{% data variables.product.prodname_codeql_cli %} manual](https://codeql.github.com/docs/codeql-cli/manual/).”

{% note %}

**Note:** If you add `codeql` to your `PATH`, it can be accessed by {% data variables.product.prodname_codeql %} for Visual Studio Code to compile and run queries.
 For more information about configuring VS Code to access the {% data variables.product.prodname_codeql_cli %}, see "[Setting up {% data variables.product.prodname_codeql %} in Visual Studio Code](https://codeql.github.com/docs/codeql-for-visual-studio-code/setting-up-codeql-in-visual-studio-code/#setting-up-codeql-in-visual-studio-code)."

 {% endnote %}

### 4. Verify your {% data variables.product.prodname_codeql_cli %} setup

{% data variables.product.prodname_codeql_cli %} has subcommands you can execute to verify that you are correctly set up to create and analyze databases:

- Run `codeql resolve languages` to show which languages are available for database creation. This will list the languages supported by default in your {% data variables.product.prodname_codeql_cli %} package.{% ifversion codeql-packs %}
- (Optional) You can download some “[{% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/codeql-cli-reference/about-codeql-packs)” containing pre-compiled queries you would like to run. To do this, run `codeql pack download <pack-name> [...pack-name]`, where `pack-name` is the name of the pack you want to download. The core query packs are a good place to start. They are:

  - `codeql/cpp-queries`
  - `codeql/csharp-queries`
  - `codeql/go-queries`
  - `codeql/java-queries`
  - `codeql/javascript-queries`
  - `codeql/python-queries`
  - `codeql/ruby-queries`

{% endif %}

Alternatively, you can download query packs during the analysis by using the `--download` flag of the `codeql database analyze`
 command.

## Checking out the {% data variables.product.prodname_codeql %} source code directly

Some users prefer working with {% data variables.product.prodname_codeql %} query sources directly in order to work on or contribute to the Open Source shared queries. In order to do this, the following steps are recommended. Note that the following instructions are a slightly more complicated alternative to working with {% data variables.product.prodname_codeql %} packages as explained above.

### 1. Download the {% data variables.product.prodname_codeql_cli %} zip

Follow [step 1 from the previous section](#1-download-the-codeql-cli-zip-package).

### 2. Create a new {% data variables.product.prodname_codeql %} directory

Create a new directory where you can place the CLI and any queries and libraries
you want to use. For example, `$HOME/codeql-home`.

The CLI’s built-in search operations automatically look in all of its sibling
directories for the files used in database creation and analysis. Keeping these
components in their own directory prevents the CLI searching unrelated sibling
directories while ensuring all files are available without specifying any
further options on the command line.

### 3. Obtain a local copy of the {% data variables.product.prodname_codeql %} queries

The [{% data variables.product.prodname_codeql %} repository](https://github.com/github/codeql) contains
the queries and libraries required for {% data variables.product.prodname_codeql %} analysis of all supported languages.
Clone a copy of this repository into `codeql-home`.

By default, the root of the cloned repository will be called `codeql`.
Rename this folder `codeql-repo` to avoid conflicting with the {% data variables.product.prodname_codeql_cli %} that you will extract in step 4. If you use git on the command line, you can
clone and rename the repository in a single step by running
`git clone git@github.com:github/codeql.git codeql-repo` in the `codeql-home` folder.

{% ifversion ghes < 3.6 or ghae < 3.6 %}
{% note %}

**Note:** The {% data variables.product.prodname_codeql %} libraries and queries for Go analysis used to live in a separate [{% data variables.product.prodname_codeql %} for Go repository](https://github.com/github/codeql-go/). These have been moved to the `github/codeql` repository. It is no longer necessary to clone the `github/codeql-go` into a separate `codeql-home/codeql-go` folder.

For more information, see the [Relocation announcement](https://github.com/github/codeql-go/issues/741).

{% endnote %}
{% endif %}

{% ifversion codeql-packs %}

Within this repository, the queries and libraries are organized into {% data variables.product.prodname_codeql %}
packs. Along with the queries themselves, {% data variables.product.prodname_codeql %} packs contain important metadata
that tells the {% data variables.product.prodname_codeql_cli %} how to process the query files. For more information,
see “[About {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/codeql-cli-reference/about-codeql-packs).”
{% endif %}

{% note %}

**Important:** There are different versions of the {% data variables.product.prodname_codeql %} queries available for different users. Check out the correct version for your use case:

- For the queries that are intended to be used with the latest {% data variables.product.prodname_codeql_cli %} release, check out the branch tagged `codeql-cli/latest`. You should use this branch for databases you’ve built using the {% data variables.product.prodname_codeql_cli %}, fetched from code scanning on {% data variables.product.prodname_dotcom %}, or recently downloaded from {% data variables.product.prodname_dotcom_the_website %}.
- For the most up to date {% data variables.product.prodname_codeql %} queries, check out the `main` branch. This branch represents the very latest version of {% data variables.product.prodname_codeql %}’s analysis.

{% endnote %}

### 4. Extract the zip archive

For Linux, Windows, and macOS users (version 10.14 “Mojave”, and earlier) simply extract the zip archive into the directory you created in step 2.

For example, if the path to your copy of the {% data variables.product.prodname_codeql %} repository is `$HOME/codeql-home/codeql-repo`, then extract the CLI into
`$HOME/codeql-home/`.

### 5. Launch `codeql`

See [step 3 from the previous section](#3-launch-codeql).

### 6. Verify your {% data variables.product.prodname_codeql_cli %} setup

{% data variables.product.prodname_codeql_cli %} has subcommands you can execute to verify that you are correctly set up to create and analyze databases:

- Run `codeql resolve languages` to show which languages are available for database creation. This will list the languages supported by default in your {% data variables.product.prodname_codeql_cli %} package.
- Run `codeql resolve qlpacks` to show which {% data variables.product.prodname_codeql %} packs the CLI can find. This will display the names of all the {% data variables.product.prodname_codeql %} packs directly available to the {% data variables.product.prodname_codeql_cli %}. This should include:
 - Query packs for each supported language, for example, `codeql/{language}-queries`. These packs contain the standard queries that will be run for each analysis.
 - Library packs for each supported language, for example,  `codeql/{language}-all`. These packs contain query libraries, such as control flow and data flow libraries, that may be useful to query writers.
 - Example packs for each supported language, for example, `codeql/{language}-examples`. These packs contain useful snippets of {% data variables.product.prodname_codeql %} that query writers may find useful.
 - Legacy packs that ensure custom queries and libraries created using older products are compatible with your version of {% data variables.product.prodname_codeql %}.

## Using two versions of the {% data variables.product.prodname_codeql_cli %}

If you want to use the latest {% data variables.product.prodname_codeql %} features to execute queries or {% data variables.product.prodname_codeql %} tests, but also want to prepare databases that are compatible with a specific version of {% data variables.product.prodname_codeql %} code scanning on {% data variables.product.prodname_ghe_server %}, you may need to install two versions of the CLI. The recommended directory setup depends on which versions you want to install:

- If both versions are 2.0.2 (or newer), you can unpack both CLI archives in the same parent directory.
- If at least one of the versions is 2.0.1 (or older), the unpacked CLI archives cannot be in the same parent directory, but they can share the same grandparent directory. For example, if you unpack version 2.0.2 into `$HOME/codeql-home/codeql-cli`, the older version should be unpacked into `$HOME/codeql-older-version/old-codeql-cli`. Here, the common grandparent is the `$HOME` directory.
 26  
content/code-security/code-scanning/using-the-codeql-cli/index.md
@@ -0,0 +1,26 @@
---
title: Using the CodeQL CLI
intro: 'You can use the {% data variables.product.prodname_codeql_cli %} to locally develop, test and run CodeQL queries on software projects.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
children:
  - /about-the-codeql-cli
  - /getting-started-with-the-codeql-cli
  - /creating-codeql-databases
  - /extractor-options
  - /analyzing-databases-with-the-codeql-cli
  - /using-custom-queries-with-the-codeql-cli
  - /creating-codeql-query-suites
  - /testing-custom-queries
  - /testing-query-help-files
  - /creating-and-working-with-codeql-packs
  - /publishing-and-using-codeql-packs
  - /specifying-command-options-in-a-codeql-configuration-file
---
 187  
...ecurity/code-scanning/using-the-codeql-cli/publishing-and-using-codeql-packs.md
@@ -0,0 +1,187 @@
---
title: Publishing and using CodeQL packs
intro: 'You can publish your own {% data variables.product.prodname_codeql %} packs and use packs published by other people.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  feature: codeql-packs
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

{% data reusables.codeql-cli.beta-note-package-management %}

## Configuring the `qlpack.yml` file before publishing

{% ifversion ghes %}
{% note %}

**Note:** If you have manually updated your {% data variables.product.prodname_codeql_cli %} version to a newer version than what is covered in this article, please see “[Publishing and using {% data variables.product.prodname_codeql %} packs](/enterprise-cloud@latest/code-security/code-scanning/using-the-codeql-cli/publishing-and-using-codeql-packs)”, the Enterprise Cloud version, for the most up-to-date documentation.

{% endnote %}
{% endif %}

You can check and modify the configuration details of your {% data variables.product.prodname_codeql %} pack prior to publishing. Open the `qlpack.yml` file in your preferred text editor.

```yml
library: # set to true if the pack is a library. Set to false or omit for a query pack
name: <scope>/<pack>
version: <x.x.x>
description: <Description to publish with the package>
default-suite: # optional, one or more queries in the pack to run by default
    - query: <relative-path>/query-file>.ql
default-suite-file: default-queries.qls # optional, a pointer to a query-suite in this pack
license: # optional, the license under which the pack is published
dependencies: # map from CodeQL pack name to version range
```

* `name:` must follow the <scope>/<pack> format, where <scope> is the {% data variables.product.prodname_dotcom %} organization that you will publish to and <pack> is the name for the pack.


* A maximum of one of `default-suite` or `default-suite-file` is allowed. These are two different ways to define a default query suite to be run, the first by specifying queries directly in the qlpack.yml file and the second by specifying a query suite in the pack.

## Running `codeql pack publish`

When you are ready to publish a pack to the {% data variables.product.prodname_dotcom %} {% data variables.product.prodname_container_registry %}, you can run the following command in the root of the pack directory:

```
codeql pack publish
```

The published package will be displayed in the packages section of {% data variables.product.prodname_dotcom %} organization specified by the scope in the `qlpack.yml` file.

## Running `codeql pack download <scope>/<pack>`

To run a pack that someone else has created, you must first download it by running the following command:

```
codeql pack download <scope>/<pack>@x.x.x
```

* `<scope>`: the name of the {% data variables.product.prodname_dotcom %} organization that you will download from.
* `<pack>`: the name for the pack that you want to download.
* `@x.x.x`: an optional version number. If omitted, the latest version will be downloaded.

This command accepts arguments for multiple packs.

{% ifversion query-pack-compatibility %}
If you write scripts that specify a particular version number of a
query pack to download, keep in mind that when you update your version of
{% data variables.product.prodname_codeql %} to a newer one, you may
also need to switch to a newer version of the query pack.  Newer
versions of {% data variables.product.prodname_codeql %} _may_ provide
degraded performance when used with query packs that have been pinned
to a very old version. For more information, see "[About {% data variables.product.prodname_codeql %}
pack compatibility](#about-codeql-pack-compatibility)."
{% endif %}

## Using a {% data variables.product.prodname_codeql %} pack to analyze a {% data variables.product.prodname_codeql %} database

To analyze a {% data variables.product.prodname_codeql %} database with a {% data variables.product.prodname_codeql %} pack, run the following command:

```
codeql database analyze <database> <scope>/<pack>@x.x.x:<path>
```
* `<database>`: the {% data variables.product.prodname_codeql %} database to be analyzed.
* `<scope>`: the name of the {% data variables.product.prodname_dotcom %} organization that the pack is published to.
* `<pack>`: the name for the pack that you are using.
* `@x.x.x`: an optional version number. If omitted, the latest version will be used.
* `:<path>`: an optional path to a query, directory, or query suite. If omitted, the pack’s default query suite will be used.

The `analyze` command will run the default suite of any specified {% data variables.product.prodname_codeql %} packs. You can specify multiple {% data variables.product.prodname_codeql %} packs to be used for analyzing a {% data variables.product.prodname_codeql %} database. For example:

```
codeql <database> analyze <scope>/<pack> <scope>/<other-pack>
```

{% ifversion query-pack-compatibility %}
{% note %}

**Note:** The `codeql pack download` command stores the pack it downloads in an internal location that is not intended for local modification.  Unexpected (and hard to troubleshoot) behavior may result if the pack is modified after downloading. For more information about customizing packs, see “[Creating and working with {% data variables.product.prodname_codeql %} packs](#creating-and-working-with-codeql-packs)."

{% endnote %}

## About {% data variables.product.prodname_codeql %} pack compatibility

When a query pack is published, it includes pre-compiled representations of all the queries in it. These pre-compiled queries are generally much faster to execute than it is to compile the QL source from scratch during the analysis. However, the pre-compiled queries also depend on certain internals of the QL evaluator, so if the version of {% data variables.product.prodname_codeql %} that performs the analysis is too different from the version that ran `codeql pack publish`, it may be necessary to compile the queries from source instead during analysis. The recompilation happens automatically and will not affect the _results_ of the analysis, but it can make the
analysis significantly slower.

It can generally be assumed that if a pack is published with one release of {% data variables.product.prodname_codeql %}, the precompiled queries in it can be used directly by _later_ releases of {% data variables.product.prodname_codeql %}, as long as there is no more than 6 months between the release dates. We will make reasonable efforts to keep new releases compatible for longer than that, but make no promises.

It can also be assumed that a pack published by the _latest_ public release of {% data variables.product.prodname_codeql %} will be useable by the version of {% data variables.product.prodname_codeql %} that is used by {% data variables.product.prodname_code_scanning %} and {% data variables.product.prodname_actions %}, even though that is often a slightly older release.

As an exception to the above, packs published with versions of {% data variables.product.prodname_codeql %} _earlier than 2.12.0_ are not compatible with any earlier or later versions. These old versions did not write pre-compiled queries in a format that supported compatibility between releases. Packs published by these versions can still be _used_ by newer versions, but the analysis will be slower because the queries have to be recompiled first.

As a user of a published query pack, you can check that the {% data variables.product.prodname_codeql %} makes use of the precompiled queries in it by inspecting the terminal output from an analysis runs that uses the query pack. If it contains lines looking like the following, then the precompiled queries were used successfully:
```
[42/108] Loaded /long/path/to/query/Filename.qlx.
```
However, if they instead look like the following, then usage of the precompiled queries failed:
```
Compiling query plan for /long/path/to/query/Filename.ql.
[42/108 comp 25s] Compiled /long/path/to/query/Filename.ql.
```
The results of the analysis will still be good in this case, but to get optimal performance you may need to upgrade to a newer version of the {% data variables.product.prodname_codeql %} CLI and/or of the query pack.

If you publish query packs on the {% data variables.product.prodname_container_registry %} on {% data variables.product.prodname_dotcom_the_website %} for others to use, we recommend that you use a recent release of {% data variables.product.prodname_codeql %} to run `codeql pack publish`, and that you publish a fresh version of your pack with an updated {% data variables.product.prodname_codeql %} version before the version you used turns 6 months old. That way you can ensure that users of your pack who keep _their_ {% data variables.product.prodname_codeql %} up to date will benefit from the pre-compiled queries in your pack.

If you publish query packs with the intention of using them on a {% data variables.product.prodname_ghe_server %} installation that uses its bundled {% data variables.product.prodname_codeql %} binaries, use the same {% data variables.product.prodname_codeql %} version to run `codeql pack publish`. Newer versions might produce pre-compiled queries that the one in {% data variables.product.prodname_ghe_server %} may not recognize. Your {% data variables.product.prodname_ghe_server %} administrator may choose to upgrade to a newer version of {% data variables.product.prodname_codeql %} periodically. If so, follow their lead.

{% endif %}

{% ifversion ghes %}

## Working with {% data variables.product.prodname_codeql %} packs on {% data variables.product.prodname_ghe_server %}

By default, the {% data variables.product.prodname_codeql_cli %} expects to download {% data variables.product.prodname_codeql %} packs from and publish packs to the {% data variables.product.prodname_container_registry %} on {% data variables.product.prodname_dotcom_the_website %}. However, you can also work with {% data variables.product.prodname_codeql %} packs in a {% data variables.product.prodname_container_registry %} on {% data variables.product.prodname_ghe_server %} by creating a `qlconfig.yml` file to tell the CLI which {% data variables.product.prodname_container_registry %} to use for each pack.

Create a `~/.codeql/qlconfig.yml` file using your preferred text editor, and add entries to specify which registry to use for one or more package name patterns.
For example, the following `qlconfig.yml` file associates all packs with the {% data variables.product.prodname_container_registry %} for the {% data variables.product.prodname_ghe_server %} at `GHE_HOSTNAME`, except packs matching `codeql/\*`, which are associated with the {% data variables.product.prodname_container_registry %} on {% data variables.product.prodname_dotcom_the_website %}:

```yaml
registries:
- packages:
  - 'codeql/*'
  - 'other-org/*'
  url: https://ghcr.io/v2/
- packages: '*'
  url: https://containers.GHE_HOSTNAME/v2/
```

The {% data variables.product.prodname_codeql_cli %} will determine which registry to use for a given package name by finding the first item in the `registries` list with a `packages` property that matches that package name.
This means that you’ll generally want to define the most specific package name patterns first. The `packages` property may be a single package name, a glob pattern, or a YAML list of package names and glob patterns.

The `registries` list can also be placed inside of a `codeql-workspace.yml` file. Doing so will allow you to define the registries to be used within a specific workspace, so that it can be shared amongst other {% data variables.product.prodname_codeql %} users of the workspace. The `registries` list in the `codeql-workspace.yml` will be merged with and take precedence over the list in the global `qlconfig.yml`. For more information about `codeql-workspace.yml`, see [About {% data variables.product.prodname_codeql %} workspaces](/code-security/code-scanning/codeql-cli-reference/about-codeql-workspaces#about-codeql-workspaces).

You can now use `codeql pack publish`, `codeql pack download`, and `codeql database analyze` to manage packs on {% data variables.product.prodname_ghe_server %}.

{% endif %}

## Authenticating to {% data variables.product.prodname_dotcom %} {% data variables.product.prodname_container_registries %}

You can publish packs and download private packs by authenticating to the appropriate {% data variables.product.prodname_dotcom %} {% data variables.product.prodname_container_registry %}.

You can authenticate to the {% data variables.product.prodname_container_registry %} on {% data variables.product.prodname_dotcom_the_website %} in two ways:

1. Pass the `--github-auth-stdin` option to the {% data variables.product.prodname_codeql_cli %}, then supply a {% data variables.product.prodname_github_apps %} token or {% data variables.product.pat_generic %} via standard input.
2. Set the `GITHUB_TOKEN` environment variable to a {% data variables.product.prodname_github_apps %} token or {% data variables.product.pat_generic %}.

{% ifversion ghes %}

Similarly, you can authenticate to a {% data variables.product.prodname_ghe_server %} {% data variables.product.prodname_container_registry %}, or authenticate to multiple registries simultaneously (for example, to download or run private packs from multiple registries) in two ways:

1. Pass the `--registries-auth-stdin` option to the {% data variables.product.prodname_codeql_cli %}, then supply a registry authentication string via standard input.
2. Set the `CODEQL_REGISTRIES_AUTH` environment variable to a registry authentication string.

A registry authentication string is a comma-separated list of `<registry-url>=<token>` pairs, where `registry-url` is a {% data variables.product.prodname_container_registry %} URL, such as `https://containers.GHE_HOSTNAME/v2/`, and `token` is a {% data variables.product.prodname_github_apps %} token or {% data variables.product.pat_generic %} for that {% data variables.product.prodname_dotcom %} {% data variables.product.prodname_container_registry %}.
This ensures that each token is only passed to the {% data variables.product.prodname_container_registry %} you specify.
For instance, the following registry authentication string specifies that the {% data variables.product.prodname_codeql_cli %} should authenticate to the {% data variables.product.prodname_container_registry %} on {% data variables.product.prodname_dotcom_the_website %} using the token `<token1>` and to the {% data variables.product.prodname_container_registry %} for the GHES instance at `GHE_HOSTNAME` using the token `<token2>`:

```
https://ghcr.io/v2/=<token1>,https://containers.GHE_HOSTNAME/v2/=<token2>
```

{% endif %}
 74  
...ing-the-codeql-cli/specifying-command-options-in-a-codeql-configuration-file.md
@@ -0,0 +1,74 @@
---
title: Specifying command options in a CodeQL configuration file
intro: 'You can save default command options in a {% data variables.product.prodname_codeql %} configuration file.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About specifying command options in a {% data variables.product.prodname_codeql %} configuration file

You can save default or frequently used options for your commands in a per-user configuration file.

You can specify {% data variables.product.prodname_codeql_cli %} command options in two ways:

- Directly in the command line, using the appropriate flag.
- In a configuration (or `config`) file that {% data variables.product.prodname_codeql %} scans for relevant options each time a command is executed.

For options that are likely to change each time you execute a command, specifying the value on the command line is the most convenient way of passing the information to {% data variables.product.prodname_codeql %}. Saving options in a `config` file is a good way to specify options you use frequently. It’s also a good way to add custom {% data variables.product.prodname_codeql %} packs that you use regularly to your search path.

## Using a {% data variables.product.prodname_codeql %} configuration file

You need to save the `config` file under your home (Linux and macOS) or user profile (Windows) directory in the `.config/codeql/` subdirectory. For example, `$HOME/.config/codeql/config`.

The syntax for specifying options is as follows:

```
<command> <subcommand> <option> <value>
```

To apply the same options to more than one command you can:

- Omit the `<subcommand>`, which will specify the option for every `<subcommand>` to which it’s relevant.
- Omit both `<command>` and `<subcommand>`, which will globally specify the option for every `<command>` and `<subcommand>` to which it’s relevant.

{% note %}

**Notes:**
  - `config` files only accept spaces between between option flags and values—{% data variables.product.prodname_codeql %} will throw an error if you use `=` to specify an option value.
  - If you specify an option in the command line, this overrides the `config` value defined for that option.
  - If you want to specify more than one option for a `<command>`, `<subcommand>` or globally, use one line per option.

{% endnote %}

### Examples

* To output all analysis results generated by `codeql database analyze` as CSV format, you would specify:

  ```
  database analyze --format csv
  ```

  Here, you have to specify the command and subcommand to prevent any of the low-level commands that are executed during `database analyze` being passed the same `--format` option.

- To define the RAM (4096 MB) and number of threads (4) to use when running {% data variables.product.prodname_codeql %} commands, specify the following, on separate lines:

  ```
  --ram 4096
  --threads 4
  ```

- To globally specify a directory for {% data variables.product.prodname_codeql %} to scan for {% data variables.product.prodname_codeql %} packs (which is not a sibling of the installation directory), use:

  ```
  --search-path <path-to-directory>
  ```
 221  
content/code-security/code-scanning/using-the-codeql-cli/testing-custom-queries.md
@@ -0,0 +1,221 @@
---
title: Testing custom queries
intro: 'You can set up tests for your {% data variables.product.prodname_codeql %} queries to ensure that they continue to return the expected results with new releases of the {% data variables.product.prodname_codeql_cli %}.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  feature: codeql-packs
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About testing custom queries

{% data variables.product.prodname_codeql %} provides a simple test framework for automated regression testing
of queries. Test your queries to ensure that they behave as expected.

During a query test, {% data variables.product.prodname_codeql %} compares the results the user expects
the query to produce with those actually produced. If the expected and
actual results differ, the query test fails. To fix the test, you should iterate
on the query and the expected results until the actual results and the expected
results exactly match. This topic shows you how to create test files and execute
tests on them using the `test run` subcommand.

## Setting up a test {% data variables.product.prodname_codeql %} pack for custom queries

All {% data variables.product.prodname_codeql %} tests must be stored in a special “test” {% data variables.product.prodname_codeql %} pack. That is, a directory for test files with a `qlpack.yml` file that defines:

```yaml
name: <name-of-test-pack>
version: 0.0.0
dependencies:
  <codeql-libraries-and-queries-to-test>: "*"
extractor: <language-of-code-to-test>
```

The `dependencies` value specifies the {% data variables.product.prodname_codeql %} packs containing queries to test.
Typically, these packs will be resolved from source, and so it is not necessary
to specify a fixed version of the pack. The `extractor` defines which language the CLI will use to create test databases from the code files stored in this {% data variables.product.prodname_codeql %} pack. For more information, see “[About {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/codeql-cli-reference/about-codeql-packs).”

You may find it useful to look at the way query tests are organized in the [{% data variables.product.prodname_codeql %} repository](https://github.com/github/codeql). Each language has a `src` directory, `ql/<language>/ql/src`, that contains libraries and queries for analyzing codebases. Alongside the `src` directory, there is a `test` directory with tests for
these libraries and queries.

Each `test` directory is configured as a test {% data variables.product.prodname_codeql %} pack with two subdirectories:

- `query-tests` a series of subdirectories with tests for queries stored in the `src` directory. Each subdirectory contains test code and a QL reference file that specifies the query to test.
- `library-tests` a series of subdirectories with tests for QL library files. Each subdirectory contains test code and queries that were written as unit tests for a library.

## Setting up the test files for a query

For each query you want to test, you should create a sub-directory in the test {% data variables.product.prodname_codeql %} pack.
Then add the following files to the subdirectory before you run the test command:

- A query reference file (`.qlref` file) defining the location of the query to test. The location is defined relative to the root of the {% data variables.product.prodname_codeql %} pack that contains the query. Usually, this is a {% data variables.product.prodname_codeql %} pack specified in the `dependencies` block of the test pack. For more information, see “[Query reference files](/code-security/code-scanning/codeql-cli-reference/query-reference-files).”

   You do not need to add a query reference file if the query you want to test is stored in the test directory, but it is generally good practice to store queries separately from tests. The only exception is unit tests for QL libraries, which tend to be stored in test packs, separate from queries that generate alerts or paths.

- The example code you want to run your query against. This should consist of one or more files containing examples of the code the query is designed to identify. 

You can also define the results you expect to see when you run the query against
the example code, by creating a file with the extension `.expected`. Alternatively, you can leave the test command to create the `.expected` file for you.

For an example showing how to create and test a query, see the [example](#example) below.

{% note %}

**Important:** Your `.ql`, `.qlref`, and `.expected` files must have consistent names.

If you want to directly specify the `.ql` file itself in the test command, it must have the same base name as the corresponding `.expected` file. For example, if the query is `MyJavaQuery.ql`, the expected results file must be `MyJavaQuery.expected`.

If you want to specify a `.qlref` file in the command, it must have the same base name as the corresponding `.expected` file, but the query itself may have a different name.

The names of the example code files don’t have to be consistent with the other test files. All example code files found next to the `.qlref` (or `.ql`) file and in any subdirectories will be used to create a test database. Therefore, for simplicity, we recommend you don’t save test files in directories that are ancestors of each other.

{% endnote %}

## Running `codeql test run`

{% data variables.product.prodname_codeql %} query tests are executed by running the following command:

```
codeql test run <test|dir>
```

The `<test|dir>` argument can be one or more of the following:

- Path to a `.ql` file.
- Path to a `.qlref` file that references a `.ql` file.
- Path to a directory that will be searched recursively for `.ql` and `.qlref` files.

You can also specify:

- `--threads:` optionally, the number of threads to use when running queries. The default option is `1`. You can specify more threads to speed up query execution. Specifying `0` matches the number of threads to the number of logical processors.

For full details of all the options you can use when testing queries, see the [test run reference documentation](https://codeql.github.com/docs/codeql-cli/manual/test-run/). 

## Example

The following example shows you how to set up a test for a query that searches
Java code for `if` statements that have empty `then` blocks. It includes
steps to add the custom query and corresponding test files to separate {% data variables.product.prodname_codeql %} packs
outside your checkout of the {% data variables.product.prodname_codeql %} repository. This ensures when you update the
{% data variables.product.prodname_codeql %} libraries, or check out a different branch, you won’t overwrite your
custom queries and tests.

### Prepare a query and test files

1. Develop the query. For example, the following simple query finds empty `then`
blocks in Java code:

   ```
   import java
   
   from IfStmt ifstmt
   where ifstmt.getThen() instanceof EmptyStmt
   select ifstmt, "This if statement has an empty then."
   ```

2. Save the query to a file named `EmptyThen.ql` in a directory with your
other custom queries. For example, `custom-queries/java/queries/EmptyThen.ql`.

3. If you haven’t already added your custom queries to a {% data variables.product.prodname_codeql %} pack, create a {% data variables.product.prodname_codeql %} pack now. For example, if your custom Java queries are stored in `custom-queries/java/queries`, add a `qlpack.yml` file with the following contents to `custom-queries/java/queries`:

   ```yaml
   name: my-custom-queries
   dependencies:
     codeql/java-queries: "*"
   ```

   For more information about {% data variables.product.prodname_codeql %} packs, see “[About {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/codeql-cli-reference/about-codeql-packs).”

4. Create a {% data variables.product.prodname_codeql %} pack for your Java tests by adding a `qlpack.yml` file with the following contents to `custom-queries/java/tests`, updating the `dependencies` to match the name of your {% data variables.product.prodname_codeql %} pack of custom queries:

  {% data reusables.codeql-cli.test-qlpack %}

5. Within the Java test pack, create a directory to contain the test files
associated with `EmptyThen.ql`. For example, `custom-queries/java/tests/EmptyThen`.

6. In the new directory, create `EmptyThen.qlref` to define the location of `EmptyThen.ql`. The path to the query must be specified relative to the root of
the {% data variables.product.prodname_codeql %} pack that contains the query. In this case, the query is in the
top level directory of the {% data variables.product.prodname_codeql %} pack named `my-custom-queries`,
which is declared as a dependency for `my-query-tests`. Therefore, `EmptyThen.qlref` should simply contain `EmptyThen.ql`.

7. Create a code snippet to test. The following Java code contains an empty `if` statement on the third line. Save it in `custom-queries/java/tests/EmptyThen/Test.java`.

   ```java
class Test {
  public void problem(String arg) {
    if (arg.isEmpty())
    ;
    {
        System.out.println("Empty argument");
    }
  }
  public void good(String arg) {
    if (arg.isEmpty()) {
        System.out.println("Empty argument");
    }
  }
}
   ```

### Execute the test

To execute the test, move into the `custom-queries` directory and run `codeql
test run java/tests/EmptyThen`.

When the test runs, it:

1. Finds one test in the `EmptyThen` directory.

2. Extracts a {% data variables.product.prodname_codeql %} database from the `.java` files stored in the `EmptyThen` directory.

3. Compiles the query referenced by the `EmptyThen.qlref` file.

   If this step fails, it’s because the CLI can’t find your custom {% data variables.product.prodname_codeql %} pack. Re-run the command and specify the location of your custom {% data variables.product.prodname_codeql %} pack, for example:

   `codeql test run --search-path=java java/tests/EmptyThen`

   For information about saving the search path as part of your configuration, see "[Specifying command options in a {% data variables.product.prodname_codeql %} configuration file](/code-security/code-scanning/using-the-codeql-cli/specifying-command-options-in-a-codeql-configuration-file)."

4. Executes the test by running the query and generating an `EmptyThen.actual` results file.

5. Checks for an `EmptyThen.expected` file to compare with the `.actual` results file.

6. Reports the results of the test — in this case, a failure: `0 tests passed; 1 tests failed:`. The test failed because we haven’t yet added a file with the expected results of the query.

### View the query test output

{% data variables.product.prodname_codeql %} generates the following files in the `EmptyThen` directory:

- `EmptyThen.actual`, a file that contains the actual results generated by the
query.
- `EmptyThen.testproj`, a test database that you can load into VS Code and use to debug failing tests. When tests complete successfully, this database is deleted in a housekeeping step. You can override this step by running `test run` with the `--keep-databases` option.

In this case, the failure was expected and is easy to fix. If you open the `EmptyThen.actual` file, you can see the results of the test:

```
| Test.java:3:5:3:22 | stmt | This if statement has an empty then. |
```

This file contains a table, with a column for the location of the result,
along with separate columns for each part of the `select` clause the query outputs.
Since the results are what we expected, we can update the file extension to define
this as the expected result for this test (`EmptyThen.expected`).

If you rerun the test now, the output will be similar but it will finish by reporting: `All 1 tests passed.`.

If the results of the query change, for example, if you revise the `select` statement for the query, the test will fail. For failed results, the CLI output includes a unified diff of the `EmptyThen.expected` and `EmptyThen.actual` files.
This information may be sufficient to debug trivial test failures.

For failures that are harder to debug, you can import `EmptyThen.testproj`
into {% data variables.product.prodname_codeql %} for VS Code, execute `EmptyThen.ql`, and view the results in the
`Test.java` example code. For more information, see “[Analyzing your projects](https://codeql.github.com/docs/codeql-for-visual-studio-code/analyzing-your-projects/#analyzing-your-projects)” in the {% data variables.product.prodname_codeql %} for VS Code help.

## Further reading
- “[{% data variables.product.prodname_codeql %} queries](https://codeql.github.com/docs/writing-codeql-queries/codeql-queries/#codeql-queries)”
- "[Testing {% data variables.product.prodname_codeql %} queries in Visual Studio Code](https://codeql.github.com/docs/codeql-for-visual-studio-code/testing-codeql-queries-in-visual-studio-code/#testing-codeql-queries-in-visual-studio-code)."
 73  
...nt/code-security/code-scanning/using-the-codeql-cli/testing-query-help-files.md
@@ -0,0 +1,73 @@
---
title: Testing query help files
intro: You can use the {% data variables.product.prodname_codeql_cli %} to preview your query help files as Markdown and ensure they are valid.
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About testing query help files

Test query help files by rendering them as Markdown to ensure they are valid before uploading them to the {% data variables.product.prodname_codeql %} repository or using them in code scanning.

<!-- capitalized Markdown -->

Query help is documentation that accompanies a query to explain how the query works, as well as providing information about the potential problem that the query identifies. It is good practice to write query help for all new queries. For more information, see [Contributing to {% data variables.product.prodname_codeql %}](https://github.com/github/codeql/blob/main/CONTRIBUTING.md) in the {% data variables.product.prodname_codeql %} repository.

The {% data variables.product.prodname_codeql_cli %} includes a command to test query help and render the content as markdown, so that you can easily preview the content in your IDE. Use the command to validate query help files before uploading them to the {% data variables.product.prodname_codeql %} repository or sharing them with other users. From {% data variables.product.prodname_codeql_cli %} 2.7.1 onwards, you can also include the markdown-rendered query help in SARIF files
generated during {% data variables.product.prodname_codeql %} analyses so that the query help can be displayed in the code scanning UI. For more information, see
“[Analyzing databases with the {% data variables.product.prodname_codeql_cli %}](/code-security/code-scanning/using-the-codeql-cli/analyzing-databases-with-the-codeql-cli).”

## Prerequisites

- The query help (`.qhelp`) file must have an accompanying query (`.ql`) file with an identical base name.
- The query help file should follow the standard structure and style for query help documentation. For more information, see the [Query help style guide](https://github.com/github/codeql/blob/main/docs/query-help-style-guide.md) in the {% data variables.product.prodname_codeql %} repository.

## Running `codeql generate query-help`

You can test query help files by running the following command:

```
codeql generate query-help <qhelp|query|dir|suite> --format=<format> [--output=<dir|file>]
```

where `<qhelp|query|dir|suite>` is one of:

- the path to a `.qhelp` file.
- the path to a `.ql` file.
- the path to a directory containing queries and query help files.
- the path to a query suite, or the name of a well-known query suite for a {% data variables.product.prodname_codeql %} pack. For more information, see “[Creating {% data variables.product.prodname_codeql %} query suites](/code-security/code-scanning/using-the-codeql-cli/creating-codeql-query-suites).”

You must specify a `--format` option, which defines how the query help is rendered. Currently, you must specify `markdown` to render the query help as markdown.

The `--output` option defines a file path where the rendered query help will be saved.

- For directories containing `.qhelp` files or a query suites defining one or more `.qhelp` files, you must specify an `--output` directory. Filenames within the output directory will be derived from the `.qhelp` file names.
- For single `.qhelp` or `.ql` files, you may specify an `--output` option. If you don’t specify an output path, the rendered query help is written to `stdout`.

For full details of all the options you can use when testing query help files, see the [generate query-help reference documentation](https://codeql.github.com/docs/codeql-cli/manual/generate-query-help/).

## Results

When you run the command, {% data variables.product.prodname_codeql %} attempts to render each `.qhelp` file that has an accompanying `.ql` file. For single files, the rendered content will be printed to `stdout` if you don’t specify an `--output` option. For all other use cases, the rendered content is saved to the specified output path.

By default, the {% data variables.product.prodname_codeql_cli %} will print a warning message if:

- Any of the query help is invalid, along with a description of the invalid query help elements
- Any `.qhelp` files specified in the command don’t have the same base name as an accompanying `.ql` file
- Any `.ql` files specified in the command don’t have the same base name as an accompanying `.qhelp` file

You can tell the {% data variables.product.prodname_codeql_cli %} how to handle these warnings by including a `--warnings` option in your command. For more information, see the [generate query-help reference documentation](https://codeql.github.com/docs/codeql-cli/manual/generate-query-help/#cmdoption-codeql-generate-query-help-warnings).

## Further reading

- “[Query help files](https://codeql.github.com/docs/writing-codeql-queries/query-help-files/#query-help-files)”
 74  
.../code-scanning/using-the-codeql-cli/using-custom-queries-with-the-codeql-cli.md
@@ -0,0 +1,74 @@
---
title: Using custom queries with the CodeQL CLI
intro: 'You can write your own {% data variables.product.prodname_codeql %} queries to find specific vulnerabilities and errors.'
product: '{% data reusables.gated-features.codeql %}'
versions:
  fpt: '*'
  ghes: '*'
  ghae: '*'
  ghec: '*'
topics:
  - Advanced Security
  - Code scanning
  - CodeQL
---

{% data reusables.codeql-cli.codeql-site-migration-note %}

## About custom queries and the {% data variables.product.prodname_codeql_cli %}

<!-- tweaked title to fit "About" styling of conceptual intro section -->

You can customize your {% data variables.product.prodname_codeql %} analyses by writing your own queries to highlight specific vulnerabilities or errors.

This topic is specifically about writing queries to use with the [database analyze](https://codeql.github.com/docs/codeql-cli/manual/database-analyze/) command to produce [interpreted results](https://codeql.github.com/docs/codeql-overview/about-codeql/#interpret-query-results).

{% data reusables.codeql-cli.advanced-query-execution %}

<!-- created a reusable since it's a reusable on the microsite -->

## Writing a valid query

Before running a custom analysis you need to write a valid query, and save it in a file with a `.ql` extension. There is extensive documentation available to help you write queries. For more information, see “[{% data variables.product.prodname_codeql %} queries](https://codeql.github.com/docs/writing-codeql-queries/codeql-queries/#codeql-queries).”

## Including query metadata

Query metadata is included at the top of each query file. It provides users with information about the query, and tells the {% data variables.product.prodname_codeql_cli %} how to process the query results.

When running queries with the `database analyze` command, you must include the following two properties to ensure that the results are interpreted correctly:

- Query identifier (`@id`): a sequence of words composed of lowercase letters or digits, delimited by `/` or `-`, identifying and classifying the query.

- Query type (`@kind`): identifies the query as a simple alert (`@kind problem`), an alert documented by a sequence of code locations (`@kind path-problem`), for extractor troubleshooting (`@kind diagnostic`), or a summary metric (`@kind metric` and `@tags summary`).

For more information about these metadata properties, see “[Metadata for {% data variables.product.prodname_codeql %} queries](https://codeql.github.com/docs/writing-codeql-queries/metadata-for-codeql-queries/#metadata-for-codeql-queries)” and the [Query metadata style guide](https://github.com/github/codeql/blob/main/docs/query-metadata-style-guide.md).

{% note %}

**Note:** Metadata requirements may differ if you want to use your query with other applications. For more information, see “[Metadata for {% data variables.product.prodname_codeql %} queries](https://codeql.github.com/docs/writing-codeql-queries/metadata-for-codeql-queries/#metadata-for-codeql-queries).”

{% endnote %}

## Packaging custom QL queries

{% data reusables.codeql-cli.beta-note-package-management %}

<!-- using reusable re-created by Felicity -->

When you write your own queries with the intention to share them with others, you should save them in a custom {% data variables.product.prodname_codeql %} pack. You can publish the pack as a {% data variables.product.prodname_codeql %} pack to {% data variables.product.prodname_registry %} - the {% data variables.product.prodname_dotcom %} {% data variables.product.prodname_container_registry %}. For more information, see “[About {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/using-the-codeql-cli/about-codeql-packs/#about-codeql-packs).”

<!-- tweaked to "For more information, see X" to match our style guide -->

{% data variables.product.prodname_codeql %} packs organize the files used in {% data variables.product.prodname_codeql %} analysis and can store queries, library files, query suites, and important metadata. Their root directory must contain a file named `qlpack.yml`. Your custom queries should be saved in the {% data variables.product.prodname_codeql %} pack root, or its subdirectories.

For each {% data variables.product.prodname_codeql %} pack, the `qlpack.yml` file includes information that tells the {% data variables.product.prodname_codeql_cli %} how to compile the queries, which other {% data variables.product.prodname_codeql %} packs and libraries the pack depends on, and where to find query suite definitions. For more information about what to include in this file, see “[About {% data variables.product.prodname_codeql %} packs](/code-security/code-scanning/using-the-codeql-cli/about-codeql-packs/#codeqlpack-yml-properties).”

## Contributing to the {% data variables.product.prodname_codeql %} repository

If you would like to share your query with other {% data variables.product.prodname_codeql %} users, you can open a pull request in the [{% data variables.product.prodname_codeql %} repository](https://github.com/github/codeql). For more information, see [Contributing to {% data variables.product.prodname_codeql %}](https://github.com/github/codeql/blob/main/CONTRIBUTING.md).

<!-- tweaked to "For more information, see X" to match our style guide -->

## Further reading

- “[{% data variables.product.prodname_codeql %} queries](https://codeql.github.com/docs/writing-codeql-queries/codeql-queries/#codeql-queries)”
  20  
...security/dependabot/dependabot-alerts/viewing-and-updating-dependabot-alerts.md
@@ -26,7 +26,7 @@ topics:
{% data reusables.dependabot.beta-security-and-version-updates %}	{% data reusables.dependabot.beta-security-and-version-updates %}
{% data reusables.dependabot.enterprise-enable-dependabot %}	{% data reusables.dependabot.enterprise-enable-dependabot %}


Your repository's {% data variables.product.prodname_dependabot_alerts %} tab lists all open and closed {% data variables.product.prodname_dependabot_alerts %}{% ifversion fpt or ghec or ghes %} and corresponding {% data variables.product.prodname_dependabot_security_updates %}{% endif %}. You can{% ifversion fpt or ghec or ghes > 3.4 or ghae > 3.4 %} filter alerts by package, ecosystem, or manifest. You can {% endif %} sort the list of alerts, and you can click into specific alerts for more details. {% ifversion dependabot-bulk-alerts %}You can also dismiss or reopen alerts, either one by one or by selecting multiple alerts at once.{% else %}You can also dismiss or reopen alerts. {% endif %} For more information, see "[About {% data variables.product.prodname_dependabot_alerts %}](/code-security/supply-chain-security/about-alerts-for-vulnerable-dependencies)." 	Your repository's {% data variables.product.prodname_dependabot_alerts %} tab lists all open and closed {% data variables.product.prodname_dependabot_alerts %}{% ifversion fpt or ghec or ghes %} and corresponding {% data variables.product.prodname_dependabot_security_updates %}{% endif %}. You can{% ifversion fpt or ghec or ghes > 3.4 or ghae > 3.4 %} filter alerts by package, ecosystem, or manifest. You can {% endif %} sort the list of alerts, and you can click into specific alerts for more details. {% ifversion dependabot-bulk-alerts %}You can also dismiss or reopen alerts, either one by one or by selecting multiple alerts at once.{% else %}You can also dismiss or reopen alerts. {% endif %} For more information, see "[About {% data variables.product.prodname_dependabot_alerts %}](/code-security/supply-chain-security/about-alerts-for-vulnerable-dependencies)."


{% ifversion fpt or ghec or ghes %}	{% ifversion fpt or ghec or ghes %}
You can enable automatic security updates for any repository that uses {% data variables.product.prodname_dependabot_alerts %} and the dependency graph. For more information, see "[About {% data variables.product.prodname_dependabot_security_updates %}](/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-dependabot-security-updates)."	You can enable automatic security updates for any repository that uses {% data variables.product.prodname_dependabot_alerts %} and the dependency graph. For more information, see "[About {% data variables.product.prodname_dependabot_security_updates %}](/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-dependabot-security-updates)."
@@ -51,7 +51,9 @@ You can filter and sort {% data variables.product.prodname_dependabot_alerts %}


{% data reusables.dependabot.dependabot-alerts-filters %}	{% data reusables.dependabot.dependabot-alerts-filters %}


In addition to the filters available via the search bar, you can sort and filter {% data variables.product.prodname_dependabot_alerts %} using the dropdown menus at the top of the alert list. The search bar also allows for full text searching of alerts and related security advisories. You can search for part of a security advisory name or description to return the alerts in your repository that relate to that security advisory. For example, searching for `yaml.load() API could execute arbitrary code` will return {% data variables.product.prodname_dependabot_alerts %} linked to "[PyYAML insecurely deserializes YAML strings leading to arbitrary code execution](https://github.com/advisories/GHSA-rprw-h62v-c2w7)" as the search string appears in the advisory description.	In addition to the filters available via the search bar, you can sort and filter {% data variables.product.prodname_dependabot_alerts %} using the dropdown menus at the top of the alert list. {% ifversion dependabot-filter-label-security-advisory %}Alternatively, to filter by label, click a label assigned to an alert to automatically apply that filter to the alert list.{% endif %}

The search bar also allows for full text searching of alerts and related security advisories. You can search for part of a security advisory name or description to return the alerts in your repository that relate to that security advisory. For example, searching for `yaml.load() API could execute arbitrary code` will return {% data variables.product.prodname_dependabot_alerts %} linked to "[PyYAML insecurely deserializes YAML strings leading to arbitrary code execution](https://github.com/advisories/GHSA-rprw-h62v-c2w7)" as the search string appears in the advisory description.


{% endif %}	{% endif %}


@@ -80,7 +82,7 @@ The alert details page of alerts on development-scoped packages shows a "Tags" s


{% data reusables.dependabot.vulnerable-calls-beta %}	{% data reusables.dependabot.vulnerable-calls-beta %}


When {% data variables.product.prodname_dependabot %} tells you that your repository uses a vulnerable dependency, you need to determine what the vulnerable functions are and check whether you are using them. Once you have this information, then you can determine how urgently you need to upgrade to a secure version of the dependency. 	When {% data variables.product.prodname_dependabot %} tells you that your repository uses a vulnerable dependency, you need to determine what the vulnerable functions are and check whether you are using them. Once you have this information, then you can determine how urgently you need to upgrade to a secure version of the dependency.


For supported languages, {% data variables.product.prodname_dependabot %} automatically detects whether you use a vulnerable function and adds the label "Vulnerable call" to affected alerts. You can use this information in the {% data variables.product.prodname_dependabot_alerts %} view to triage and prioritize remediation work more effectively.	For supported languages, {% data variables.product.prodname_dependabot %} automatically detects whether you use a vulnerable function and adds the label "Vulnerable call" to affected alerts. You can use this information in the {% data variables.product.prodname_dependabot_alerts %} view to triage and prioritize remediation work more effectively.


@@ -111,7 +113,7 @@ For more information, see "[Reviewing and fixing alerts](#reviewing-and-fixing-a
{% data reusables.repositories.navigate-to-repo %}	{% data reusables.repositories.navigate-to-repo %}
{% data reusables.repositories.sidebar-security %}	{% data reusables.repositories.sidebar-security %}
{% data reusables.repositories.sidebar-dependabot-alerts %}	{% data reusables.repositories.sidebar-dependabot-alerts %}
1. Optionally, to filter alerts, select a filter in a dropdown menu then click the filter that you would like to apply. You can also type filters into the search bar. For more information about filtering and sorting alerts, see "[Prioritizing {% data variables.product.prodname_dependabot_alerts %}](#prioritizing-across--data-variablesproductprodname_dependabot_alerts-)."	1. Optionally, to filter alerts, select a filter in a dropdown menu then click the filter that you would like to apply. You can also type filters into the search bar. {% ifversion dependabot-filter-label-security-advisory %}Alternatively, to filter by label, click a label assigned to an alert to automatically apply that filter to the alert list.{% endif %} For more information about filtering and sorting alerts, see "[Prioritizing {% data variables.product.prodname_dependabot_alerts %}](#prioritizing-dependabot-alerts)."
{%- ifversion dependabot-bulk-alerts %}	{%- ifversion dependabot-bulk-alerts %}
  ![Screenshot of the filter and sort menus in the {% data variables.product.prodname_dependabot_alerts %} tab](/assets/images/help/graphs/dependabot-alerts-filters-checkbox.png){% else %}	  ![Screenshot of the filter and sort menus in the {% data variables.product.prodname_dependabot_alerts %} tab](/assets/images/help/graphs/dependabot-alerts-filters-checkbox.png){% else %}
   ![Screenshot of the filter and sort menus in the {% data variables.product.prodname_dependabot_alerts %} tab](/assets/images/enterprise/3.5/dependabot/dependabot-alerts-filters.png){% endif %}	   ![Screenshot of the filter and sort menus in the {% data variables.product.prodname_dependabot_alerts %} tab](/assets/images/enterprise/3.5/dependabot/dependabot-alerts-filters.png){% endif %}
@@ -125,13 +127,17 @@ For more information, see "[Reviewing and fixing alerts](#reviewing-and-fixing-a
{% data reusables.repositories.sidebar-dependabot-alerts %}	{% data reusables.repositories.sidebar-dependabot-alerts %}
1. Click the alert you'd like to view.	1. Click the alert you'd like to view.
  ![Alert selected in list of alerts](/assets/images/help/graphs/click-alert-in-alerts-list.png)	  ![Alert selected in list of alerts](/assets/images/help/graphs/click-alert-in-alerts-list.png)
{% endif %}{% ifversion dependabot-filter-label-security-advisory %}
1. Optionally, to suggest an improvement to the related security advisory, on the right-hand side of the alert details page, click **Suggest improvements for this advisory on the {% data variables.product.prodname_advisory_database %}**. For more information, see "[Editing security advisories in the GitHub Advisory Database](/code-security/security-advisories/global-security-advisories/editing-security-advisories-in-the-github-advisory-database)."

   ![Screenshot showing link to {% data variables.product.prodname_advisory_database %}](/assets/images/help/dependabot/dependabot-improve-security-advisory.png)
{% endif %}	{% endif %}


## Reviewing and fixing alerts	## Reviewing and fixing alerts


It’s important to ensure that all of your dependencies are clean of any security weaknesses. When {% data variables.product.prodname_dependabot %} discovers vulnerabilities {% ifversion GH-advisory-db-supports-malware %}or malware{% endif %} in your dependencies, you should assess your project’s level of exposure and determine what remediation steps to take to secure your application.	It’s important to ensure that all of your dependencies are clean of any security weaknesses. When {% data variables.product.prodname_dependabot %} discovers vulnerabilities {% ifversion GH-advisory-db-supports-malware %}or malware{% endif %} in your dependencies, you should assess your project’s level of exposure and determine what remediation steps to take to secure your application.


If a patched version of the dependency is available, you can generate a {% data variables.product.prodname_dependabot %} pull request to update this dependency directly from a {% data variables.product.prodname_dependabot %} alert. If you have {% data variables.product.prodname_dependabot_security_updates %} enabled, the pull request may be linked will in the Dependabot alert. 	If a patched version of the dependency is available, you can generate a {% data variables.product.prodname_dependabot %} pull request to update this dependency directly from a {% data variables.product.prodname_dependabot %} alert. If you have {% data variables.product.prodname_dependabot_security_updates %} enabled, the pull request may be linked in the {% data variables.product.prodname_dependabot %} alert.


In cases where a patched version is not available, or you can’t update to the secure version, {% data variables.product.prodname_dependabot %} shares additional information to help you determine next steps. When you click through to view a {% data variables.product.prodname_dependabot %} alert, you can see the full details of the security advisory for the dependency including the affected functions. You can then check whether your code calls the impacted functions. This information can help you further assess your risk level, and determine workarounds or if you’re able to accept the risk represented by the security advisory.	In cases where a patched version is not available, or you can’t update to the secure version, {% data variables.product.prodname_dependabot %} shares additional information to help you determine next steps. When you click through to view a {% data variables.product.prodname_dependabot %} alert, you can see the full details of the security advisory for the dependency including the affected functions. You can then check whether your code calls the impacted functions. This information can help you further assess your risk level, and determine workarounds or if you’re able to accept the risk represented by the security advisory.


@@ -151,7 +157,7 @@ For supported languages, {% data variables.product.prodname_dependabot %} detect
{% elsif ghae %}	{% elsif ghae %}
1. You can use the information on the page to decide which version of the dependency to upgrade to and create a pull request to the manifest or lock file to a secure version.	1. You can use the information on the page to decide which version of the dependency to upgrade to and create a pull request to the manifest or lock file to a secure version.
{% endif %}	{% endif %}
1. When you're ready to update your dependency and resolve the vulnerability, merge the pull request. 	1. When you're ready to update your dependency and resolve the vulnerability, merge the pull request.


{% ifversion fpt or ghec or ghes %}	{% ifversion fpt or ghec or ghes %}
   Each pull request raised by {% data variables.product.prodname_dependabot %} includes information on commands you can use to control {% data variables.product.prodname_dependabot %}. For more information, see "[Managing pull requests for dependency updates](/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/managing-pull-requests-for-dependency-updates#managing-dependabot-pull-requests-with-comment-commands)."	   Each pull request raised by {% data variables.product.prodname_dependabot %} includes information on commands you can use to control {% data variables.product.prodname_dependabot %}. For more information, see "[Managing pull requests for dependency updates](/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/managing-pull-requests-for-dependency-updates#managing-dependabot-pull-requests-with-comment-commands)."
@@ -231,7 +237,7 @@ You can view all open alerts, and you can reopen alerts that have been previousl


{% endif %}	{% endif %}


 	
## Reviewing the audit logs for {% data variables.product.prodname_dependabot_alerts %}	## Reviewing the audit logs for {% data variables.product.prodname_dependabot_alerts %}


When a member of your organization {% ifversion not fpt %}or enterprise {% endif %}performs an action related to {% data variables.product.prodname_dependabot_alerts %}, you can review the actions in the audit log. For more information about accessing the log, see "[Reviewing the audit log for your organization](/organizations/keeping-your-organization-secure/reviewing-the-audit-log-for-your-organization#accessing-the-audit-log){% ifversion not fpt %}" and "[Accessing the audit log for your enterprise](/admin/monitoring-activity-in-your-enterprise/reviewing-audit-logs-for-your-enterprise/accessing-the-audit-log-for-your-enterprise)."{% else %}."{% endif %}	When a member of your organization {% ifversion not fpt %}or enterprise {% endif %}performs an action related to {% data variables.product.prodname_dependabot_alerts %}, you can review the actions in the audit log. For more information about accessing the log, see "[Reviewing the audit log for your organization](/organizations/keeping-your-organization-secure/reviewing-the-audit-log-for-your-organization#accessing-the-audit-log){% ifversion not fpt %}" and "[Accessing the audit log for your enterprise](/admin/monitoring-activity-in-your-enterprise/reviewing-audit-logs-for-your-enterprise/accessing-the-audit-log-for-your-enterprise)."{% else %}."{% endif %}
  17  
...dependabot-version-updates/configuration-options-for-the-dependabot.yml-file.md
@@ -249,6 +249,9 @@ Supported options
{% endnote %}	{% endnote %}


- `prefix` specifies a prefix for all commit messages.	- `prefix` specifies a prefix for all commit messages.
   When you specify a prefix for commit messages, {% data variables.product.prodname_dotcom %} will automatically add a colon between the defined prefix and the commit message provided the defined prefix ends with a letter, number, closing parenthesis, or closing bracket. This means that, for example, if you end the prefix with a whitespace, there will be no colon added between the prefix and the commit message.
   The code snippet below provides examples of both in the same configuration file.

- `prefix-development` specifies a separate prefix for all commit messages that update dependencies in the Development dependency group. When you specify a value for this option, the `prefix` is used only for updates to dependencies in the Production dependency group. This is supported by: `bundler`, `composer`, `mix`, `maven`, `npm`, and `pip`.	- `prefix-development` specifies a separate prefix for all commit messages that update dependencies in the Development dependency group. When you specify a value for this option, the `prefix` is used only for updates to dependencies in the Production dependency group. This is supported by: `bundler`, `composer`, `mix`, `maven`, `npm`, and `pip`.
- `include: "scope"` specifies that any prefix is followed by a list of the dependencies updated in the commit.	- `include: "scope"` specifies that any prefix is followed by a list of the dependencies updated in the commit.


@@ -264,15 +267,23 @@ updates:
    schedule:	    schedule:
      interval: "weekly"	      interval: "weekly"
    commit-message:	    commit-message:
      # Prefix all commit messages with "npm"	      # Prefix all commit messages with "npm: "
      prefix: "npm"	      prefix: "npm"
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "weekly"
    commit-message:
      # Prefix all commit messages with "[docker] " (no colon, but a trailing whitespace)
      prefix: "[docker] "
  - package-ecosystem: "composer"	  - package-ecosystem: "composer"
    directory: "/"	    directory: "/"
    schedule:	    schedule:
      interval: "weekly"	      interval: "weekly"
    # Prefix all commit messages with "Composer"	    # Prefix all commit messages with "Composer" plus its scope, that is, a
    # include a list of updated dependencies	    # list of updated dependencies
    commit-message:	    commit-message:
      prefix: "Composer"	      prefix: "Composer"
      include: "scope"	      include: "scope"
  2  
content/code-security/getting-started/securing-your-repository.md
@@ -39,7 +39,7 @@ From the main page of your repository, click **{% octicon "gear" aria-label="The
## Managing the dependency graph	## Managing the dependency graph


{% ifversion fpt or ghec %}	{% ifversion fpt or ghec %}
The dependency graph is automatically generated for all public repositories, and you can choose to enable it for private repositories. It interprets manifest and lock files in a repository to identify dependencies.	{% data reusables.dependency-graph.feature-availability %} The dependency graph interprets manifest and lock files in a repository to identify dependencies.


1. From the main page of your repository, click **{% octicon "gear" aria-label="The Settings gear" %} Settings**.	1. From the main page of your repository, click **{% octicon "gear" aria-label="The Settings gear" %} Settings**.
1. Click **Security & analysis**.	1. Click **Security & analysis**.
  16  
content/code-security/index.md
@@ -8,11 +8,11 @@ featuredLinks:
  guides:	  guides:
    - /code-security/getting-started/securing-your-repository	    - /code-security/getting-started/securing-your-repository
    - /code-security/getting-started/securing-your-organization	    - /code-security/getting-started/securing-your-organization
    - '{% ifversion fpt or ghec %}/code-security/repository-security-advisories/creating-a-repository-security-advisory{% endif %}'	    - '{% ifversion fpt or ghec %}/code-security/security-advisories/repository-security-advisories/creating-a-repository-security-advisory{% endif %}'
    - '{% ifversion ghes or ghae %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning-for-a-repository{% endif%}'	    - '{% ifversion ghes or ghae %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning-for-a-repository{% endif%}'
  guideCards:	  guideCards:
    - '{% ifversion fpt or ghec or ghes > 3.2 %}/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/configuring-dependabot-security-updates{% endif %}'	    - '{% ifversion fpt or ghec or ghes > 3.2 %}/code-security/dependabot/dependabot-security-updates/configuring-dependabot-security-updates{% endif %}'
    - '{% ifversion fpt or ghec or ghes > 3.2 %}/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/enabling-and-disabling-dependabot-version-updates{% endif %}'	    - '{% ifversion fpt or ghec or ghes > 3.2 %}/code-security/dependabot/dependabot-version-updates/configuring-dependabot-version-updates{% endif %}'
    - '{% ifversion fpt or ghec or ghes > 3.2 %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning-for-a-repository{% endif %}'	    - '{% ifversion fpt or ghec or ghes > 3.2 %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-code-scanning-for-a-repository{% endif %}'
    - '{% ifversion ghes < 3.3 %}/code-security/supply-chain-security/understanding-your-software-supply-chain/exploring-the-dependencies-of-a-repository{% endif %}'	    - '{% ifversion ghes < 3.3 %}/code-security/supply-chain-security/understanding-your-software-supply-chain/exploring-the-dependencies-of-a-repository{% endif %}'
    - '{% ifversion ghes < 3.3 %}/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/configuring-notifications-for-vulnerable-dependencies{% endif %}'	    - '{% ifversion ghes < 3.3 %}/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/configuring-notifications-for-vulnerable-dependencies{% endif %}'
@@ -22,13 +22,13 @@ featuredLinks:
    - /code-security/supply-chain-security/end-to-end-supply-chain/end-to-end-supply-chain-overview	    - /code-security/supply-chain-security/end-to-end-supply-chain/end-to-end-supply-chain-overview
  popular:	  popular:
    - '{% ifversion ghes %}/admin/release-notes{% endif %}'	    - '{% ifversion ghes %}/admin/release-notes{% endif %}'
    - /code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-alerts-for-vulnerable-dependencies	    - /code-security/dependabot/dependabot-alerts/about-dependabot-alerts
    - /code-security/security-advisories/guidance-on-reporting-and-writing/about-coordinated-disclosure-of-security-vulnerabilities	    - /code-security/security-advisories/guidance-on-reporting-and-writing/about-coordinated-disclosure-of-security-vulnerabilities
    - /code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/keeping-your-actions-up-to-date-with-dependabot	    - /code-security/dependabot/working-with-dependabot/keeping-your-actions-up-to-date-with-dependabot
    - /code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/configuration-options-for-dependency-updates	    - /code-security/dependabot/dependabot-version-updates/configuration-options-for-the-dependabot.yml-file
    - /code-security/supply-chain-security/keeping-your-dependencies-updated-automatically/managing-encrypted-secrets-for-dependabot	    - /code-security/dependabot/working-with-dependabot/managing-encrypted-secrets-for-dependabot
    - '{% ifversion ghae %}/code-security/secret-scanning/about-secret-scanning{% endif %}'	    - '{% ifversion ghae %}/code-security/secret-scanning/about-secret-scanning{% endif %}'
    - /code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/troubleshooting-the-detection-of-vulnerable-dependencies	    - /code-security/dependabot/working-with-dependabot/troubleshooting-the-detection-of-vulnerable-dependencies
    - '{% ifversion ghes < 3.3 or ghae %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-the-codeql-workflow-for-compiled-languages{% endif %}'	    - '{% ifversion ghes < 3.3 or ghae %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/configuring-the-codeql-workflow-for-compiled-languages{% endif %}'
    - '{% ifversion ghes < 3.3 or ghae %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow{% endif %}'	    - '{% ifversion ghes < 3.3 or ghae %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/troubleshooting-the-codeql-workflow{% endif %}'
    - '{% ifversion ghes < 3.3 or ghae %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/running-codeql-code-scanning-in-a-container{% endif %}'	    - '{% ifversion ghes < 3.3 or ghae %}/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/running-codeql-code-scanning-in-a-container{% endif %}'
  54  
content/code-security/secret-scanning/managing-alerts-from-secret-scanning.md
@@ -21,7 +21,7 @@ shortTitle: Manage secret alerts
---	---


{% data reusables.secret-scanning.beta %}	{% data reusables.secret-scanning.beta %}
{% data reusables.secret-scanning.secret-scanning-alerts-beta %} 	{% data reusables.secret-scanning.secret-scanning-alerts-beta %}


## Managing {% data variables.secret-scanning.alerts %}	## Managing {% data variables.secret-scanning.alerts %}


@@ -35,41 +35,61 @@ shortTitle: Manage secret alerts


{% data reusables.repositories.navigate-to-repo %}	{% data reusables.repositories.navigate-to-repo %}
{% data reusables.repositories.sidebar-security %}	{% data reusables.repositories.sidebar-security %}
1. In the left sidebar, click **Secret scanning alerts**.	1. In the left sidebar, click **{% data variables.product.prodname_secret_scanning_caps %} alerts**.
   {% ifversion fpt or ghes or ghec %}	   {% ifversion fpt or ghes or ghec %}
   !["Secret scanning alerts" tab](/assets/images/help/repository/sidebar-secrets.png)	   ![Screenshot of the "{% data variables.product.prodname_secret_scanning_caps %} alerts" tab](/assets/images/help/repository/sidebar-secrets.png)
   {% endif %}	   {% endif %}
   {% ifversion ghae %}	   {% ifversion ghae %}
   !["Secret scanning alerts" tab](/assets/images/enterprise/github-ae/repository/sidebar-secrets-ghae.png)	   ![Screenshot of the "{% data variables.product.prodname_secret_scanning_caps %} alerts" tab](/assets/images/enterprise/github-ae/repository/sidebar-secrets-ghae.png)
   {% endif %}	   {% endif %}
1. Under "Secret scanning" click the alert you want to view.	1. Under "{% data variables.product.prodname_secret_scanning_caps %}" click the alert you want to view.
   {% ifversion fpt %}	   {% ifversion fpt %}
   ![List of alerts from secret scanning](/assets/images/help/repository/secret-scanning-alerts-click-alert-fpt.png)	   ![Screenshot of the list of alerts from {% data variables.product.prodname_secret_scanning %}](/assets/images/help/repository/secret-scanning-alerts-click-alert-fpt.png)
   {% endif %}	   {% endif %}
   {% ifversion ghec %}	   {% ifversion ghec %}
   ![List of alerts from secret scanning](/assets/images/help/repository/secret-scanning-click-alert-ghec.png)	   ![Screenshot of the list of alerts from {% data variables.product.prodname_secret_scanning %}](/assets/images/help/repository/secret-scanning-click-alert-ghec.png)
   {% endif %}	   {% endif %}
   {% ifversion ghes %}	   {% ifversion ghes %}
   ![List of alerts from secret scanning](/assets/images/help/repository/secret-scanning-click-alert-ghe.png)	   ![Screenshot of the list of alerts from {% data variables.product.prodname_secret_scanning %}](/assets/images/help/repository/secret-scanning-click-alert-ghe.png)
   {% endif %}	   {% endif %}
   {% ifversion ghae %}	   {% ifversion ghae %}
   ![List of alerts from secret scanning](/assets/images/enterprise/github-ae/repository/secret-scanning-click-alert-ghae.png)	   ![Screenshot of the list of alerts from {% data variables.product.prodname_secret_scanning %}](/assets/images/enterprise/github-ae/repository/secret-scanning-click-alert-ghae.png)
   {% endif %}{% ifversion secret-scanning-partner-documentation-link-UI %}	   {% endif %}{% ifversion secret-scanning-validity-check %}
1. To dismiss an alert, select the "Dismiss alert" dropdown menu and click a reason for resolving an alert.	1. Check the validity of the secret and follow the remediation steps.


   ![Screenshot of the dropdown menu for dismissing an alert from secret scanning showing link to partner documentation](/assets/images/help/repository/secret-scanning-dismiss-alert-web-ui-link-partner-documentation.png)	   ![Screenshot of the validity check for a {% data variables.product.company_short %} token](/assets/images/help/repository/secret-scanning-validity-check.png)

   {% note %}

   **Note:** Validity check for {% data variables.product.company_short %} tokens is currently in public beta and subject to change.

   {% endnote %}

   {% data variables.product.company_short %} provides information about the validity of the secret, for {% data variables.product.company_short %} tokens only.

   | Validity                |     Result                                                                           |
   |-------------------------|--------------------------------------------------------------------------------|
   | Active secret           | {% data variables.product.company_short %} confirmed this secret is active                                         |
   | Active secret           | {% data variables.product.company_short %} checked with this secret's provider and found that the secret is active |
   | Possibly active secret  | {% data variables.product.company_short %} does not support validation checks for this token type yet               |
   | Possibly active secret  | {% data variables.product.company_short %} could not verify this secret                                            |
   | Secret appears inactive | You should make sure no unauthorized access has already occurred                 |
{% endif %}{% ifversion secret-scanning-partner-documentation-link-UI %}
1. To dismiss an alert, select the "Close as" dropdown menu and click a reason for resolving an alert.

   ![Screenshot of the dropdown menu for dismissing an alert from {% data variables.product.prodname_secret_scanning %} showing link to partner documentation](/assets/images/help/repository/secret-scanning-dismiss-alert-web-ui-link-partner-documentation.png)


   {% else %}	   {% else %}
1. To dismiss an alert, select the "Mark as" dropdown menu and click a reason for resolving an alert.	2. To dismiss an alert, select the "Mark as" dropdown menu and click a reason for resolving an alert.


   ![Screenshot of the dropdown menu for resolving an alert from secret scanning](/assets/images/enterprise/3.2/repository/secret-scanning-resolve-alert-ghe.png)	   ![Screenshot of the dropdown menu for resolving an alert from {% data variables.product.prodname_secret_scanning %}](/assets/images/enterprise/3.2/repository/secret-scanning-resolve-alert-ghe.png)


   {% endif %}{% ifversion secret-scanning-dismissal-comment %}	   {% endif %}{% ifversion secret-scanning-dismissal-comment %}
1. Optionally, add a dismissal comment. The dismissal comment will be added to the alert timeline and can be used as justification during auditing and reporting. You can view the history of all dismissed alerts and dismissal comments in the alert timeline. You can also retrieve or set a comment by using the {% data variables.product.prodname_secret_scanning_caps %} API. The comment is contained in the `resolution_comment` field. For more information, see "[{% data variables.product.prodname_secret_scanning_caps %}](/rest/secret-scanning#update-a-secret-scanning-alert)" in the REST API documentation.	3. Optionally, add a dismissal comment. The dismissal comment will be added to the alert timeline and can be used as justification during auditing and reporting. You can view the history of all dismissed alerts and dismissal comments in the alert timeline. You can also retrieve or set a comment by using the {% data variables.product.prodname_secret_scanning_caps %} API. The comment is contained in the `resolution_comment` field. For more information, see "[{% data variables.product.prodname_secret_scanning_caps %}](/rest/secret-scanning#update-a-secret-scanning-alert)" in the REST API documentation.


  ![Screenshot showing how to dismiss an alert via the "Dismiss alert" dropdown, with the option to add a dismissal comment](/assets/images/help/repository/secret-scanning-dismissal-comment.png)	   ![Screenshot showing how to dismiss an alert via the "Dismiss alert" dropdown, with the option to add a dismissal comment](/assets/images/help/repository/secret-scanning-dismissal-comment.png)


1. Click **Dismiss alert**.	4. Click **Close alert**.
{% endif %}	{% endif %}


## Securing compromised secrets	## Securing compromised secrets
  11  
...security/understanding-your-software-supply-chain/about-the-dependency-graph.md
@@ -33,12 +33,21 @@ When you create a pull request containing changes to dependencies that targets t


## Dependency graph availability	## Dependency graph availability


{% ifversion fpt or ghec %}The dependency graph is available for every public repository that defines dependencies in a supported package ecosystem using a supported file format. Repository administrators can also set up the dependency graph for private repositories. {% endif %}For more information {% ifversion ghes %}about configuration of the dependency graph{% endif %}, see "[Configuring the dependency graph](/code-security/supply-chain-security/understanding-your-software-supply-chain/configuring-the-dependency-graph)."	{% ifversion fpt or ghec %}
{% data reusables.dependency-graph.feature-availability %} For more information, see "[Managing security and analysis settings for your repository](/repositories/managing-your-repositorys-settings-and-features/enabling-features-for-your-repository/managing-security-and-analysis-settings-for-your-repository)."

Repository administrators can also set up the dependency graph for private repositories. For more information, see "[Configuring the dependency graph](/code-security/supply-chain-security/understanding-your-software-supply-chain/configuring-the-dependency-graph)."

{% endif %}


{% data reusables.code-scanning.enterprise-enable-dependency-graph %}	{% data reusables.code-scanning.enterprise-enable-dependency-graph %}


{% data reusables.dependabot.dependabot-alerts-dependency-graph-enterprise %}	{% data reusables.dependabot.dependabot-alerts-dependency-graph-enterprise %}


{% ifversion ghes %}
For more information about configuration of the dependency graph, see "[Configuring the dependency graph](/code-security/supply-chain-security/understanding-your-software-supply-chain/configuring-the-dependency-graph)."{% endif %}


## Dependencies included	## Dependencies included


The dependency graph includes all the dependencies of a repository that are detailed in the manifest and lock files, or their equivalent, for supported ecosystems{% ifversion dependency-submission-api %}, as well as any dependencies that are submitted using the Dependency submission API (beta){% endif %}. This includes:	The dependency graph includes all the dependencies of a repository that are detailed in the manifest and lock files, or their equivalent, for supported ecosystems{% ifversion dependency-submission-api %}, as well as any dependencies that are submitted using the Dependency submission API (beta){% endif %}. This includes:
  13  
...nderstanding-your-software-supply-chain/troubleshooting-the-dependency-graph.md
@@ -48,7 +48,18 @@ Yes, the dependency graph has two categories of limits:


    Manifests over 0.5 MB in size are only processed for enterprise accounts. For other accounts, manifests over 0.5 MB are ignored and will not create {% data variables.product.prodname_dependabot_alerts %}.	    Manifests over 0.5 MB in size are only processed for enterprise accounts. For other accounts, manifests over 0.5 MB are ignored and will not create {% data variables.product.prodname_dependabot_alerts %}.


    By default, {% data variables.product.prodname_dotcom %} will not process more than {% ifversion fpt %}150{% else %}600{% endif %} manifests per repository. {% data variables.product.prodname_dependabot_alerts %} are not created for manifests beyond this limit. If you need to increase the limit, contact {% data variables.contact.contact_support %}. 	    By default, {% data variables.product.prodname_dotcom %} will not process more than {% ifversion fpt %}150{% else %}600{% endif %} manifests per repository. {% data variables.product.prodname_dependabot_alerts %} are not created for manifests beyond this limit. If you need to increase the limit, contact {% data variables.contact.contact_support %}.

    Manifest files stored in directories with names that are typically used for vendored dependencies will not be processed. A directory whose name matches the following regular expressions is considered a vendored dependencies directory:
      - <code>(3rd|[Tt]hird)[-_]?[Pp]arty/</code>
      - <code>(^|/)vendors?/</code>
      - <code>^|/)[Ee]xtern(als?)?/</code>
      - <code>(^|/)[Vv]+endor/</code>

      Examples: 
      - third-party/dependencies/dependency1
      - vendors/dependency1
      - /externals/vendor1/dependency1


2. **Visualization limits**	2. **Visualization limits**


  80  
content/codespaces/developing-in-codespaces/forwarding-ports-in-your-codespace.md
@@ -1,6 +1,8 @@
---	---
title: Forwarding ports in your codespace	title: Forwarding ports in your codespace
shortTitle: Forward ports
intro: '{% data reusables.codespaces.about-port-forwarding %}'	intro: '{% data reusables.codespaces.about-port-forwarding %}'
miniTocMaxHeadingLevel: 3
versions:	versions:
  fpt: '*'	  fpt: '*'
  ghec: '*'	  ghec: '*'
@@ -11,7 +13,6 @@ topics:
  - Codespaces	  - Codespaces
  - Fundamentals	  - Fundamentals
  - Developer	  - Developer
shortTitle: Forward ports	
---	---


{% jetbrains %}	{% jetbrains %}
@@ -30,30 +31,39 @@ Port forwarding gives you access to TCP ports running within your codespace. For
{% data reusables.codespaces.navigate-to-ports-tab %}	{% data reusables.codespaces.navigate-to-ports-tab %}
1. Under the list of ports, click **Add port**.	1. Under the list of ports, click **Add port**.


   ![Add port button](/assets/images/help/codespaces/add-port-button.png)	   ![Screenshot of the 'Add port' button](/assets/images/help/codespaces/add-port-button.png)


1. Type the port number or address, then press enter.	1. Type the port number or address, then press enter.


   ![Text box to type port button](/assets/images/help/codespaces/port-number-text-box.png)	   ![Screenshot of entering a port number](/assets/images/help/codespaces/port-number-text-box.png)


## Using HTTPS forwarding	## Using HTTPS forwarding


By default, {% data variables.product.prodname_github_codespaces %} forwards ports using HTTP but you can update any port to use HTTPS, as needed. If you update a port with public visibility to use HTTPS, the port's visibility will automatically change to private.	By default, {% data variables.product.prodname_github_codespaces %} forwards ports using HTTP but you can update any port to use HTTPS, as needed. If you update a port with public visibility to use HTTPS, the port's visibility will automatically change to private.


{% data reusables.codespaces.navigate-to-ports-tab %}	{% data reusables.codespaces.navigate-to-ports-tab %}
1. Right click the port you want to update, then hover over **Change Port Protocol**.	1. Right-click the port you want to update, then hover over **Change Port Protocol**.
  ![Option to change port protocol](/assets/images/help/codespaces/update-port-protocol.png)	
   ![Screenshot of the option to change port protocol](/assets/images/help/codespaces/update-port-protocol.png)

1. Select the protocol needed for this port. The protocol that you select will be remembered for this port for the lifetime of the codespace.	1. Select the protocol needed for this port. The protocol that you select will be remembered for this port for the lifetime of the codespace.


{% data reusables.codespaces.port-forwarding-sharing-non-jetbrains %}	{% data reusables.codespaces.port-forwarding-sharing-non-jetbrains %}


{% data reusables.codespaces.navigate-to-ports-tab %}	{% data reusables.codespaces.navigate-to-ports-tab %}
1. Right click the port that you want to share, select the "Port Visibility" menu, then click **Private to Organization** or **Public**.	1. Right-click the port that you want to share, click the **Port Visibility**, then click **Private to Organization** or **Public**.
  ![Option to select port visibility in right-click menu](/assets/images/help/codespaces/make-public-option.png)	
   ![Screenshot of the 'Port visibility' option in the right-click menu](/assets/images/help/codespaces/make-public-option.png)

1. To the right of the local address for the port, click the copy icon.	1. To the right of the local address for the port, click the copy icon.
  ![Copy icon for port URL](/assets/images/help/codespaces/copy-icon-port-url.png)	
   ![Screenshot of the copy icon for the port URL](/assets/images/help/codespaces/copy-icon-port-url.png)

1. Send the copied URL to the person you want to share the port with.	1. Send the copied URL to the person you want to share the port with.


{% data reusables.codespaces.using-tools-to-access-ports-1 %}
{% data reusables.codespaces.find-address-and-token %}
{% data reusables.codespaces.using-tools-to-access-ports-2 %}
{% data reusables.codespaces.port-forwarding-labeling-non-jetbrains %}	{% data reusables.codespaces.port-forwarding-labeling-non-jetbrains %}
{% data reusables.codespaces.port-forwarding-adding-non-jetbrains %}	{% data reusables.codespaces.port-forwarding-adding-non-jetbrains %}


@@ -65,21 +75,27 @@ By default, {% data variables.product.prodname_github_codespaces %} forwards por
{% data reusables.codespaces.navigate-to-ports-tab %}	{% data reusables.codespaces.navigate-to-ports-tab %}
1. Under the list of ports, click **Add port**.	1. Under the list of ports, click **Add port**.


   ![Add port button](/assets/images/help/codespaces/add-port-button.png)	   ![Screenshot of the 'Add port' button](/assets/images/help/codespaces/add-port-button.png)


1. Type the port number or address, then press enter.	1. Type the port number or address, then press enter.


   ![Text box to type port button](/assets/images/help/codespaces/port-number-text-box.png)	   ![Screenshot of entering a port number](/assets/images/help/codespaces/port-number-text-box.png)


{% data reusables.codespaces.port-forwarding-sharing-non-jetbrains %}	{% data reusables.codespaces.port-forwarding-sharing-non-jetbrains %}

{% data reusables.codespaces.navigate-to-ports-tab %}	{% data reusables.codespaces.navigate-to-ports-tab %}
1. Right click the port that you want to share, select the "Port Visibility" menu, then click **Private to Organization** or **Public**.	1. Right-click the port that you want to share, click **Port Visibility**, then click **Private to Organization** or **Public**.
  ![Option to make port public in right-click menu](/assets/images/help/codespaces/make-public-option.png)	
   ![Screenshot of the option to make a port public in the right-click menu](/assets/images/help/codespaces/make-public-option.png)

1. To the right of the local address for the port, click the copy icon.	1. To the right of the local address for the port, click the copy icon.
  ![Copy icon for port URL](/assets/images/help/codespaces/copy-icon-port-url.png)	
   ![Screenshot of the copy icon for the port URL](/assets/images/help/codespaces/copy-icon-port-url.png)

1. Send the copied URL to the person you want to share the port with.	1. Send the copied URL to the person you want to share the port with.


{% data reusables.codespaces.using-tools-to-access-ports-1 %}
{% data reusables.codespaces.find-address-and-token %}
{% data reusables.codespaces.using-tools-to-access-ports-2 %}
{% data reusables.codespaces.port-forwarding-labeling-non-jetbrains %}	{% data reusables.codespaces.port-forwarding-labeling-non-jetbrains %}
{% data reusables.codespaces.port-forwarding-adding-non-jetbrains %}	{% data reusables.codespaces.port-forwarding-adding-non-jetbrains %}


@@ -118,6 +134,42 @@ gh codespace ports visibility 80:private 3000:public 3306:org


For more information about this command, see [the {% data variables.product.prodname_cli %} manual](https://cli.github.com/manual/gh_codespace_ports_visibility).	For more information about this command, see [the {% data variables.product.prodname_cli %} manual](https://cli.github.com/manual/gh_codespace_ports_visibility).


{% data reusables.codespaces.using-tools-to-access-ports-1 %}

### Finding the address to connect to

To find the address for a forwarded port, enter `gh codespace ports`. If you have more than one codespace, select the appropriate codespace from the list that's displayed.

Copy the address and paste it somewhere for later use.

### Finding the GITHUB_TOKEN

1. Start an SSH session for your codespace.

   ```
   gh codespace ssh
   ```

1. If you have more than one codespace, select the appropriate codespace from the list that's displayed.
1. Display the `GITHUB_TOKEN`.

   ```
   echo $GITHUB_TOKEN
   ```

   The token is a string beginning `ghu_`.

1. Copy the token.

   Don't share this access token with anyone.

1. Exit the SSH session.

   ```
   exit
   ```

{% data reusables.codespaces.using-tools-to-access-ports-2 %}
{% data reusables.codespaces.port-forwarding-labeling-non-jetbrains %}	{% data reusables.codespaces.port-forwarding-labeling-non-jetbrains %}


You can see the port labels when you list the forwarded ports for a codespace. To do this, use the `gh codespace ports` command and then select a codespace.	You can see the port labels when you list the forwarded ports for a codespace. To do this, use the `gh codespace ports` command and then select a codespace.
  16  
content/codespaces/index.md
@@ -7,24 +7,24 @@ introLinks:
  quickstart: /codespaces/getting-started/quickstart	  quickstart: /codespaces/getting-started/quickstart
featuredLinks:	featuredLinks:
  guides:	  guides:
    - /codespaces/managing-codespaces-for-your-organization/enabling-codespaces-for-your-organization	    - /codespaces/managing-codespaces-for-your-organization/enabling-github-codespaces-for-your-organization
    - /codespaces/getting-started/the-codespace-lifecycle	    - /codespaces/getting-started/the-codespace-lifecycle
    - /codespaces/setting-up-your-codespace/configuring-codespaces-for-your-project	    - /codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/introduction-to-dev-containers
    - /codespaces/managing-your-codespaces/managing-repository-access-for-your-codespaces	    - /codespaces/managing-your-codespaces/managing-repository-access-for-your-codespaces
    - /billing/managing-billing-for-github-codespaces/about-billing-for-codespaces	    - /billing/managing-billing-for-github-codespaces/about-billing-for-github-codespaces
  guideCards:	  guideCards:
    - /codespaces/getting-started/deep-dive	    - /codespaces/getting-started/deep-dive
    - /codespaces/developing-in-codespaces/creating-a-codespace-for-a-repository	    - /codespaces/developing-in-codespaces/creating-a-codespace-for-a-repository
    - /codespaces/developing-in-codespaces/creating-a-codespace-from-a-template	    - /codespaces/developing-in-codespaces/creating-a-codespace-from-a-template
    - /codespaces/developing-in-codespaces/opening-an-existing-codespace	    - /codespaces/developing-in-codespaces/opening-an-existing-codespace
    - /codespaces/setting-up-your-codespace/personalizing-codespaces-for-your-account	    - /codespaces/customizing-your-codespace/personalizing-github-codespaces-for-your-account
    - /codespaces/developing-in-codespaces/using-github-codespaces-in-visual-studio-code	    - /codespaces/developing-in-codespaces/using-github-codespaces-in-visual-studio-code
    - /codespaces/developing-in-codespaces/using-github-codespaces-in-your-jetbrains-ide	    - /codespaces/developing-in-codespaces/using-github-codespaces-in-your-jetbrains-ide
  popular:	  popular:
    - /codespaces/getting-started-with-codespaces/getting-started-with-your-nodejs-project-in-codespaces	    - /codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-nodejs-project-for-codespaces
    - /codespaces/getting-started-with-codespaces/getting-started-with-your-python-project-in-codespaces	    - /codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-python-project-for-codespaces
    - /codespaces/getting-started-with-codespaces/getting-started-with-your-java-project-in-codespaces	    - /codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-java-project-for-codespaces
    - /codespaces/getting-started-with-codespaces/getting-started-with-your-dotnet-project	    - /codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/setting-up-your-dotnet-project-for-codespaces
  popularHeading: Set up your project	  popularHeading: Set up your project
changelog:	changelog:
  label: codespaces	  label: codespaces
  6  
content/codespaces/overview.md
@@ -21,9 +21,11 @@ topics:


A codespace is a development environment that's hosted in the cloud. You can customize your project for {% data variables.product.prodname_github_codespaces %} by committing [configuration files](/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/introduction-to-dev-containers) to your repository (often known as Configuration-as-Code), which creates a repeatable codespace configuration for all users of your project.	A codespace is a development environment that's hosted in the cloud. You can customize your project for {% data variables.product.prodname_github_codespaces %} by committing [configuration files](/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/introduction-to-dev-containers) to your repository (often known as Configuration-as-Code), which creates a repeatable codespace configuration for all users of your project.


Each codespace runs on a virtual machine hosted by {% data variables.product.prodname_dotcom %}. You can choose the type of machine you want to use, depending on the resources you need. Various types of machine are available, starting with a 2-core processor, 4 GB of RAM, and 32 GB of storage.	Each codespace you create is hosted by {% data variables.product.prodname_dotcom %} in a Docker container, running on a virtual machine. You can choose from a selection of virtual machine types, from 2 cores, 8 GB RAM, and 32 GB storage, up to 32 cores, 64 GB RAM, and 128 GB storage. 


You can connect to your codespaces from your browser, from {% data variables.product.prodname_vscode %}, from the JetBrains Gateway application, or by using {% data variables.product.prodname_cli %}.	By default, codespaces are created from an Ubuntu Linux image that includes a selection of popular languages and tools, but you can use an image based on a Linux distribution of your choice and configure it for your particular requirements. Regardless of your local operating system, your codespace will run in a Linux environment. Windows and MacOS are not supported operating systems for the remote container.

You can connect to your codespaces from your browser, from {% data variables.product.prodname_vscode %}, from the JetBrains Gateway application, or by using {% data variables.product.prodname_cli %}. When you connect, you are placed within the Docker container. You do not have access to the outer Linux virtual machine host.


![A diagram showing how {% data variables.product.prodname_github_codespaces %} works](/assets/images/help/codespaces/codespaces-diagram.png)	![A diagram showing how {% data variables.product.prodname_github_codespaces %} works](/assets/images/help/codespaces/codespaces-diagram.png)


  4  
content/codespaces/troubleshooting/troubleshooting-github-codespaces-clients.md
@@ -43,6 +43,8 @@ Click {% octicon "gear" aria-label="The manage icon" %} in the bottom left of th


If the problem isn't fixed in {% data variables.product.prodname_vscode %} Stable, check for known issues and, if required, log a new issue with the {% data variables.product.prodname_vscode_shortname %} experience, in the [`microsoft/vscode`](https://github.com/microsoft/vscode/issues?q=is%3Aissue+is%3Aopen+codespaces) repository.	If the problem isn't fixed in {% data variables.product.prodname_vscode %} Stable, check for known issues and, if required, log a new issue with the {% data variables.product.prodname_vscode_shortname %} experience, in the [`microsoft/vscode`](https://github.com/microsoft/vscode/issues?q=is%3Aissue+is%3Aopen+codespaces) repository.


{% data reusables.codespaces.troubleshooting-simple-browser %}

{% endwebui %}	{% endwebui %}


{% vscode %}	{% vscode %}
@@ -63,6 +65,8 @@ To switch to {% data variables.product.prodname_vscode %} Stable, close the {% d


If the problem isn't fixed in {% data variables.product.prodname_vscode %} Stable, check for known issues and, if required, log a new issue with the {% data variables.product.prodname_vscode_shortname %} experience, in the [`microsoft/vscode`](https://github.com/microsoft/vscode/issues?q=is%3Aissue+is%3Aopen+codespaces) repository.	If the problem isn't fixed in {% data variables.product.prodname_vscode %} Stable, check for known issues and, if required, log a new issue with the {% data variables.product.prodname_vscode_shortname %} experience, in the [`microsoft/vscode`](https://github.com/microsoft/vscode/issues?q=is%3Aissue+is%3Aopen+codespaces) repository.


{% data reusables.codespaces.troubleshooting-simple-browser %}

{% endvscode %}	{% endvscode %}


{% jetbrains %}	{% jetbrains %}
 165  
content/developers/apps/building-github-apps/authenticating-with-github-apps.md
Large diffs are not rendered by default.

  6  
content/developers/apps/getting-started-with-apps/about-apps.md
@@ -76,12 +76,12 @@ For more on {% data variables.product.prodname_oauth_apps %}, see "[Creating an


A [{% data variables.product.pat_generic %}](/articles/creating-a-personal-access-token-for-the-command-line/) is a string of characters that functions similarly to an [OAuth token](/apps/building-oauth-apps/authorizing-oauth-apps/) in that you can specify its permissions via [scopes](/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/). A {% data variables.product.pat_generic %} is also similar to a password, but you can have many of them and you can revoke access to each one at any time.	A [{% data variables.product.pat_generic %}](/articles/creating-a-personal-access-token-for-the-command-line/) is a string of characters that functions similarly to an [OAuth token](/apps/building-oauth-apps/authorizing-oauth-apps/) in that you can specify its permissions via [scopes](/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/). A {% data variables.product.pat_generic %} is also similar to a password, but you can have many of them and you can revoke access to each one at any time.


As an example, you can enable a {% data variables.product.pat_generic %} to write to your repositories. If then you run a cURL command or write a script that [creates an issue](/rest/reference/issues#create-an-issue) in your repository, you would pass the {% data variables.product.pat_generic %} to authenticate. You can store the {% data variables.product.pat_generic %} as an environment variable to avoid typing it every time you use it.	As an example, you can enable a {% data variables.product.pat_generic %} to write to your repositories. If then you run a `curl` command or write a script that [creates an issue](/rest/reference/issues#create-an-issue) in your repository, you would pass the {% data variables.product.pat_generic %} to authenticate. You can store the {% data variables.product.pat_generic %} as an environment variable to avoid typing it every time you use it.


Keep these ideas in mind when using {% data variables.product.pat_generic %}s:	Keep these ideas in mind when using {% data variables.product.pat_generic %}s:


* Remember to use this token to represent yourself only.	* Remember to use this token to represent yourself only.
* You can perform one-off cURL requests.	* You can perform one-off `curl` requests.
* You can run personal scripts.	* You can run personal scripts.
* Don't set up a script for your whole team or company to use.	* Don't set up a script for your whole team or company to use.
* Don't set up a shared personal account to act as a bot user.	* Don't set up a shared personal account to act as a bot user.
@@ -99,7 +99,7 @@ Consider these questions about how your integration needs to behave and what it
* Will my integration act only as me, or will it act more like an application?	* Will my integration act only as me, or will it act more like an application?
* Do I want it to act independently of me as its own entity?	* Do I want it to act independently of me as its own entity?
* Will it access everything that I can access, or do I want to limit its access?	* Will it access everything that I can access, or do I want to limit its access?
* Is it simple or complex? For example, {% data variables.product.pat_generic %}s are good for simple scripts and cURLs, whereas an {% data variables.product.prodname_oauth_app %} can handle more complex scripting.	* Is it simple or complex? For example, {% data variables.product.pat_generic %}s are good for simple scripts and `curl` commands, whereas an {% data variables.product.prodname_oauth_app %} can handle more complex scripting.


## Requesting support	## Requesting support


  2  
content/developers/apps/guides/using-content-attachments.md
@@ -106,7 +106,7 @@ mutation {
  }	  }
}	}
```	```
Example cURL:	Example `curl` command:


```shell	```shell
curl -X "POST" "{% data variables.product.api_url_code %}/graphql" \	curl -X "POST" "{% data variables.product.api_url_code %}/graphql" \
  4  
content/graphql/guides/forming-calls-with-graphql.md
@@ -47,11 +47,11 @@ The endpoint remains constant no matter what operation you perform.


## Communicating with GraphQL	## Communicating with GraphQL


Because GraphQL operations consist of multiline JSON, GitHub recommends using the [Explorer](/graphql/guides/using-the-explorer) to make GraphQL calls. You can also use cURL or any other HTTP-speaking library.	Because GraphQL operations consist of multiline JSON, GitHub recommends using the [Explorer](/graphql/guides/using-the-explorer) to make GraphQL calls. You can also use `curl` or any other HTTP-speaking library.


In REST, [HTTP verbs](/rest#http-verbs) determine the operation performed. In GraphQL, you'll provide a JSON-encoded body whether you're performing a query or a mutation, so the HTTP verb is `POST`. The exception is an [introspection query](/graphql/guides/introduction-to-graphql#discovering-the-graphql-api), which is a simple `GET` to the endpoint. For more information on GraphQL versus REST, see "[Migrating from REST to GraphQL](/graphql/guides/migrating-from-rest-to-graphql)."	In REST, [HTTP verbs](/rest#http-verbs) determine the operation performed. In GraphQL, you'll provide a JSON-encoded body whether you're performing a query or a mutation, so the HTTP verb is `POST`. The exception is an [introspection query](/graphql/guides/introduction-to-graphql#discovering-the-graphql-api), which is a simple `GET` to the endpoint. For more information on GraphQL versus REST, see "[Migrating from REST to GraphQL](/graphql/guides/migrating-from-rest-to-graphql)."


To query GraphQL using cURL, make a `POST` request with a JSON payload. The payload must contain a string called `query`:	To query GraphQL in a `curl` command, make a `POST` request with a JSON payload. The payload must contain a string called `query`:


```shell	```shell
curl -H "Authorization: bearer TOKEN" -X POST -d " \	curl -H "Authorization: bearer TOKEN" -X POST -d " \
  2  
content/graphql/guides/migrating-graphql-global-node-ids.md
@@ -28,7 +28,7 @@ Additionally, if you currently decode the legacy IDs to extract type information


To facilitate migration to the new ID format, you can use the `X-Github-Next-Global-ID` header in your GraphQL API requests. The value of the `X-Github-Next-Global-ID` header can be `1` or `0`.  Setting the value to `1` will force the response payload to always use the new ID format for any object that you requested the `id` field for.  Setting the value to `0` will revert to default behavior, which is to show the legacy ID or new ID depending on the object creation date. 	To facilitate migration to the new ID format, you can use the `X-Github-Next-Global-ID` header in your GraphQL API requests. The value of the `X-Github-Next-Global-ID` header can be `1` or `0`.  Setting the value to `1` will force the response payload to always use the new ID format for any object that you requested the `id` field for.  Setting the value to `0` will revert to default behavior, which is to show the legacy ID or new ID depending on the object creation date. 


Here is an example request using cURL:	Here is an example request using a `curl` command:


```	```
$ curl \	$ curl \
  2  
content/graphql/guides/using-the-explorer.md
@@ -88,7 +88,7 @@ variables {
}	}
```	```


This is the correct format to submit the call via a cURL `POST` (as long as you [escape newlines](/graphql/guides/forming-calls-with-graphql#communicating-with-graphql)).	This is the correct format to submit the call using a `POST` request in a `curl` command (as long as you [escape newlines](/graphql/guides/forming-calls-with-graphql#communicating-with-graphql)).


If you want to run the call in the Explorer, enter the `query` segment in the main pane and the variables in the **Query Variables** pane below it. Omit the word `variables` from the Explorer:	If you want to run the call in the Explorer, enter the `query` segment in the main pane and the variables in the **Query Variables** pane below it. Omit the word `variables` from the Explorer:


 58  
...nd-tracking-with-projects/automating-your-project/adding-items-automatically.md
@@ -0,0 +1,58 @@
---
title: Adding items automatically
intro: "You can configure your project to automatically add items from a repository that match a filter."
miniTocMaxHeadingLevel: 3
versions:
  feature: projects-v2-auto-add
type: tutorial
product: "The auto-add workflow is available as a beta release for projects owned by organizations using {% data variables.product.prodname_ghe_cloud %}."
topics:
  - Projects
---

## About automatically adding items

You can configure your project's built-in workflows to automatically add new items as they are created or updated in a repository. You can define a filter to only add items that meet your criteria.

When you enable the auto-add workflow, existing items matching your criteria will not be added. The workflow will add items when created or updated if the item matches your filter. For more information on manually adding items, see "[Bulk adding issues and pull requests](/issues/planning-and-tracking-with-projects/managing-items-in-your-project/adding-items-to-your-project#bulk-adding-issues-and-pull-requests)."

The auto-add workflow supports a subset of filters. You can use the following filters when configuring your workflow.

| Qualifier | Possible values
| --- | --- | --- |
| `is` | open, closed, merged, draft, issue, pr
| `label` | "label name"
| `reason` | completed, reopened, "not planned"
| `assignee` | {% data variables.product.product_name %} username
| `no` | label, assignee, reason

All filters, other than `no`, support negation. For example, you could use `-label:bug` to add issues that do not have the "bug" label.

## Configuring the auto-add workflow in your project

{% data reusables.projects.access-workflows %}
1. In the "Default workflows" list, click **Auto-add to project**.

   ![Screenshot showing auto-add workflow](/assets/images/help/projects-v2/workflow-autoadd.png)

1. To start editing the workflow, in the top right, click **Edit**.

   ![Screenshot showing edit button](/assets/images/help/projects-v2/workflow-start-editing.png)

1. Under "Filters", select the repository you want to add items from.

   ![Screenshot showing repository select](/assets/images/help/projects-v2/workflow-autoadd-repo.png)

1. Next to the repository selection, type the filter criteria you want items to match before they are automatically added to your project.

   ![Screenshot showing repository select](/assets/images/help/projects-v2/workflow-autoadd-filter.png)

1. To enable the new workflow, click **Save and turn on workflow**.

   ![Screenshot showing autoadd workflows](/assets/images/help/projects-v2/workflow-save-and-turn-on.png)


## Further reading

* "[Archiving items from your project](/issues/planning-and-tracking-with-projects/managing-items-in-your-project/archiving-items-from-your-project)"
* "[Using the built-in automations](/issues/planning-and-tracking-with-projects/automating-your-project/using-the-built-in-automations)"
  2  
...ent/issues/planning-and-tracking-with-projects/automating-your-project/index.md
@@ -11,7 +11,7 @@ children:
  - /using-the-built-in-automations	  - /using-the-built-in-automations
  - /using-the-api-to-manage-projects	  - /using-the-api-to-manage-projects
  - /automating-projects-using-actions	  - /automating-projects-using-actions
  - /adding-items-automatically
  - /archiving-items-automatically	  - /archiving-items-automatically
allowTitleToDifferFromFilename: true	allowTitleToDifferFromFilename: true
---	---

  4  
...cking-with-projects/automating-your-project/using-the-api-to-manage-projects.md
@@ -15,13 +15,11 @@ allowTitleToDifferFromFilename: true


This article demonstrates how to use the GraphQL API to manage a project. For more information about how to use the API in a {% data variables.product.prodname_actions %} workflow, see "[Automating {% data variables.product.prodname_projects_v2 %} using Actions](/issues/planning-and-tracking-with-projects/automating-your-project/automating-projects-using-actions)." For a full list of the available data types, see "[Reference](/graphql/reference)."	This article demonstrates how to use the GraphQL API to manage a project. For more information about how to use the API in a {% data variables.product.prodname_actions %} workflow, see "[Automating {% data variables.product.prodname_projects_v2 %} using Actions](/issues/planning-and-tracking-with-projects/automating-your-project/automating-projects-using-actions)." For a full list of the available data types, see "[Reference](/graphql/reference)."


{% data reusables.projects.graphql-deprecation %}	

## Authentication	## Authentication


{% curl %}	{% curl %}


In all of the following cURL examples, replace `TOKEN` with a token that has the `read:project` scope (for queries) or `project` scope (for queries and mutations). The token can be a {% data variables.product.pat_v1 %} for a user or an installation access token for a {% data variables.product.prodname_github_app %}. For more information about creating a {% data variables.product.pat_generic %}, see "[Creating a {% data variables.product.pat_generic %}](/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token)." For more information about creating an installation access token for a {% data variables.product.prodname_github_app %}, see "[Authenticating with {% data variables.product.prodname_github_apps %}](/developers/apps/building-github-apps/authenticating-with-github-apps#authenticating-as-a-github-app)."	In all of the following `curl` command examples, replace `TOKEN` with a token that has the `read:project` scope (for queries) or `project` scope (for queries and mutations). The token can be a {% data variables.product.pat_v1 %} for a user or an installation access token for a {% data variables.product.prodname_github_app %}. For more information about creating a {% data variables.product.pat_generic %}, see "[Creating a {% data variables.product.pat_generic %}](/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token)." For more information about creating an installation access token for a {% data variables.product.prodname_github_app %}, see "[Authenticating with {% data variables.product.prodname_github_apps %}](/developers/apps/building-github-apps/authenticating-with-github-apps#authenticating-as-a-github-app)."


{% endcurl %}	{% endcurl %}


  6  
...racking-with-projects/automating-your-project/using-the-built-in-automations.md
@@ -16,7 +16,11 @@ topics:


{% endnote %}	{% endnote %}


{% data reusables.projects.about-workflows %}	{% data variables.product.prodname_projects_v2 %} includes built-in workflows that you can use to update the **Status** of items based on certain events. For example, you can automatically set the status to **Todo** when an item is added to your project or set the status to **Done** when an issue is closed.

When your project initializes, two workflows are enabled by default: When issues or pull requests in your project are closed, their status is set to **Done**, and when pull requests in your project are merged, their status is set to **Done**.

{% ifversion projects-v2-auto-archive %}You can also configure {% ifversion projects-v2-auto-add %}workflows{% else %}a workflow{% endif %} to automatically archive items when they meet set criteria{% ifversion projects-v2-auto-add %} and to automatically add items from a repository when they match a filter{% endif %}. For more information, see "[Archiving items automatically](/issues/planning-and-tracking-with-projects/automating-your-project/archiving-items-automatically){% ifversion projects-v2-auto-add %}" and "[Adding items automatically](/issues/planning-and-tracking-with-projects/automating-your-project/adding-items-automatically){% endif %}."{% endif %}


You can enable or disable the built-in workflows for your project.	You can enable or disable the built-in workflows for your project.


 45  
...ing-and-tracking-with-projects/creating-projects/copying-an-existing-project.md
@@ -0,0 +1,45 @@
---
title: 'Copying an existing {% data variables.projects.project_v2 %}'
shortTitle: 'Copying a project'
intro: You can use an existing project as a template by copying it.
miniTocMaxHeadingLevel: 3
versions:
  feature: projects-v2-copy-a-project
type: tutorial
topics:
  - Projects
allowTitleToDifferFromFilename: true
---

## About copying projects

You can copy an existing project and use it as a template to save time configuring your views and custom fields.

When you copy a project, the new project will contain the same views and custom fields. You also have the option to copy existing draft issues. The new project will not contain the original project's items, workflows, insights, collaborators, or team and repository links.

## Copying an existing project

1. Navigate to the project you want to copy.
1. In the top-right, click {% octicon "kebab-horizontal" aria-label="The menu icon" %} to open the menu.

  ![Screenshot showing the menu icon](/assets/images/help/projects-v2/open-menu.png)

1. In the menu, click {% octicon "copy" aria-label="The copy icon" %} **Make a copy**.

  ![Screenshot showing the 'Make a copy' menu item](/assets/images/help/projects-v2/make-a-copy.png)

1. Optionally, if you want all draft issues to be copied with the project, select **Include draft issues**.

  ![Screenshot showing the checkbox for including draft issues](/assets/images/help/projects-v2/copy-include-drafts.png)

1. In the dialog, under "Owner", select either the organization that will own the new project or your personal account.

  ![Screenshot showing the owner field](/assets/images/help/projects-v2/copy-owner.png)

1. Under "New project name", type the name of the new project.

  ![Screenshot showing the project name field](/assets/images/help/projects-v2/copy-name.png)

1. Click **Copy project**.

  ![Screenshot showing the "Copy project" button](/assets/images/help/projects-v2/copy-submit.png)
  6  
...ues/planning-and-tracking-with-projects/creating-projects/creating-a-project.md
@@ -14,6 +14,12 @@ allowTitleToDifferFromFilename: true


{% data variables.product.prodname_projects_v2 %} are an adaptable collection of items that stay up-to-date with {% data variables.product.company_short %} data. Your projects can track issues, pull requests, and ideas that you note down. You can add custom fields and create views for specific purposes.	{% data variables.product.prodname_projects_v2 %} are an adaptable collection of items that stay up-to-date with {% data variables.product.company_short %} data. Your projects can track issues, pull requests, and ideas that you note down. You can add custom fields and create views for specific purposes.


{% ifversion projects-v2-copy-a-project %}

You can also choose to use an existing project as a template and copy the views and custom fields to a new project. For more information, see "[Copying an existing project](/issues/planning-and-tracking-with-projects/creating-projects/copying-an-existing-project)."

{% endif %}

## Creating a project	## Creating a project


### Creating an organization project	### Creating an organization project
  2  
content/issues/planning-and-tracking-with-projects/creating-projects/index.md
@@ -9,7 +9,7 @@ topics:
  - Projects	  - Projects
children:	children:
  - /creating-a-project	  - /creating-a-project
  - /copying-an-existing-project
  - /migrating-from-projects-classic	  - /migrating-from-projects-classic
allowTitleToDifferFromFilename: true	allowTitleToDifferFromFilename: true
---	---

  6  
...s/planning-and-tracking-with-projects/learning-about-projects/about-projects.md
@@ -30,6 +30,12 @@ You can use custom fields to add metadata to your issues, pull requests, and dra
- A text field to add a quick note.	- A text field to add a quick note.
- An iteration field to plan work week-by-week, including support for breaks.	- An iteration field to plan work week-by-week, including support for breaks.


### Automating your projects

There are a number of ways you can add automation to your project. Built-in workflows allow you to automatically set fields when items are added or changed{% ifversion projects-v2-auto-archive %}, and you can also configure your project to automatically archive items when they meet certain criteria{% ifversion projects-v2-auto-add %} and automatically add items from a repository when they match set criteria{% endif %}{% endif %}. For more information, see "[Using the built-in automations](/issues/planning-and-tracking-with-projects/automating-your-project/using-the-built-in-automations)."

You can also use the GraphQL API and {% data variables.product.prodname_actions %} to take even greater control of your project. For more information, see "[Using the API to manage Projects](/issues/planning-and-tracking-with-projects/automating-your-project/using-the-api-to-manage-projects)" and "[Automating Projects using Actions](/issues/planning-and-tracking-with-projects/automating-your-project/automating-projects-using-actions)."

{% ifversion projects-v2-tasklists %}	{% ifversion projects-v2-tasklists %}


### Exploring the relationships between issues	### Exploring the relationships between issues
 5  
...d-tracking-with-projects/learning-about-projects/best-practices-for-projects.md
 29  
...g-and-tracking-with-projects/learning-about-projects/quickstart-for-projects.md
 22  
...ng-with-projects/managing-items-in-your-project/adding-items-to-your-project.md
 6  
content/organizations/index.md
 13  
...settings-for-your-organization/reviewing-the-audit-log-for-your-organization.md
 15  
.../managing-membership-in-your-organization/adding-people-to-your-organization.md
 17  
...ur-organization/canceling-or-editing-an-invitation-to-join-your-organization.md
 13  
...ing-membership-in-your-organization/inviting-users-to-join-your-organization.md
 10  
...zing-members-into-teams/synchronizing-a-team-with-an-identity-provider-group.md
 8  
...ckages/working-with-a-github-packages-registry/working-with-the-npm-registry.md
 2  
content/pages/getting-started-with-github-pages/about-github-pages.md
 8  
content/rest/enterprise-admin/index.md
 16  
content/rest/guides/getting-started-with-the-rest-api.md
 5  
content/rest/overview/other-authentication-methods.md
 5  
content/rest/overview/permissions-required-for-github-apps.md
 2  
content/rest/overview/resources-in-the-rest-api.md
 16  
content/rest/quickstart.md
 2  
content/rest/search.md
 11  
content/support/contacting-github-support/viewing-and-updating-support-tickets.md
 41  
contributing/content-model.md
 2  
contributing/content-style-guide.md
 7  
data/features/dependabot-filter-label-security-advisory.yml
 6  
data/features/enterprise-manage-organization-members.yml
 7  
data/features/organization-invitation-enhancements.yml
 4  
data/features/projects-v2-auto-add.yml
 4  
data/features/projects-v2-copy-a-project.yml
 7  
data/features/query-pack-compatibility.yml
 7  
data/features/secret-scanning-validity-check.yml
 15  
data/graphql/ghae/schema.docs-ghae.graphql
 10  
data/graphql/ghec/schema.docs.graphql
 10  
data/graphql/schema.docs.graphql
 2  
data/release-notes/enterprise-server/3-3/16.yml
 2  
data/release-notes/enterprise-server/3-4/11.yml
 2  
data/release-notes/enterprise-server/3-5/8.yml
 2  
data/release-notes/enterprise-server/3-6/4.yml
 1  
data/release-notes/enterprise-server/3-7/1.yml
 9  
data/reusables/code-scanning/beta-kotlin-support.md
 8  
data/reusables/code-scanning/beta-ruby-support.md
 10  
data/reusables/codeql-cli/advanced-query-execution.md
 5  
data/reusables/codeql-cli/beta-note-package-management.md
 5  
data/reusables/codeql-cli/codeql-site-migration-note.md
 9  
data/reusables/codeql-cli/test-qlpack.md
 19  
data/reusables/codespaces/find-address-and-token.md
 6  
data/reusables/codespaces/navigate-to-ports-tab.md
 49  
data/reusables/codespaces/troubleshooting-simple-browser.md
 13  
data/reusables/codespaces/using-tools-to-access-ports-1.md
 23  
data/reusables/codespaces/using-tools-to-access-ports-2.md
 2  
data/reusables/dependabot/supported-package-managers.md
 1  
data/reusables/dependency-graph/feature-availability.md
 3  
data/reusables/gated-features/codeql.md
 2  
data/reusables/identity-and-permissions/about-team-sync.md
 2  
data/reusables/identity-and-permissions/supported-idps-team-sync.md
 3  
data/reusables/organizations/invite_member_from_people_tab.md
 8  
data/reusables/organizations/people.md
 19  
data/reusables/organizations/retrying-or-deleting-expired-invitations.md
 2  
data/reusables/pages/wildcard-dns-warning.md
 3  
data/reusables/projects/about-workflows.md
This file was deleted.

 5  
data/reusables/projects/graphql-deprecation.md
This file was deleted.

 2  
lib/all-tools.js
 14  
lib/graphql/static/changelog.json
 20  
lib/graphql/static/schema-dotcom.json
 28  
lib/graphql/static/schema-ghae.json
 20  
lib/graphql/static/schema-ghec.json
 2  
middleware/helmet.js
 82  
script/rest/utils/get-body-params.js
 1  
tests/meta/repository-references.js
 3  
tests/translations/frame.js
0 comments on commit ab4e795
@zakwarlord7
 
Add heading textAdd bold text, <Ctrl+b>Add italic text, <Ctrl+i>
Add a quote, <Ctrl+Shift+.>Add code, <Ctrl+e>Add a link, <Ctrl+k>
Add a bulleted list, <Ctrl+Shift+8>Add a numbered list, <Ctrl+Shift+7>Add a task list, <Ctrl+Shift+l>
Directly mention a user or team
Reference an issue, pull request, or discussion
Add saved reply
Leave a comment
No file chosen
Attach files by dragging & dropping, selecting or pasting them.
Styling with Markdown is supported
 You’re receiving notifications because you’re watching this repository.
Footer
© 2023 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Docs
Contact GitHub
Pricing
API
Training
Blog
About
Merge branch 'github:main' into main · zakwarlord7/GitHub-doc@ab4e795
